
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The Official Tutorial Archive™ of Nokogiri®">
      
      
        <meta name="author" content="Mike Dalessio">
      
      
        <link rel="canonical" href="https://nokogiri.org/index.html">
      
      
      
        <link rel="next" href="rdoc/index.html">
      
      
        
      
      
      <link rel="icon" href="images/nokogiri-serif-black.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44+insiders-4.53.14">
    
    
      
        <title>Nokogiri</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.12320a83.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CMenlo:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Menlo"}</style>
      
    
    
      <link rel="stylesheet" href="stylesheets/tidelift.css">
    
      <link rel="stylesheet" href="stylesheets/custom.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-BZR5RZN084"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-BZR5RZN084",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-BZR5RZN084",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="Nokogiri" />
<meta property="og:description" content="The Official Tutorial Archive™ of Nokogiri®" />
<meta property="og:image" content="https://nokogiri.org/assets/images/social/index.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://nokogiri.org/index.html" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="Nokogiri" />
<meta property="twitter:description" content="The Official Tutorial Archive™ of Nokogiri®" />
<meta property="twitter:image" content="https://nokogiri.org/assets/images/social/index.png" />
</head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#nokogiri" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Nokogiri" class="md-header__button md-logo" aria-label="Nokogiri" data-md-component="logo">
      
  <img src="images/nokogiri-serif-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Nokogiri
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/sparklemotion/nokogiri" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    sparklemotion/nokogiri
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="index.html" class="md-tabs__link">
        
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="rdoc/index.html" class="md-tabs__link">
        
  
    
  
  API

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="tutorials/installing_nokogiri.html" class="md-tabs__link">
          
  
  Support

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="tutorials/toc.html" class="md-tabs__link">
          
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="CHANGELOG.html" class="md-tabs__link">
          
  
  Changelog

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="CONTRIBUTING.html" class="md-tabs__link">
          
  
  About

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Nokogiri" class="md-nav__button md-logo" aria-label="Nokogiri" data-md-component="logo">
      
  <img src="images/nokogiri-serif-white.svg" alt="logo">

    </a>
    Nokogiri
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/sparklemotion/nokogiri" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    sparklemotion/nokogiri
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="index.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#guiding-principles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Guiding Principles
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Features Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Status
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#support-getting-help-and-reporting-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        Support, Getting Help, and Reporting Issues
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Support, Getting Help, and Reporting Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reading
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ask-for-help" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ask For Help
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report-a-bug" class="md-nav__link">
    <span class="md-ellipsis">
      
        Report A Bug
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-and-vulnerability-reporting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security and Vulnerability Reporting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semantic-versioning-policy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Semantic Versioning Policy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sponsorship" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sponsorship
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#native-gems-faster-more-reliable-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Native Gems: Faster, more reliable installation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-platforms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Supported Platforms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-installation-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Other Installation Options
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-nokogiri" class="md-nav__link">
    <span class="md-ellipsis">
      
        How To Use Nokogiri
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How To Use Nokogiri">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parsing-and-querying" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parsing and Querying
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encoding" class="md-nav__link">
    <span class="md-ellipsis">
      
        Encoding
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technical Overview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technical Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#guiding-principles_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Guiding Principles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cruby" class="md-nav__link">
    <span class="md-ellipsis">
      
        CRuby
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jruby" class="md-nav__link">
    <span class="md-ellipsis">
      
        JRuby
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Contributing
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-of-conduct" class="md-nav__link">
    <span class="md-ellipsis">
      
        Code of Conduct
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      
        License
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="License">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dependencies
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Authors
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="rdoc/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Support
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Support
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tutorials/installing_nokogiri.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Installing Nokogiri
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tidelift-landing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Nokogiri for Enterprise
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tutorials/getting_help.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Getting Help
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tutorials/security.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tutorials/more_resources.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    More Resources
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tutorials/toc.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Table of Contents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tutorials/parsing_an_html_xml_document.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Parsing an HTML/XML document
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tutorials/parsing_an_html5_document.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Parsing an HTML5 document
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tutorials/searching_a_xml_html_document.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Searching a XML/HTML document
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tutorials/modifying_an_html_xml_document.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Modifying an HTML/XML document
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tutorials/ensuring_well_formed_markup.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Ensuring well-formed markup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Changelog
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CHANGELOG.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="adr/2023-04-libxml-memory-management.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    2023-04 libxml Memory Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="adr/2022-12-darwin-symbol-resolution.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    2022-12 Darwin Symbol Resolution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    About
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CONTRIBUTING.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CODE_OF_CONDUCT.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Code of Conduct
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="SECURITY.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="LICENSE.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    License
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="LICENSE-DEPENDENCIES.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Dependencies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ROADMAP.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Roadmap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="privacy-policy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Privacy Policy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#guiding-principles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Guiding Principles
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Features Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Status
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#support-getting-help-and-reporting-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        Support, Getting Help, and Reporting Issues
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Support, Getting Help, and Reporting Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reading
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ask-for-help" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ask For Help
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report-a-bug" class="md-nav__link">
    <span class="md-ellipsis">
      
        Report A Bug
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-and-vulnerability-reporting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security and Vulnerability Reporting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semantic-versioning-policy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Semantic Versioning Policy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sponsorship" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sponsorship
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#native-gems-faster-more-reliable-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Native Gems: Faster, more reliable installation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-platforms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Supported Platforms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-installation-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Other Installation Options
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-nokogiri" class="md-nav__link">
    <span class="md-ellipsis">
      
        How To Use Nokogiri
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How To Use Nokogiri">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parsing-and-querying" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parsing and Querying
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encoding" class="md-nav__link">
    <span class="md-ellipsis">
      
        Encoding
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technical Overview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technical Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#guiding-principles_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Guiding Principles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cruby" class="md-nav__link">
    <span class="md-ellipsis">
      
        CRuby
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jruby" class="md-nav__link">
    <span class="md-ellipsis">
      
        JRuby
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Contributing
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-of-conduct" class="md-nav__link">
    <span class="md-ellipsis">
      
        Code of Conduct
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      
        License
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="License">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dependencies
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Authors
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<div><img src="https://nokogiri.org/images/nokogiri-serif-black.png" align="right"/></div>

<h1 id="nokogiri">Nokogiri<a class="headerlink" href="#nokogiri" title="Permanent link">&para;</a></h1>
<p>Nokogiri (鋸) makes it easy and painless to work with XML and HTML from Ruby. It provides a sensible, easy-to-understand API for <a href="https://nokogiri.org/tutorials/parsing_an_html_xml_document.html">reading</a>, writing, <a href="https://nokogiri.org/tutorials/modifying_an_html_xml_document.html">modifying</a>, and <a href="https://nokogiri.org/tutorials/searching_a_xml_html_document.html">querying</a> documents. It is fast and standards-compliant by relying on native parsers like libxml2, libgumbo, and xerces.</p>
<h2 id="guiding-principles">Guiding Principles<a class="headerlink" href="#guiding-principles" title="Permanent link">&para;</a></h2>
<p>Some guiding principles Nokogiri tries to follow:</p>
<ul>
<li>be secure-by-default by treating all documents as <strong>untrusted</strong> by default</li>
<li>be a <strong>thin-as-reasonable layer</strong> on top of the underlying parsers, and don't attempt to fix behavioral differences between the parsers</li>
</ul>
<h2 id="features-overview">Features Overview<a class="headerlink" href="#features-overview" title="Permanent link">&para;</a></h2>
<ul>
<li>DOM Parser for XML, HTML4, and HTML5</li>
<li>SAX Parser for XML and HTML4</li>
<li>Push Parser for XML and HTML4</li>
<li>Document search via XPath 1.0</li>
<li>Document search via CSS3 selectors, with some jquery-like extensions</li>
<li>XSD Schema validation</li>
<li>XSLT transformation</li>
<li>"Builder" DSL for XML and HTML documents</li>
</ul>
<h2 id="status">Status<a class="headerlink" href="#status" title="Permanent link">&para;</a></h2>
<p><a href="https://github.com/sparklemotion/nokogiri/actions/workflows/ci.yml"><img alt="Github Actions CI" src="https://github.com/sparklemotion/nokogiri/actions/workflows/ci.yml/badge.svg?branch=main" /></a>
<a href="https://ci.appveyor.com/project/flavorjones/nokogiri/branch/main"><img alt="Appveyor CI" src="https://ci.appveyor.com/api/projects/status/xj2pqwvlxwuwgr06/branch/main?svg=true" /></a></p>
<p><a href="https://rubygems.org/gems/nokogiri"><img alt="Gem Version" src="https://badge.fury.io/rb/nokogiri.svg" /></a>
<a href="https://docs.github.com/en/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/about-dependabot-security-updates#about-compatibility-scores"><img alt="SemVer compatibility" src="https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=nokogiri&amp;package-manager=bundler&amp;previous-version=1.11.7&amp;new-version=1.12.5" /></a></p>
<p><a href="https://bestpractices.coreinfrastructure.org/projects/5344"><img alt="CII Best Practices" src="https://bestpractices.coreinfrastructure.org/projects/5344/badge" /></a>
<a href="https://tidelift.com/subscription/pkg/rubygems-nokogiri?utm_source=rubygems-nokogiri&amp;utm_medium=referral&amp;utm_campaign=readme"><img alt="Tidelift dependencies" src="https://tidelift.com/badges/package/rubygems/nokogiri" /></a></p>
<h2 id="support-getting-help-and-reporting-issues">Support, Getting Help, and Reporting Issues<a class="headerlink" href="#support-getting-help-and-reporting-issues" title="Permanent link">&para;</a></h2>
<p>All official documentation is posted at <a href="https://nokogiri.org">https://nokogiri.org</a> (the source for which is at <a href="https://github.com/sparklemotion/nokogiri.org/">https://github.com/sparklemotion/nokogiri.org/</a>, and we welcome contributions).</p>
<h3 id="reading">Reading<a class="headerlink" href="#reading" title="Permanent link">&para;</a></h3>
<p>Your first stops for learning more about Nokogiri should be:</p>
<ul>
<li><a href="https://nokogiri.org/rdoc/index.html">API Documentation</a></li>
<li><a href="https://nokogiri.org/tutorials/toc.html">Tutorials</a></li>
<li>An excellent community-maintained <a href="https://github.com/sparklemotion/nokogiri/wiki/Cheat-sheet">Cheat Sheet</a></li>
</ul>
<h3 id="ask-for-help">Ask For Help<a class="headerlink" href="#ask-for-help" title="Permanent link">&para;</a></h3>
<p>There are a few ways to ask exploratory questions:</p>
<ul>
<li>The Nokogiri mailing list is active at <a href="https://groups.google.com/group/nokogiri-talk">https://groups.google.com/group/nokogiri-talk</a></li>
<li>Open an issue using the "Help Request" template at <a href="https://github.com/sparklemotion/nokogiri/issues">https://github.com/sparklemotion/nokogiri/issues</a></li>
<li>Open a discussion at <a href="https://github.com/sparklemotion/nokogiri/discussions">https://github.com/sparklemotion/nokogiri/discussions</a></li>
</ul>
<p>Please do not mail the maintainers at their personal addresses.</p>
<h3 id="report-a-bug">Report A Bug<a class="headerlink" href="#report-a-bug" title="Permanent link">&para;</a></h3>
<p>The Nokogiri bug tracker is at <a href="https://github.com/sparklemotion/nokogiri/issues">https://github.com/sparklemotion/nokogiri/issues</a></p>
<p>Please use the "Bug Report" or "Installation Difficulties" templates.</p>
<h3 id="security-and-vulnerability-reporting">Security and Vulnerability Reporting<a class="headerlink" href="#security-and-vulnerability-reporting" title="Permanent link">&para;</a></h3>
<p>Please report vulnerabilities at <a href="https://hackerone.com/nokogiri">https://hackerone.com/nokogiri</a></p>
<p>Full information and description of our security policy is in <a href="SECURITY.html"><code>SECURITY.md</code></a></p>
<h3 id="semantic-versioning-policy">Semantic Versioning Policy<a class="headerlink" href="#semantic-versioning-policy" title="Permanent link">&para;</a></h3>
<p>Nokogiri follows <a href="https://semver.org/">Semantic Versioning</a> (since 2017 or so). <a href="https://docs.github.com/en/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/about-dependabot-security-updates#about-compatibility-scores"><img alt="Dependabot's SemVer compatibility score for Nokogiri" src="https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=nokogiri&amp;package-manager=bundler&amp;previous-version=1.11.7&amp;new-version=1.12.5" /></a></p>
<p>We bump <code>Major.Minor.Patch</code> versions following this guidance:</p>
<p><code>Major</code>: (we've never done this)</p>
<ul>
<li>Significant backwards-incompatible changes to the public API that would require rewriting existing application code.</li>
<li>Some examples of backwards-incompatible changes we might someday consider for a Major release are at <a href="ROADMAP.html"><code>ROADMAP.md</code></a>.</li>
</ul>
<p><code>Minor</code>:</p>
<ul>
<li>Features and bugfixes.</li>
<li>Updating packaged libraries for non-security-related reasons.</li>
<li>Dropping support for EOLed Ruby versions. <a href="https://github.com/sparklemotion/nokogiri/issues/1568">Some folks find this objectionable</a>, but <a href="https://semver.org/#what-should-i-do-if-i-update-my-own-dependencies-without-changing-the-public-api">SemVer says this is OK if the public API hasn't changed</a>.</li>
<li>Backwards-incompatible changes to internal or private methods and constants. These are detailed in the "Changes" section of each changelog entry.</li>
<li>Removal of deprecated methods or parameters, after a generous transition period; usually when those methods or parameters are rarely-used or dangerous to the user. Essentially, removals that do not justify a major version bump.</li>
</ul>
<p><code>Patch</code>:</p>
<ul>
<li>Bugfixes.</li>
<li>Security updates.</li>
<li>Updating packaged libraries for security-related reasons.</li>
</ul>
<h3 id="sponsorship">Sponsorship<a class="headerlink" href="#sponsorship" title="Permanent link">&para;</a></h3>
<p>You can help sponsor the maintainers of this software through one of these organizations:</p>
<ul>
<li><a href="https://github.com/sponsors/flavorjones">github.com/sponsors/flavorjones</a></li>
<li><a href="https://opencollective.com/nokogiri">opencollective.com/nokogiri</a></li>
<li><a href="https://tidelift.com/subscription/pkg/rubygems-nokogiri?utm_source=rubygems-nokogiri&amp;utm_medium=referral&amp;utm_campaign=readme">tidelift.com/subscription/pkg/rubygems-nokogiri</a></li>
</ul>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<p>Requirements:</p>
<ul>
<li>Ruby &gt;= 3.0</li>
<li>JRuby &gt;= 9.4.0.0</li>
</ul>
<p>If you are compiling the native extension against a system version of libxml2:</p>
<ul>
<li>libxml2 &gt;= 2.9.2 (recommended &gt;= 2.12.0)</li>
</ul>
<h3 id="native-gems-faster-more-reliable-installation">Native Gems: Faster, more reliable installation<a class="headerlink" href="#native-gems-faster-more-reliable-installation" title="Permanent link">&para;</a></h3>
<p>"Native gems" contain pre-compiled libraries for a specific machine architecture. On supported platforms, this removes the need for compiling the C extension and the packaged libraries, or for system dependencies to exist. This results in <strong>much faster installation</strong> and <strong>more reliable installation</strong>, which as you probably know are the biggest headaches for Nokogiri users.</p>
<h3 id="supported-platforms">Supported Platforms<a class="headerlink" href="#supported-platforms" title="Permanent link">&para;</a></h3>
<p>Nokogiri ships pre-compiled, "native" gems for the following platforms:</p>
<ul>
<li>Linux:</li>
<li><code>x86-linux</code> and <code>x86_64-linux</code> (req: <code>glibc &gt;= 2.17</code>)</li>
<li><code>aarch64-linux</code> and <code>arm-linux</code> (req: <code>glibc &gt;= 2.29</code>)</li>
<li>Note that musl platforms like Alpine <strong>are</strong> supported</li>
<li>Darwin/MacOS: <code>x86_64-darwin</code> and <code>arm64-darwin</code></li>
<li>Windows: <code>x86-mingw32</code>, <code>x64-mingw32</code>, and <code>x64-mingw-ucrt</code></li>
<li>Java: any platform running JRuby 9.4 or higher</li>
</ul>
<p>To determine whether your system supports one of these gems, look at the output of <code>bundle platform</code> or <code>ruby -e 'puts Gem::Platform.local.to_s'</code>.</p>
<p>If you're on a supported platform, either <code>gem install</code> or <code>bundle install</code> should install a native gem without any additional action on your part. This installation should only take a few seconds, and your output should look something like:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>gem<span class="w"> </span>install<span class="w"> </span>nokogiri
Fetching<span class="w"> </span>nokogiri-1.11.0-x86_64-linux.gem
Successfully<span class="w"> </span>installed<span class="w"> </span>nokogiri-1.11.0-x86_64-linux
<span class="m">1</span><span class="w"> </span>gem<span class="w"> </span>installed
</code></pre></div>
<h3 id="other-installation-options">Other Installation Options<a class="headerlink" href="#other-installation-options" title="Permanent link">&para;</a></h3>
<p>Because Nokogiri is a C extension, it requires that you have a C compiler toolchain, Ruby development header files, and some system dependencies installed.</p>
<p>The following may work for you if you have an appropriately-configured system:</p>
<div class="highlight"><pre><span></span><code>gem<span class="w"> </span>install<span class="w"> </span>nokogiri
</code></pre></div>
<p>If you have any issues, please visit <a href="https://nokogiri.org/tutorials/installing_nokogiri.html">Installing Nokogiri</a> for more complete instructions and troubleshooting.</p>
<h2 id="how-to-use-nokogiri">How To Use Nokogiri<a class="headerlink" href="#how-to-use-nokogiri" title="Permanent link">&para;</a></h2>
<p>Nokogiri is a large library, and so it's challenging to briefly summarize it. We've tried to provide long, real-world examples at <a href="https://nokogiri.org/tutorials/toc.html">Tutorials</a>.</p>
<h3 id="parsing-and-querying">Parsing and Querying<a class="headerlink" href="#parsing-and-querying" title="Permanent link">&para;</a></h3>
<p>Here is example usage for parsing and querying a document:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#! /usr/bin/env ruby</span>

<span class="nb">require</span><span class="w"> </span><span class="s1">&#39;nokogiri&#39;</span>
<span class="nb">require</span><span class="w"> </span><span class="s1">&#39;open-uri&#39;</span>

<span class="c1"># Fetch and parse HTML document</span>
<span class="n">doc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Nokogiri</span><span class="o">::</span><span class="no">HTML</span><span class="p">(</span><span class="no">URI</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;https://nokogiri.org/tutorials/installing_nokogiri.html&#39;</span><span class="p">))</span>

<span class="c1"># Search for nodes by css</span>
<span class="n">doc</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s1">&#39;nav ul.menu li a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;article h2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">each</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="o">|</span><span class="n">link</span><span class="o">|</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="n">link</span><span class="o">.</span><span class="n">content</span>
<span class="k">end</span>

<span class="c1"># Search for nodes by xpath</span>
<span class="n">doc</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="s1">&#39;//nav//ul//li/a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;//article//h2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">each</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="o">|</span><span class="n">link</span><span class="o">|</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="n">link</span><span class="o">.</span><span class="n">content</span>
<span class="k">end</span>

<span class="c1"># Or mix and match</span>
<span class="n">doc</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;nav ul.menu li a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;//article//h2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">each</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="o">|</span><span class="n">link</span><span class="o">|</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="n">link</span><span class="o">.</span><span class="n">content</span>
<span class="k">end</span>
</code></pre></div>
<h3 id="encoding">Encoding<a class="headerlink" href="#encoding" title="Permanent link">&para;</a></h3>
<p>Strings are always stored as UTF-8 internally.  Methods that return
text values will always return UTF-8 encoded strings.  Methods that
return a string containing markup (like <code>to_xml</code>, <code>to_html</code> and
<code>inner_html</code>) will return a string encoded like the source document.</p>
<p><strong>WARNING</strong></p>
<p>Some documents declare one encoding, but actually use a different
one. In these cases, which encoding should the parser choose?</p>
<p>Data is just a stream of bytes. Humans add meaning to that stream. Any
particular set of bytes could be valid characters in multiple
encodings, so detecting encoding with 100% accuracy is not
possible. <code>libxml2</code> does its best, but it can't be right all the time.</p>
<p>If you want Nokogiri to handle the document encoding properly, your
best bet is to explicitly set the encoding.  Here is an example of
explicitly setting the encoding to EUC-JP on the parser:</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="n">doc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Nokogiri</span><span class="o">.</span><span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;foo&gt;&lt;bar /&gt;&lt;/foo&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="kp">nil</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;EUC-JP&#39;</span><span class="p">)</span>
</code></pre></div>
<h2 id="technical-overview">Technical Overview<a class="headerlink" href="#technical-overview" title="Permanent link">&para;</a></h2>
<h3 id="guiding-principles_1">Guiding Principles<a class="headerlink" href="#guiding-principles_1" title="Permanent link">&para;</a></h3>
<p>As noted above, two guiding principles of the software are:</p>
<ul>
<li>be secure-by-default by treating all documents as <strong>untrusted</strong> by default</li>
<li>be a <strong>thin-as-reasonable layer</strong> on top of the underlying parsers, and don't attempt to fix behavioral differences between the parsers</li>
</ul>
<p>Notably, despite all parsers being standards-compliant, there are behavioral inconsistencies between the parsers used in the CRuby and JRuby implementations, and Nokogiri does not and should not attempt to remove these inconsistencies. Instead, we surface these differences in the test suite when they are important/semantic; or we intentionally write tests to depend only on the important/semantic bits (omitting whitespace from regex matchers on results, for example).</p>
<h3 id="cruby">CRuby<a class="headerlink" href="#cruby" title="Permanent link">&para;</a></h3>
<p>The Ruby (a.k.a., CRuby, MRI, YARV) implementation is a C extension that depends on libxml2 and libxslt (which in turn depend on zlib and possibly libiconv).</p>
<p>These dependencies are met by default by Nokogiri's packaged versions of the libxml2 and libxslt source code, but a configuration option <code>--use-system-libraries</code> is provided to allow specification of alternative library locations. See <a href="https://nokogiri.org/tutorials/installing_nokogiri.html">Installing Nokogiri</a> for full documentation.</p>
<p>We provide native gems by pre-compiling libxml2 and libxslt (and potentially zlib and libiconv) and packaging them into the gem file. In this case, no compilation is necessary at installation time, which leads to faster and more reliable installation.</p>
<p>See <a href="LICENSE-DEPENDENCIES.html"><code>LICENSE-DEPENDENCIES.md</code></a> for more information on which dependencies are provided in which native and source gems.</p>
<h3 id="jruby">JRuby<a class="headerlink" href="#jruby" title="Permanent link">&para;</a></h3>
<p>The Java (a.k.a. JRuby) implementation is a Java extension that depends primarily on Xerces and NekoHTML for parsing, though additional dependencies are on <code>isorelax</code>, <code>nekodtd</code>, <code>jing</code>, <code>serializer</code>, <code>xalan-j</code>, and <code>xml-apis</code>.</p>
<p>These dependencies are provided by pre-compiled jar files packaged in the <code>java</code> platform gem.</p>
<p>See <a href="LICENSE-DEPENDENCIES.html"><code>LICENSE-DEPENDENCIES.md</code></a> for more information on which dependencies are provided in which native and source gems.</p>
<h2 id="contributing">Contributing<a class="headerlink" href="#contributing" title="Permanent link">&para;</a></h2>
<p>See <a href="CONTRIBUTING.html"><code>CONTRIBUTING.md</code></a> for an intro guide to developing Nokogiri.</p>
<h2 id="code-of-conduct">Code of Conduct<a class="headerlink" href="#code-of-conduct" title="Permanent link">&para;</a></h2>
<p>We've adopted the Contributor Covenant code of conduct, which you can read in full in <a href="CODE_OF_CONDUCT.html"><code>CODE_OF_CONDUCT.md</code></a>.</p>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link">&para;</a></h2>
<p>This project is licensed under the terms of the MIT license.</p>
<p>See this license at <a href="LICENSE.html"><code>LICENSE.md</code></a>.</p>
<h3 id="dependencies">Dependencies<a class="headerlink" href="#dependencies" title="Permanent link">&para;</a></h3>
<p>Some additional libraries may be distributed with your version of Nokogiri. Please see <a href="LICENSE-DEPENDENCIES.html"><code>LICENSE-DEPENDENCIES.md</code></a> for a discussion of the variations as well as the licenses thereof.</p>
<h2 id="authors">Authors<a class="headerlink" href="#authors" title="Permanent link">&para;</a></h2>
<ul>
<li>Mike Dalessio</li>
<li>Aaron Patterson</li>
<li>Yoko Harada</li>
<li>Akinori MUSHA</li>
<li>John Shahid</li>
<li>Karol Bucek</li>
<li>Sam Ruby</li>
<li>Craig Barnes</li>
<li>Stephen Checkoway</li>
<li>Lars Kanis</li>
<li>Sergio Arbeo</li>
<li>Timothy Elliott</li>
<li>Nobuyoshi Nakada</li>
</ul>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Ⓒ 2009-2024 Mike Dalessio
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/sparklemotion/nokogiri.org" target="_blank" rel="noopener" title="sparklemotion/nokogiri.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  


  
    
  



  


<h4>Cookie consent</h4>
<p>This site uses cookies to measure the effectiveness of our documentation and whether users
find what they're searching for. With your consent, you're helping us to make our
documentation better.
</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "search.highlight"], "search": "assets/javascripts/workers/search.c7c1ca2c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.203fd0bc.min.js"></script>
      
    
  </body>
</html>