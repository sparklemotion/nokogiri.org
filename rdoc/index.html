<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>RDoc Documentation</title>


  <meta name="keywords" content="ruby,documentation,RDoc Documentation">

    <meta name="description" content="RDoc Documentation: nokogiri. nokogiri-serif-black.">





<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:title" content="RDoc Documentation">


  <meta property="og:description" content="API documentation for RDoc Documentation - Browse classes, modules, and methods">




<!-- Twitter -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="RDoc Documentation">


  <meta name="twitter:description" content="API documentation for RDoc Documentation - Browse classes, modules, and methods">


<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/theme-toggle.js?v=7.0.3"></script>

<script src="./js/search_navigation.js?v=7.0.3" defer></script>

<script src="./js/search_data.js?v=7.0.3" defer></script>

<script src="./js/search_ranker.js?v=7.0.3" defer></script>

<script src="./js/search_controller.js?v=7.0.3" defer></script>

<script src="./js/c_highlighter.js?v=7.0.3" defer></script>

<script src="./js/aliki.js?v=7.0.3" defer></script>

<link href="./css/rdoc.css?v=7.0.3" rel="stylesheet">


  <link href="./rdoc-tweaks.css?v=7.0.3" rel="stylesheet">



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BZR5RZN084"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-BZR5RZN084');
</script>
</head>
<body role="document" class="file has-toc">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <!-- Chevron (right arrow) - used for expand/collapse -->
  <symbol id="icon-chevron" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <polyline points="9 18 15 12 9 6"></polyline>
  </symbol>

  <!-- File/Document - Pages section -->
  <symbol id="icon-file" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path>

    <polyline points="14 2 14 8 20 8"></polyline>
  </symbol>

  <!-- Layers/Stack - Classes and Modules section -->
  <symbol id="icon-layers" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
    <polyline points="2 17 12 22 22 17"></polyline>
    <polyline points="2 12 12 17 22 12"></polyline>
  </symbol>

  <!-- Curly braces with C - Class Methods section -->
  <symbol id="icon-class-methods" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M6 3C3.5 3 2 4.5 2 7v3c0 1.5-1 2-1 2s1 .5 1 2v5c0 2.5 1.5 4 4 4"></path>
    <path d="M18 3c2.5 0 4 1.5 4 4v3c0 1.5 1 2 1 2s-1 .5-1 2v5c0 2.5-1.5 4-4 4"></path>

    <text x="12" y="17" text-anchor="middle" font-size="13" font-weight="bold" fill="currentColor" stroke="none">
      C
    </text>
  </symbol>

  <!-- Curly braces with I - Instance Methods section -->
  <symbol id="icon-instance-methods" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M6 3C3.5 3 2 4.5 2 7v3c0 1.5-1 2-1 2s1 .5 1 2v5c0 2.5 1.5 4 4 4"></path>
    <path d="M18 3c2.5 0 4 1.5 4 4v3c0 1.5 1 2 1 2s-1 .5-1 2v5c0 2.5-1.5 4-4 4"></path>

    <text x="12" y="17" text-anchor="middle" font-size="13" font-weight="bold" fill="currentColor" stroke="none">
      I
    </text>
  </symbol>

  <!-- Double chevrons up - Ancestors section -->
  <symbol id="icon-ancestors" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <polyline points="17 11 12 6 7 11"></polyline>
    <polyline points="17 18 12 13 7 18"></polyline>
  </symbol>

  <!-- User with plus - Included Modules section -->
  <symbol id="icon-includes" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
    <circle cx="8.5" cy="7" r="4"></circle>

    <line x1="20" y1="8" x2="20" y2="14"></line>

    <line x1="23" y1="11" x2="17" y2="11"></line>
  </symbol>

  <!-- User with check - Extended Modules section -->
  <symbol id="icon-extends" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
    <circle cx="8.5" cy="7" r="4"></circle>
    <polyline points="17 11 19 13 23 9"></polyline>
  </symbol>

  <!-- List - Sections section -->
  <symbol id="icon-list" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <line x1="8" y1="6" x2="21" y2="6"></line>

    <line x1="8" y1="12" x2="21" y2="12"></line>

    <line x1="8" y1="18" x2="21" y2="18"></line>

    <line x1="3" y1="6" x2="3.01" y2="6"></line>

    <line x1="3" y1="12" x2="3.01" y2="12"></line>

    <line x1="3" y1="18" x2="3.01" y2="18"></line>
  </symbol>
</svg>

<header class="top-navbar">
  <a href="./index.html" class="navbar-brand">
    RDoc Documentation
  </a>

  <!-- Desktop search bar -->
  <div class="navbar-search navbar-search-desktop" role="search">
    <form action="#" method="get" accept-charset="utf-8">
      <input id="search-field" role="combobox" aria-label="Search" aria-autocomplete="list" aria-controls="search-results-desktop" type="text" name="search" placeholder="Search (/) for a class, method..." spellcheck="false" autocomplete="off" title="Type to search, Up and Down to navigate, Enter to load">
      <ul id="search-results-desktop" aria-label="Search Results" aria-busy="false" aria-expanded="false" aria-atomic="false" class="initially-hidden search-results"></ul>
    </form>
  </div>

  <!-- Mobile search icon button -->
  <button id="search-toggle" class="navbar-search-mobile" aria-label="Open search" type="button">
    <span aria-hidden="true">üîç</span>
  </button>

  <!-- Theme toggle button -->
  <button id="theme-toggle" class="theme-toggle" aria-label="Switch to dark mode" type="button">
    <span class="theme-toggle-icon" aria-hidden="true">üåô</span>
  </button>
</header>

<!-- Search Modal (Mobile) -->
<div id="search-modal" class="search-modal" hidden aria-modal="true" role="dialog" aria-label="Search">
  <div class="search-modal-backdrop"></div>
  <div class="search-modal-content">
    <div class="search-modal-header">
      <form class="search-modal-form" action="#" method="get" accept-charset="utf-8">
        <span class="search-modal-icon" aria-hidden="true">üîç</span>
        <input id="search-field-mobile" role="combobox" aria-label="Search" aria-autocomplete="list" aria-controls="search-results-mobile" type="text" name="search" placeholder="Search documentation" spellcheck="false" autocomplete="off">
        <button type="button" class="search-modal-close" aria-label="Close search" id="search-modal-close">
          <span aria-hidden="true">esc</span>
        </button>
      </form>
    </div>
    <div class="search-modal-body">
      <ul id="search-results-mobile" aria-label="Search Results" aria-busy="false" aria-expanded="false" aria-atomic="false" class="search-results search-modal-results initially-hidden"></ul>
      <div class="search-modal-empty">
        <p>No recent searches</p>
      </div>
    </div>
  </div>
</div>

<div id="navigation-toggle" role="button" tabindex="0" aria-label="Toggle sidebar" aria-expanded="true" aria-controls="navigation">
  <span aria-hidden="true">‚ò∞</span>
</div>


<nav id="navigation" role="navigation" hidden>
  






  <div id="fileindex-section" class="nav-section">
    <details class="nav-section-collapsible" open>
      <summary class="nav-section-header">
        <span class="nav-section-icon">
          <svg>
            <use href="#icon-file"></use>
          </svg>
        </span>

        <span class="nav-section-title">Pages</span>

        <span class="nav-section-chevron">
          <svg>
            <use href="#icon-chevron"></use>
          </svg>
        </span>
      </summary>

      <ul class="nav-list">






            <li>
              <a href="./README_md.html">
                README
              </a>
            </li>

      </ul>
    </details>
  </div>


  <div id="classindex-section" class="nav-section">
  <details class="nav-section-collapsible" open>
    <summary class="nav-section-header">
      <span class="nav-section-icon">
        <svg><use href="#icon-layers"></use></svg>
      </span>
      <span class="nav-section-title">Classes and Modules</span>
      <span class="nav-section-chevron">
        <svg><use href="#icon-chevron"></use></svg>
      </span>
    </summary>

    <ul class="link-list nav-list">
<li><details><summary><code><a href="./Nokogiri.html">Nokogiri</a></code></summary><ul class="link-list nav-list">
<li><details><summary><code><a href="./Nokogiri/CSS.html">CSS</a></code></summary><ul class="link-list nav-list">
<li><code><a href="./Nokogiri/CSS/SyntaxError.html">SyntaxError</a></code></li>
<li><details><summary><code><a href="./Nokogiri/CSS/XPathVisitor.html">XPathVisitor</a></code></summary><ul class="link-list nav-list">
<li><code><a href="./Nokogiri/CSS/XPathVisitor/BuiltinsConfig.html">BuiltinsConfig</a></code></li>
<li><code><a href="./Nokogiri/CSS/XPathVisitor/DoctypeConfig.html">DoctypeConfig</a></code></li>
</ul></details></li>
</ul></details></li>
<li><code><a href="./Nokogiri/ClassResolver.html">ClassResolver</a></code></li>
<li><details><summary><code><a href="./Nokogiri/Decorators.html">Decorators</a></code></summary><ul class="link-list nav-list"><li><code><a href="./Nokogiri/Decorators/Slop.html">Slop</a></code></li></ul></details></li>
<li><code><a href="./Nokogiri/EncodingHandler.html">EncodingHandler</a></code></li>
<li><code><a href="./Nokogiri/Gumbo.html">Gumbo</a></code></li>
<li><details><summary><code><a href="./Nokogiri/HTML4.html">HTML</a></code></summary><ul class="link-list nav-list">
<li><code><a href="./Nokogiri/HTML/Builder.html">Builder</a></code></li>
<li><code><a href="./Nokogiri/HTML/Document.html">Document</a></code></li>
<li><code><a href="./Nokogiri/HTML/DocumentFragment.html">DocumentFragment</a></code></li>
</ul></details></li>
<li><details><summary><code><a href="./Nokogiri/HTML4.html">HTML4</a></code></summary><ul class="link-list nav-list">
<li><code><a href="./Nokogiri/HTML4/Builder.html">Builder</a></code></li>
<li><code><a href="./Nokogiri/HTML4/Document.html">Document</a></code></li>
<li><code><a href="./Nokogiri/HTML4/DocumentFragment.html">DocumentFragment</a></code></li>
<li><code><a href="./Nokogiri/HTML4/ElementDescription.html">ElementDescription</a></code></li>
<li><code><a href="./Nokogiri/HTML4/EntityDescription.html">EntityDescription</a></code></li>
<li><code><a href="./Nokogiri/HTML4/EntityLookup.html">EntityLookup</a></code></li>
<li><details><summary><code><a href="./Nokogiri/HTML4/SAX.html">SAX</a></code></summary><ul class="link-list nav-list">
<li><code><a href="./Nokogiri/HTML4/SAX/Parser.html">Parser</a></code></li>
<li><code><a href="./Nokogiri/HTML4/SAX/ParserContext.html">ParserContext</a></code></li>
<li><code><a href="./Nokogiri/HTML4/SAX/PushParser.html">PushParser</a></code></li>
</ul></details></li>
</ul></details></li>
<li><details><summary><code><a href="./Nokogiri/HTML5.html">HTML5</a></code></summary><ul class="link-list nav-list">
<li><code><a href="./Nokogiri/HTML5/Builder.html">Builder</a></code></li>
<li><code><a href="./Nokogiri/HTML5/Document.html">Document</a></code></li>
<li><code><a href="./Nokogiri/HTML5/DocumentFragment.html">DocumentFragment</a></code></li>
<li><code><a href="./Nokogiri/HTML5/Node.html">Node</a></code></li>
<li><code><a href="./Nokogiri/HTML5/QuirksMode.html">QuirksMode</a></code></li>
</ul></details></li>
<li><code><a href="./Nokogiri/SyntaxError.html">SyntaxError</a></code></li>
<li><details><summary><code><a href="./Nokogiri/XML.html">XML</a></code></summary><ul class="link-list nav-list">
<li><code><a href="./Nokogiri/XML/Attr.html">Attr</a></code></li>
<li><code><a href="./Nokogiri/XML/AttributeDecl.html">AttributeDecl</a></code></li>
<li><code><a href="./Nokogiri/XML/Builder.html">Builder</a></code></li>
<li><code><a href="./Nokogiri/XML/CDATA.html">CDATA</a></code></li>
<li><code><a href="./Nokogiri/XML/CharacterData.html">CharacterData</a></code></li>
<li><code><a href="./Nokogiri/XML/Comment.html">Comment</a></code></li>
<li><code><a href="./Nokogiri/XML/DTD.html">DTD</a></code></li>
<li><code><a href="./Nokogiri/XML/Document.html">Document</a></code></li>
<li><code><a href="./Nokogiri/XML/DocumentFragment.html">DocumentFragment</a></code></li>
<li><code><a href="./Nokogiri/XML/Element.html">Element</a></code></li>
<li><code><a href="./Nokogiri/XML/ElementContent.html">ElementContent</a></code></li>
<li><code><a href="./Nokogiri/XML/ElementDecl.html">ElementDecl</a></code></li>
<li><code><a href="./Nokogiri/XML/EntityDecl.html">EntityDecl</a></code></li>
<li><code><a href="./Nokogiri/XML/EntityReference.html">EntityReference</a></code></li>
<li><code><a href="./Nokogiri/XML/Namespace.html">Namespace</a></code></li>
<li><details><summary><code><a href="./Nokogiri/XML/Node.html">Node</a></code></summary><ul class="link-list nav-list"><li><code><a href="./Nokogiri/XML/Node/SaveOptions.html">SaveOptions</a></code></li></ul></details></li>
<li><code><a href="./Nokogiri/XML/NodeSet.html">NodeSet</a></code></li>
<li><code><a href="./Nokogiri/XML/Notation.html">Notation</a></code></li>
<li><code><a href="./Nokogiri/XML/ParseOptions.html">ParseOptions</a></code></li>
<li><code><a href="./Nokogiri/XML/ProcessingInstruction.html">ProcessingInstruction</a></code></li>
<li><code><a href="./Nokogiri/XML/Reader.html">Reader</a></code></li>
<li><code><a href="./Nokogiri/XML/RelaxNG.html">RelaxNG</a></code></li>
<li><details><summary><code><a href="./Nokogiri/XML/SAX.html">SAX</a></code></summary><ul class="link-list nav-list">
<li><code><a href="./Nokogiri/XML/SAX/Document.html">Document</a></code></li>
<li><details><summary><code><a href="./Nokogiri/XML/SAX/Parser.html">Parser</a></code></summary><ul class="link-list nav-list"><li><code><a href="./Nokogiri/XML/SAX/Parser/Attribute.html">Attribute</a></code></li></ul></details></li>
<li><code><a href="./Nokogiri/XML/SAX/ParserContext.html">ParserContext</a></code></li>
<li><code><a href="./Nokogiri/XML/SAX/PushParser.html">PushParser</a></code></li>
</ul></details></li>
<li><code><a href="./Nokogiri/XML/Schema.html">Schema</a></code></li>
<li><code><a href="./Nokogiri/XML/Searchable.html">Searchable</a></code></li>
<li><code><a href="./Nokogiri/XML/SyntaxError.html">SyntaxError</a></code></li>
<li><code><a href="./Nokogiri/XML/Text.html">Text</a></code></li>
<li><details><summary><code><a href="./Nokogiri/XML/XPath.html">XPath</a></code></summary><ul class="link-list nav-list"><li><code><a href="./Nokogiri/XML/XPath/SyntaxError.html">SyntaxError</a></code></li></ul></details></li>
<li><code><a href="./Nokogiri/XML/XPathContext.html">XPathContext</a></code></li>
</ul></details></li>
<li><details><summary><code><a href="./Nokogiri/XSLT.html">XSLT</a></code></summary><ul class="link-list nav-list"><li><code><a href="./Nokogiri/XSLT/Stylesheet.html">Stylesheet</a></code></li></ul></details></li>
</ul></details></li>
<li><code><a href="./Object.html">Object</a></code></li>
<li><details><summary><code><a href="./XSD.html">XSD</a></code></summary><ul class="link-list nav-list"><li><details><summary><code><a href="./XSD/XMLParser.html">XMLParser</a></code></summary><ul class="link-list nav-list"><li><code><a href="./XSD/XMLParser/Nokogiri.html">Nokogiri</a></code></li></ul></details></li></ul></details></li>
</ul>
  </details>
</div>

</nav>

<main role="main">

  <div><img src="https://nokogiri.org/images/nokogiri-serif-black.png" align="right"></div>
<h1 id="label-Nokogiri">
<a href="#label-Nokogiri"></a><a href="Nokogiri.html"><code>Nokogiri</code></a>
</h1>

<p><a href="Nokogiri.html"><code>Nokogiri</code></a> (Èã∏) makes it easy and painless to work with XML and HTML from Ruby. It provides a sensible, easy-to-understand API for <a href="https://nokogiri.org/tutorials/parsing_an_html_xml_document.html">reading</a>, writing, <a href="https://nokogiri.org/tutorials/modifying_an_html_xml_document.html">modifying</a>, and <a href="https://nokogiri.org/tutorials/searching_a_xml_html_document.html">querying</a> documents. It is fast and standards-compliant by relying on native parsers like libxml2, libgumbo, and xerces.</p>

<h2 id="label-Guiding+Principles"><a href="#label-Guiding+Principles">Guiding Principles</a></h2>

<p>Some guiding principles <a href="Nokogiri.html"><code>Nokogiri</code></a> tries to follow:</p>
<ul>
<li>
<p>be secure-by-default by treating all documents as <strong>untrusted</strong> by default</p>
</li>
<li>
<p>be a <strong>thin-as-reasonable layer</strong> on top of the underlying parsers, and don‚Äôt attempt to fix behavioral differences between the parsers</p>
</li>
</ul>

<h2 id="label-Features+Overview"><a href="#label-Features+Overview">Features Overview</a></h2>
<ul>
<li>
<p>DOM Parser for XML, HTML4, and HTML5</p>
</li>
<li>
<p>SAX Parser for XML and HTML4</p>
</li>
<li>
<p>Push Parser for XML and HTML4</p>
</li>
<li>
<p>Document search via XPath 1.0</p>
</li>
<li>
<p>Document search via CSS3 selectors, with some jquery-like extensions</p>
</li>
<li>
<p><a href="XSD.html"><code>XSD</code></a> Schema validation</p>
</li>
<li>
<p>XSLT transformation</p>
</li>
<li>
<p>‚ÄúBuilder‚Äù DSL for XML and HTML documents</p>
</li>
</ul>

<h2 id="label-Status"><a href="#label-Status">Status</a></h2>

<p><a href="https://github.com/sparklemotion/nokogiri/actions/workflows/ci.yml"><img src="https://github.com/sparklemotion/nokogiri/actions/workflows/ci.yml/badge.svg?branch=main" alt="Github Actions CI"></a> <a href="https://ci.appveyor.com/project/flavorjones/nokogiri/branch/main"><img src="https://ci.appveyor.com/api/projects/status/xj2pqwvlxwuwgr06/branch/main?svg=true" alt="Appveyor CI"></a></p>

<p><a href="https://rubygems.org/gems/nokogiri"><img src="https://badge.fury.io/rb/nokogiri.svg" alt="Gem Version"></a> <a href="https://docs.github.com/en/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/about-dependabot-security-updates#about-compatibility-scores"><img src="https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=nokogiri&amp;package-manager=bundler&amp;previous-version=1.11.7&amp;new-version=1.12.5" alt="SemVer compatibility"></a></p>

<p><a href="https://bestpractices.coreinfrastructure.org/projects/5344"><img src="https://bestpractices.coreinfrastructure.org/projects/5344/badge" alt="CII Best Practices"></a> <a href="https://tidelift.com/subscription/pkg/rubygems-nokogiri?utm_source=rubygems-nokogiri&amp;utm_medium=referral&amp;utm_campaign=readme"><img src="https://tidelift.com/badges/package/rubygems/nokogiri" alt="Tidelift dependencies"></a></p>

<h2 id="label-Support-2C+Getting+Help-2C+and+Reporting+Issues"><a href="#label-Support-2C+Getting+Help-2C+and+Reporting+Issues">Support, Getting Help, and Reporting Issues</a></h2>

<p>All official documentation is posted at <a href="https://nokogiri.org">nokogiri.org</a> (the source for which is at <a href="https://github.com/sparklemotion/nokogiri.org">github.com/sparklemotion/nokogiri.org</a>/, and we welcome contributions).</p>

<h3 id="label-Reading"><a href="#label-Reading">Reading</a></h3>

<p>Your first stops for learning more about <a href="Nokogiri.html"><code>Nokogiri</code></a> should be:</p>
<ul>
<li>
<p><a href="https://nokogiri.org/rdoc/index.html">API Documentation</a></p>
</li>
<li>
<p><a href="https://nokogiri.org/tutorials/toc.html">Tutorials</a></p>
</li>
<li>
<p>An excellent community-maintained <a href="https://github.com/sparklemotion/nokogiri/wiki/Cheat-sheet">Cheat Sheet</a></p>
</li>
</ul>

<h3 id="label-Ask+For+Help"><a href="#label-Ask+For+Help">Ask For Help</a></h3>

<p>There are a few ways to ask exploratory questions:</p>
<ul>
<li>
<p>The <a href="Nokogiri.html"><code>Nokogiri</code></a> mailing list is active at <a href="https://groups.google.com/group/nokogiri-talk">groups.google.com/group/nokogiri-talk</a></p>
</li>
<li>
<p>Open an issue using the ‚ÄúHelp Request‚Äù template at <a href="https://github.com/sparklemotion/nokogiri/issues">github.com/sparklemotion/nokogiri/issues</a></p>
</li>
<li>
<p>Open a discussion at <a href="https://github.com/sparklemotion/nokogiri/discussions">github.com/sparklemotion/nokogiri/discussions</a></p>
</li>
</ul>

<p>Please do not mail the maintainers at their personal addresses.</p>

<h3 id="label-Report+A+Bug"><a href="#label-Report+A+Bug">Report A Bug</a></h3>

<p>The <a href="Nokogiri.html"><code>Nokogiri</code></a> bug tracker is at <a href="https://github.com/sparklemotion/nokogiri/issues">github.com/sparklemotion/nokogiri/issues</a></p>

<p>Please use the ‚ÄúBug Report‚Äù or ‚ÄúInstallation Difficulties‚Äù templates.</p>

<h3 id="label-Security+and+Vulnerability+Reporting"><a href="#label-Security+and+Vulnerability+Reporting">Security and Vulnerability Reporting</a></h3>

<p>Please report vulnerabilities at <a href="https://hackerone.com/nokogiri">hackerone.com/nokogiri</a></p>

<p>Full information and description of our security policy is in <a href="SECURITY_md.html"><code>SECURITY.md</code></a></p>

<h3 id="label-Semantic+Versioning+Policy"><a href="#label-Semantic+Versioning+Policy">Semantic Versioning Policy</a></h3>

<p><a href="Nokogiri.html"><code>Nokogiri</code></a> follows <a href="https://semver.org/">Semantic Versioning</a> (since 2017 or so). <a href="https://docs.github.com/en/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/about-dependabot-security-updates#about-compatibility-scores"><img src="https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=nokogiri&amp;package-manager=bundler&amp;previous-version=1.11.7&amp;new-version=1.12.5" alt="Dependabot's SemVer compatibility score for Nokogiri"></a></p>

<p>We bump <code>Major.Minor.Patch</code> versions following this guidance:</p>

<p><code>Major</code>: (we‚Äôve never done this)</p>
<ul>
<li>
<p>Significant backwards-incompatible changes to the public API that would require rewriting existing application code.</p>
</li>
<li>
<p>Some examples of backwards-incompatible changes we might someday consider for a Major release are at <a href="ROADMAP_md.html"><code>ROADMAP.md</code></a>.</p>
</li>
</ul>

<p><code>Minor</code>:</p>
<ul>
<li>
<p>Features and bugfixes.</p>
</li>
<li>
<p>Updating packaged libraries for non-security-related reasons.</p>
</li>
<li>
<p>Dropping support for EOLed Ruby versions. <a href="https://github.com/sparklemotion/nokogiri/issues/1568">Some folks find this objectionable</a>, but <a href="https://semver.org/#what-should-i-do-if-i-update-my-own-dependencies-without-changing-the-public-api">SemVer says this is OK if the public API hasn‚Äôt changed</a>.</p>
</li>
<li>
<p>Backwards-incompatible changes to internal or private methods and constants. These are detailed in the ‚ÄúChanges‚Äù section of each changelog entry.</p>
</li>
<li>
<p>Removal of deprecated methods or parameters, after a generous transition period; usually when those methods or parameters are rarely-used or dangerous to the user. Essentially, removals that do not justify a major version bump.</p>
</li>
</ul>

<p><code>Patch</code>:</p>
<ul>
<li>
<p>Bugfixes.</p>
</li>
<li>
<p>Security updates.</p>
</li>
<li>
<p>Updating packaged libraries for security-related reasons.</p>
</li>
</ul>

<h3 id="label-Sponsorship"><a href="#label-Sponsorship">Sponsorship</a></h3>

<p>You can help sponsor the maintainers of this software through one of these organizations:</p>
<ul>
<li>
<p><a href="https://github.com/sponsors/flavorjones">github.com/sponsors/flavorjones</a></p>
</li>
<li>
<p><a href="https://opencollective.com/nokogiri">opencollective.com/nokogiri</a></p>
</li>
<li>
<p><a href="https://tidelift.com/subscription/pkg/rubygems-nokogiri?utm_source=rubygems-nokogiri&amp;utm_medium=referral&amp;utm_campaign=readme">tidelift.com/subscription/pkg/rubygems-nokogiri</a></p>
</li>
</ul>

<h2 id="label-Installation"><a href="#label-Installation">Installation</a></h2>

<p>Requirements:</p>
<ul>
<li>
<p>Ruby &gt;= 3.2</p>
</li>
<li>
<p>JRuby &gt;= 10.0</p>
</li>
</ul>

<p>If you are compiling the native extension against a system version of libxml2:</p>
<ul><li>
<p>libxml2 &gt;= 2.9.2 (recommended &gt;= 2.12.0)</p>
</li></ul>

<h3 id="label-Native+Gems-3A+Faster-2C+more+reliable+installation"><a href="#label-Native+Gems-3A+Faster-2C+more+reliable+installation">Native Gems: Faster, more reliable installation</a></h3>

<p>‚ÄúNative gems‚Äù contain pre-compiled libraries for a specific machine architecture. On supported platforms, this removes the need for compiling the C extension and the packaged libraries, or for system dependencies to exist. This results in <strong>much faster installation</strong> and <strong>more reliable installation</strong>, which as you probably know are the biggest headaches for <a href="Nokogiri.html"><code>Nokogiri</code></a> users.</p>

<h3 id="label-Supported+Platforms"><a href="#label-Supported+Platforms">Supported Platforms</a></h3>

<p><a href="Nokogiri.html"><code>Nokogiri</code></a> ships pre-compiled, ‚Äúnative‚Äù gems for the following platforms:</p>
<ul>
<li>
<p>Linux:</p>
</li>
<li>
<p><code>x86_64-linux-gnu</code>, <code>aarch64-linux-gnu</code>, and <code>arm-linux-gnu</code> (req: <code>glibc &gt;= 2.29</code>)</p>
</li>
<li>
<p><code>x86_64-linux-musl</code>, <code>aarch64-linux-musl</code>, and <code>arm-linux-musl</code></p>
</li>
<li>
<p>Darwin/MacOS: <code>x86_64-darwin</code> and <code>arm64-darwin</code></p>
</li>
<li>
<p>Windows: <code>x64-mingw-ucrt</code></p>
</li>
<li>
<p>Java: any platform running JRuby 10.0 or higher</p>
</li>
</ul>

<p>To determine whether your system supports one of these gems, look at the output of <code>bundle platform</code> or <code>ruby -e 'puts Gem::Platform.local.to_s'</code>.</p>

<p>If you‚Äôre on a supported platform, either <code>gem install</code> or <code>bundle install</code> should install a native gem without any additional action on your part. This installation should only take a few seconds, and your output should look something like:</p>

<pre>$ gem install nokogiri
Fetching nokogiri-1.11.0-x86_64-linux.gem
Successfully installed nokogiri-1.11.0-x86_64-linux
1 gem installed</pre>

<h3 id="label-Other+Installation+Options"><a href="#label-Other+Installation+Options">Other Installation Options</a></h3>

<p>Because <a href="Nokogiri.html"><code>Nokogiri</code></a> is a C extension, it requires that you have a C compiler toolchain, Ruby development header files, and some system dependencies installed.</p>

<p>The following may work for you if you have an appropriately-configured system:</p>

<pre class="ruby"><span class="ruby-identifier">gem</span> <span class="ruby-identifier">install</span> <span class="ruby-identifier">nokogiri</span>
</pre>

<p>If you have any issues, please visit <a href="https://nokogiri.org/tutorials/installing_nokogiri.html">Installing Nokogiri</a> for more complete instructions and troubleshooting.</p>

<h2 id="label-How+To+Use+Nokogiri">
<a href="#label-How+To+Use+Nokogiri">How To Use </a><a href="Nokogiri.html"><code>Nokogiri</code></a>
</h2>

<p><a href="Nokogiri.html"><code>Nokogiri</code></a> is a large library, and so it‚Äôs challenging to briefly summarize it. We‚Äôve tried to provide long, real-world examples at <a href="https://nokogiri.org/tutorials/toc.html">Tutorials</a>.</p>

<h3 id="label-Parsing+and+Querying"><a href="#label-Parsing+and+Querying">Parsing and Querying</a></h3>

<p>Here is example usage for parsing and querying a document:</p>

<pre class="ruby"><span class="ruby-comment">#! /usr/bin/env ruby</span>

<span class="ruby-identifier">require</span> <span class="ruby-string">'nokogiri'</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">'open-uri'</span>

<span class="ruby-comment"># Fetch and parse HTML document</span>
<span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-constant">URI</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">'https://nokogiri.org/tutorials/installing_nokogiri.html'</span>))

<span class="ruby-comment"># Search for nodes by css</span>
<span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-string">'nav ul.menu li a'</span>, <span class="ruby-string">'article h2'</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">link</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">link</span>.<span class="ruby-identifier">content</span>
<span class="ruby-keyword">end</span>

<span class="ruby-comment"># Search for nodes by xpath</span>
<span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-string">'//nav//ul//li/a'</span>, <span class="ruby-string">'//article//h2'</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">link</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">link</span>.<span class="ruby-identifier">content</span>
<span class="ruby-keyword">end</span>

<span class="ruby-comment"># Or mix and match</span>
<span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">'nav ul.menu li a'</span>, <span class="ruby-string">'//article//h2'</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">link</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">link</span>.<span class="ruby-identifier">content</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-Encoding"><a href="#label-Encoding">Encoding</a></h3>

<p>Strings are always stored as UTF-8 internally. Methods that return text values will always return UTF-8 encoded strings. Methods that return a string containing markup (like <code>to_xml</code>, <code>to_html</code> and <code>inner_html</code>) will return a string encoded like the source document.</p>

<p><strong>WARNING</strong></p>

<p>Some documents declare one encoding, but actually use a different one. In these cases, which encoding should the parser choose?</p>

<p>Data is just a stream of bytes. Humans add meaning to that stream. Any particular set of bytes could be valid characters in multiple encodings, so detecting encoding with 100% accuracy is not possible. <code>libxml2</code> does its best, but it can‚Äôt be right all the time.</p>

<p>If you want <a href="Nokogiri.html"><code>Nokogiri</code></a> to handle the document encoding properly, your best bet is to explicitly set the encoding. Here is an example of explicitly setting the encoding to EUC-JP on the parser:</p>

<pre class="ruby"><span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span>.<span class="ruby-constant">XML</span>(<span class="ruby-string">'&lt;foo&gt;&lt;bar /&gt;&lt;/foo&gt;'</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">'EUC-JP'</span>)
</pre>

<h2 id="label-Technical+Overview"><a href="#label-Technical+Overview">Technical Overview</a></h2>

<h3 id="label-Guiding+Principles"><a href="#label-Guiding+Principles">Guiding Principles</a></h3>

<p>As noted above, two guiding principles of the software are:</p>
<ul>
<li>
<p>be secure-by-default by treating all documents as <strong>untrusted</strong> by default</p>
</li>
<li>
<p>be a <strong>thin-as-reasonable layer</strong> on top of the underlying parsers, and don‚Äôt attempt to fix behavioral differences between the parsers</p>
</li>
</ul>

<p>Notably, despite all parsers being standards-compliant, there are behavioral inconsistencies between the parsers used in the CRuby and JRuby implementations, and <a href="Nokogiri.html"><code>Nokogiri</code></a> does not and should not attempt to remove these inconsistencies. Instead, we surface these differences in the test suite when they are important/semantic; or we intentionally write tests to depend only on the important/semantic bits (omitting whitespace from regex matchers on results, for example).</p>

<h3 id="label-CRuby"><a href="#label-CRuby">CRuby</a></h3>

<p>The Ruby (a.k.a., CRuby, MRI, YARV) implementation is a C extension that depends on libxml2 and libxslt (which in turn depend on zlib and possibly libiconv).</p>

<p>These dependencies are met by default by Nokogiri‚Äôs packaged versions of the libxml2 and libxslt source code, but a configuration option <code>--use-system-libraries</code> is provided to allow specification of alternative library locations. See <a href="https://nokogiri.org/tutorials/installing_nokogiri.html">Installing Nokogiri</a> for full documentation.</p>

<p>We provide native gems by pre-compiling libxml2 and libxslt (and potentially zlib and libiconv) and packaging them into the gem file. In this case, no compilation is necessary at installation time, which leads to faster and more reliable installation.</p>

<p>See <a href="LICENSE-DEPENDENCIES_md.html"><code>LICENSE-DEPENDENCIES.md</code></a> for more information on which dependencies are provided in which native and source gems.</p>

<h3 id="label-JRuby"><a href="#label-JRuby">JRuby</a></h3>

<p>The Java (a.k.a. JRuby) implementation is a Java extension that depends primarily on Xerces and NekoHTML for parsing, though additional dependencies are on <code>isorelax</code>, <code>nekodtd</code>, <code>jing</code>, <code>serializer</code>, <code>xalan-j</code>, and <code>xml-apis</code>.</p>

<p>These dependencies are provided by pre-compiled jar files packaged in the <code>java</code> platform gem.</p>

<p>See <a href="LICENSE-DEPENDENCIES_md.html"><code>LICENSE-DEPENDENCIES.md</code></a> for more information on which dependencies are provided in which native and source gems.</p>

<h2 id="label-Contributing"><a href="#label-Contributing">Contributing</a></h2>

<p>See <a href="CONTRIBUTING_md.html"><code>CONTRIBUTING.md</code></a> for an intro guide to developing <a href="Nokogiri.html"><code>Nokogiri</code></a>.</p>

<h2 id="label-Code+of+Conduct"><a href="#label-Code+of+Conduct">Code of Conduct</a></h2>

<p>We‚Äôve adopted the Contributor Covenant code of conduct, which you can read in full in <a href="CODE_OF_CONDUCT_md.html"><code>CODE_OF_CONDUCT.md</code></a>.</p>

<h2 id="label-License"><a href="#label-License">License</a></h2>

<p>This project is licensed under the terms of the MIT license.</p>

<p>See this license at <a href="LICENSE_md.html"><code>LICENSE.md</code></a>.</p>

<h3 id="label-Dependencies"><a href="#label-Dependencies">Dependencies</a></h3>

<p>Some additional libraries may be distributed with your version of <a href="Nokogiri.html"><code>Nokogiri</code></a>. Please see <a href="LICENSE-DEPENDENCIES_md.html"><code>LICENSE-DEPENDENCIES.md</code></a> for a discussion of the variations as well as the licenses thereof.</p>

<h2 id="label-Authors"><a href="#label-Authors">Authors</a></h2>
<ul>
<li>
<p>Mike Dalessio</p>
</li>
<li>
<p>Aaron Patterson</p>
</li>
<li>
<p>Yoko Harada</p>
</li>
<li>
<p>Akinori MUSHA</p>
</li>
<li>
<p>John Shahid</p>
</li>
<li>
<p>Karol Bucek</p>
</li>
<li>
<p>Sam Ruby</p>
</li>
<li>
<p>Craig Barnes</p>
</li>
<li>
<p>Stephen Checkoway</p>
</li>
<li>
<p>Lars Kanis</p>
</li>
<li>
<p>Sergio Arbeo</p>
</li>
<li>
<p>Timothy Elliott</p>
</li>
<li>
<p>Nobuyoshi Nakada</p>
</li>
</ul>


</main>

<aside class="table-of-contents" role="complementary" aria-label="Table of Contents">
  <div class="toc-sticky">
    <h3 class="toc-heading">On This Page</h3>
    <nav class="toc-nav" id="toc-nav" aria-label="Page sections">
      <!-- Generated by JavaScript based on page headings -->
    </nav>
  </div>
</aside>


<footer class="site-footer">
  

  <div class="footer-bottom">
    <p>
      Generated by <a href="https://ruby.github.io/rdoc/">RDoc 7.0.3</a>
      using the Aliki theme by <a href="http://st0012.dev">Stan Lo</a>
    </p>
  </div>
</footer>

</body>

</html>
