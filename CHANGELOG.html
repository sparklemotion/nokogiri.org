
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The Official Tutorial Archive™ of Nokogiri®">
      
      
      
        <meta name="author" content="Mike Dalessio">
      
      
        <link rel="canonical" href="https://nokogiri.org/CHANGELOG.html">
      
      <link rel="shortcut icon" href="images/nokogiri-serif-black.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.3">
    
    
      
        <title>Changelog - Nokogiri</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.3b61ea93.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.39b8e14a.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CMenlo&display=fallback">
        <style>body,input{font-family:"Ubuntu",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Menlo",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="stylesheets/tidelift.css">
    
      <link rel="stylesheet" href="stylesheets/custom.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-1260604-8","nokogiri.org"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#nokogiri-changelog" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://nokogiri.org" title="Nokogiri" class="md-header-nav__button md-logo" aria-label="Nokogiri">
      
  <img src="images/nokogiri-serif-white.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Nokogiri
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Changelog
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/sparklemotion/nokogiri" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    sparklemotion/nokogiri
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="index.html" class="md-tabs__link">
      Readme
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="tutorials/installing_nokogiri.html" class="md-tabs__link">
        Support
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="tutorials/toc.html" class="md-tabs__link">
        Tutorials
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="CHANGELOG.html" class="md-tabs__link md-tabs__link--active">
        About
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="rdoc/index.html" class="md-tabs__link">
      RDoc
    </a>
  </li>

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://nokogiri.org" title="Nokogiri" class="md-nav__button md-logo" aria-label="Nokogiri">
      
  <img src="images/nokogiri-serif-white.svg" alt="logo">

    </a>
    Nokogiri
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/sparklemotion/nokogiri" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    sparklemotion/nokogiri
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  <li class="md-nav__item">
    <a href="index.html" class="md-nav__link">
      Readme
    </a>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
    
    <label class="md-nav__link" for="nav-2">
      Support
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Support" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Support
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="tutorials/installing_nokogiri.html" class="md-nav__link">
      Installing Nokogiri
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="tidelift-landing.html" class="md-nav__link">
      Nokogiri for Enterprise
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="tutorials/getting_help.html" class="md-nav__link">
      Getting Help
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="tutorials/security.html" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="tutorials/more_resources.html" class="md-nav__link">
      More Resources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    
    <label class="md-nav__link" for="nav-3">
      Tutorials
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="tutorials/toc.html" class="md-nav__link">
      Table of Contents
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="tutorials/parsing_an_html_xml_document.html" class="md-nav__link">
      Parsing an HTML/XML document
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="tutorials/searching_a_xml_html_document.html" class="md-nav__link">
      Searching a XML/HTML document
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="tutorials/modifying_an_html_xml_document.html" class="md-nav__link">
      Modifying an HTML/XML document
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="tutorials/ensuring_well_formed_markup.html" class="md-nav__link">
      Ensuring well-formed markup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  


  
  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      About
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="About" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Changelog
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="CHANGELOG.html" class="md-nav__link md-nav__link--active">
      Changelog
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#v1111-2021-01-06" class="md-nav__link">
    v1.11.1 / 2021-01-06
  </a>
  
    <nav class="md-nav" aria-label="v1.11.1 / 2021-01-06">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#v1110-2021-01-03" class="md-nav__link">
    v1.11.0 / 2021-01-03
  </a>
  
    <nav class="md-nav" aria-label="v1.11.0 / 2021-01-03">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    Notes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    Security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#added" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance" class="md-nav__link">
    Performance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#improved" class="md-nav__link">
    Improved
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_1" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removed" class="md-nav__link">
    Removed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changed" class="md-nav__link">
    Changed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11010-2020-07-06" class="md-nav__link">
    1.10.10 / 2020-07-06
  </a>
  
    <nav class="md-nav" aria-label="1.10.10 / 2020-07-06">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    Features
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1109-2020-03-01" class="md-nav__link">
    1.10.9 / 2020-03-01
  </a>
  
    <nav class="md-nav" aria-label="1.10.9 / 2020-03-01">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_2" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1108-2020-02-10" class="md-nav__link">
    1.10.8 / 2020-02-10
  </a>
  
    <nav class="md-nav" aria-label="1.10.8 / 2020-02-10">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security_1" class="md-nav__link">
    Security
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1107-2019-12-03" class="md-nav__link">
    1.10.7 / 2019-12-03
  </a>
  
    <nav class="md-nav" aria-label="1.10.7 / 2019-12-03">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_3" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1106-2019-12-03" class="md-nav__link">
    1.10.6 / 2019-12-03
  </a>
  
    <nav class="md-nav" aria-label="1.10.6 / 2019-12-03">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_4" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1105-2019-10-31" class="md-nav__link">
    1.10.5 / 2019-10-31
  </a>
  
    <nav class="md-nav" aria-label="1.10.5 / 2019-10-31">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security_2" class="md-nav__link">
    Security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_1" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1104-2019-08-11" class="md-nav__link">
    1.10.4 / 2019-08-11
  </a>
  
    <nav class="md-nav" aria-label="1.10.4 / 2019-08-11">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security_3" class="md-nav__link">
    Security
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1103-2019-04-22" class="md-nav__link">
    1.10.3 / 2019-04-22
  </a>
  
    <nav class="md-nav" aria-label="1.10.3 / 2019-04-22">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security_4" class="md-nav__link">
    Security
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1102-2019-03-24" class="md-nav__link">
    1.10.2 / 2019-03-24
  </a>
  
    <nav class="md-nav" aria-label="1.10.2 / 2019-03-24">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security_5" class="md-nav__link">
    Security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_5" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1101-2019-01-13" class="md-nav__link">
    1.10.1 / 2019-01-13
  </a>
  
    <nav class="md-nav" aria-label="1.10.1 / 2019-01-13">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_1" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_6" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1100-2019-01-04" class="md-nav__link">
    1.10.0 / 2019-01-04
  </a>
  
    <nav class="md-nav" aria-label="1.10.0 / 2019-01-04">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_2" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_2" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#191-2018-12-17" class="md-nav__link">
    1.9.1 / 2018-12-17
  </a>
  
    <nav class="md-nav" aria-label="1.9.1 / 2018-12-17">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_7" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#190-2018-12-17" class="md-nav__link">
    1.9.0 / 2018-12-17
  </a>
  
    <nav class="md-nav" aria-label="1.9.0 / 2018-12-17">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security_6" class="md-nav__link">
    Security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#improved_1" class="md-nav__link">
    Improved
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#added_3" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_8" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_3" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#185-2018-10-04" class="md-nav__link">
    1.8.5 / 2018-10-04
  </a>
  
    <nav class="md-nav" aria-label="1.8.5 / 2018-10-04">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security_7" class="md-nav__link">
    Security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_9" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#184-2018-07-03" class="md-nav__link">
    1.8.4 / 2018-07-03
  </a>
  
    <nav class="md-nav" aria-label="1.8.4 / 2018-07-03">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_10" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#183-2018-06-16" class="md-nav__link">
    1.8.3 / 2018-06-16
  </a>
  
    <nav class="md-nav" aria-label="1.8.3 / 2018-06-16">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security_8" class="md-nav__link">
    Security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-security" class="md-nav__link">
    More Security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_4" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#added_4" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_11" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#182-2018-01-29" class="md-nav__link">
    1.8.2 / 2018-01-29
  </a>
  
    <nav class="md-nav" aria-label="1.8.2 / 2018-01-29">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security_9" class="md-nav__link">
    Security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_5" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#added_5" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_12" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#181-2017-09-19" class="md-nav__link">
    1.8.1 / 2017-09-19
  </a>
  
    <nav class="md-nav" aria-label="1.8.1 / 2017-09-19">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependencies_6" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_13" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#180-2017-06-04" class="md-nav__link">
    1.8.0 / 2017-06-04
  </a>
  
    <nav class="md-nav" aria-label="1.8.0 / 2017-06-04">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependencies_7" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_8" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#added_6" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_14" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#172-2017-05-09" class="md-nav__link">
    1.7.2 / 2017-05-09
  </a>
  
    <nav class="md-nav" aria-label="1.7.2 / 2017-05-09">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security_10" class="md-nav__link">
    Security
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#171-2017-03-19" class="md-nav__link">
    1.7.1 / 2017-03-19
  </a>
  
    <nav class="md-nav" aria-label="1.7.1 / 2017-03-19">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security_11" class="md-nav__link">
    Security
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1701-2017-01-04" class="md-nav__link">
    1.7.0.1 / 2017-01-04
  </a>
  
    <nav class="md-nav" aria-label="1.7.0.1 / 2017-01-04">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_15" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#170-2016-12-26" class="md-nav__link">
    1.7.0 / 2016-12-26
  </a>
  
    <nav class="md-nav" aria-label="1.7.0 / 2016-12-26">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_7" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_9" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1681-2016-10-03" class="md-nav__link">
    1.6.8.1 / 2016-10-03
  </a>
  
    <nav class="md-nav" aria-label="1.6.8.1 / 2016-10-03">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependencies_10" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#168-2016-06-06" class="md-nav__link">
    1.6.8 / 2016-06-06
  </a>
  
    <nav class="md-nav" aria-label="1.6.8 / 2016-06-06">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security_12" class="md-nav__link">
    Security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#added_8" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_16" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_1" class="md-nav__link">
    Notes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1672-2016-01-20" class="md-nav__link">
    1.6.7.2 / 2016-01-20
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1671-2015-12-16" class="md-nav__link">
    1.6.7.1 / 2015-12-16
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#167-2015-11-29" class="md-nav__link">
    1.6.7 / 2015-11-29
  </a>
  
    <nav class="md-nav" aria-label="1.6.7 / 2015-11-29">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_9" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security_13" class="md-nav__link">
    Security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#added_10" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_17" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1664-2015-11-19" class="md-nav__link">
    1.6.6.4 / 2015-11-19
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1663-2015-11-16" class="md-nav__link">
    1.6.6.3 / 2015-11-16
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1662-2015-01-23" class="md-nav__link">
    1.6.6.2 / 2015-01-23
  </a>
  
    <nav class="md-nav" aria-label="1.6.6.2 / 2015-01-23">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_18" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1661-2015-01-22" class="md-nav__link">
    1.6.6.1 / 2015-01-22
  </a>
  
    <nav class="md-nav" aria-label="1.6.6.1 / 2015-01-22">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_11" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_19" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#165-2014-11-26" class="md-nav__link">
    1.6.5 / 2014-11-26
  </a>
  
    <nav class="md-nav" aria-label="1.6.5 / 2014-11-26">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_12" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_20" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1641-2014-11-05" class="md-nav__link">
    1.6.4.1 / 2014-11-05
  </a>
  
    <nav class="md-nav" aria-label="1.6.4.1 / 2014-11-05">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_21" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#164-2014-11-04" class="md-nav__link">
    1.6.4 / 2014-11-04
  </a>
  
    <nav class="md-nav" aria-label="1.6.4 / 2014-11-04">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_13" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_22" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1631-2014-07-21" class="md-nav__link">
    1.6.3.1 / 2014-07-21
  </a>
  
    <nav class="md-nav" aria-label="1.6.3.1 / 2014-07-21">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_23" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#163-2014-07-20" class="md-nav__link">
    1.6.3 / 2014-07-20
  </a>
  
    <nav class="md-nav" aria-label="1.6.3 / 2014-07-20">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_14" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_24" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1621-2014-05-13" class="md-nav__link">
    1.6.2.1 / 2014-05-13
  </a>
  
    <nav class="md-nav" aria-label="1.6.2.1 / 2014-05-13">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_25" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#162-2014-05-12" class="md-nav__link">
    1.6.2 / 2014-05-12
  </a>
  
    <nav class="md-nav" aria-label="1.6.2 / 2014-05-12">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security_14" class="md-nav__link">
    Security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_11" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#added_15" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_26" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#161-2013-12-14" class="md-nav__link">
    1.6.1 / 2013-12-14
  </a>
  
    <nav class="md-nav" aria-label="1.6.1 / 2013-12-14">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_27" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#160-2013-06-08" class="md-nav__link">
    1.6.0 / 2013-06-08
  </a>
  
    <nav class="md-nav" aria-label="1.6.0 / 2013-06-08">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deprecations" class="md-nav__link">
    Deprecations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#160rc1-2013-04-14" class="md-nav__link">
    1.6.0.rc1 / 2013-04-14
  </a>
  
    <nav class="md-nav" aria-label="1.6.0.rc1 / 2013-04-14">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes_2" class="md-nav__link">
    Notes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#added_16" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_12" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1511-2013-12-14" class="md-nav__link">
    1.5.11 / 2013-12-14
  </a>
  
    <nav class="md-nav" aria-label="1.5.11 / 2013-12-14">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_28" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1510-2013-06-07" class="md-nav__link">
    1.5.10 / 2013-06-07
  </a>
  
    <nav class="md-nav" aria-label="1.5.10 / 2013-06-07">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_29" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_3" class="md-nav__link">
    Notes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#159-2013-03-21" class="md-nav__link">
    1.5.9 / 2013-03-21
  </a>
  
    <nav class="md-nav" aria-label="1.5.9 / 2013-03-21">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_30" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#158-2013-03-19" class="md-nav__link">
    1.5.8 / 2013-03-19
  </a>
  
    <nav class="md-nav" aria-label="1.5.8 / 2013-03-19">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_31" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#157-2013-03-18" class="md-nav__link">
    1.5.7 / 2013-03-18
  </a>
  
    <nav class="md-nav" aria-label="1.5.7 / 2013-03-18">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_17" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_32" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#156-2012-12-19" class="md-nav__link">
    1.5.6 / 2012-12-19
  </a>
  
    <nav class="md-nav" aria-label="1.5.6 / 2012-12-19">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_18" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_33" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#155-2012-06-24" class="md-nav__link">
    1.5.5 / 2012-06-24
  </a>
  
    <nav class="md-nav" aria-label="1.5.5 / 2012-06-24">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_19" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_34" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#154-2012-06-12" class="md-nav__link">
    1.5.4 / 2012-06-12
  </a>
  
    <nav class="md-nav" aria-label="1.5.4 / 2012-06-12">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_20" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_35" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security_15" class="md-nav__link">
    Security
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#153-2012-06-01" class="md-nav__link">
    1.5.3 / 2012-06-01
  </a>
  
    <nav class="md-nav" aria-label="1.5.3 / 2012-06-01">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_21" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_36" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#152-2012-03-09" class="md-nav__link">
    1.5.2 / 2012-03-09
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#151-2012-03-09" class="md-nav__link">
    1.5.1 / 2012-03-09
  </a>
  
    <nav class="md-nav" aria-label="1.5.1 / 2012-03-09">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_22" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_37" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#150-2011-07-01" class="md-nav__link">
    1.5.0 / 2011-07-01
  </a>
  
    <nav class="md-nav" aria-label="1.5.0 / 2011-07-01">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes_4" class="md-nav__link">
    Notes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#added_23" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_38" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#150-beta3-2010-12-02" class="md-nav__link">
    1.5.0 beta3 / 2010-12-02
  </a>
  
    <nav class="md-nav" aria-label="1.5.0 beta3 / 2010-12-02">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes_5" class="md-nav__link">
    Notes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_39" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#150-beta2-2010-07-30" class="md-nav__link">
    1.5.0 beta2 / 2010-07-30
  </a>
  
    <nav class="md-nav" aria-label="1.5.0 beta2 / 2010-07-30">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes_6" class="md-nav__link">
    Notes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#150-beta1-2010-05-22" class="md-nav__link">
    1.5.0 beta1 / 2010-05-22
  </a>
  
    <nav class="md-nav" aria-label="1.5.0 beta1 / 2010-05-22">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes_7" class="md-nav__link">
    Notes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_13" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removed_1" class="md-nav__link">
    Removed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#147-2011-07-01" class="md-nav__link">
    1.4.7 / 2011-07-01
  </a>
  
    <nav class="md-nav" aria-label="1.4.7 / 2011-07-01">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_40" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#146-2011-06-19" class="md-nav__link">
    1.4.6 / 2011-06-19
  </a>
  
    <nav class="md-nav" aria-label="1.4.6 / 2011-06-19">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes_8" class="md-nav__link">
    Notes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#145-2011-05-19" class="md-nav__link">
    1.4.5 / 2011-05-19
  </a>
  
    <nav class="md-nav" aria-label="1.4.5 / 2011-05-19">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_24" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_41" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#144-2010-11-15" class="md-nav__link">
    1.4.4 / 2010-11-15
  </a>
  
    <nav class="md-nav" aria-label="1.4.4 / 2010-11-15">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_25" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_42" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#143-2010-07-28" class="md-nav__link">
    1.4.3 / 2010-07-28
  </a>
  
    <nav class="md-nav" aria-label="1.4.3 / 2010-07-28">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_26" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_43" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#142-2010-05-22" class="md-nav__link">
    1.4.2 / 2010-05-22
  </a>
  
    <nav class="md-nav" aria-label="1.4.2 / 2010-05-22">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_27" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_44" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_9" class="md-nav__link">
    Notes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#141-2009-12-10" class="md-nav__link">
    1.4.1 / 2009-12-10
  </a>
  
    <nav class="md-nav" aria-label="1.4.1 / 2009-12-10">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_28" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_45" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#140-2009-10-30" class="md-nav__link">
    1.4.0 / 2009-10-30
  </a>
  
    <nav class="md-nav" aria-label="1.4.0 / 2009-10-30">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_29" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_46" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removed_2" class="md-nav__link">
    Removed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#133-2009-07-26" class="md-nav__link">
    1.3.3 / 2009-07-26
  </a>
  
    <nav class="md-nav" aria-label="1.3.3 / 2009-07-26">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_30" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_47" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deprecations_1" class="md-nav__link">
    Deprecations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#132-2009-06-22" class="md-nav__link">
    1.3.2 / 2009-06-22
  </a>
  
    <nav class="md-nav" aria-label="1.3.2 / 2009-06-22">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_31" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_48" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deprecations_2" class="md-nav__link">
    Deprecations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#131-2009-06-07" class="md-nav__link">
    1.3.1 / 2009-06-07
  </a>
  
    <nav class="md-nav" aria-label="1.3.1 / 2009-06-07">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_49" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#130-2009-05-30" class="md-nav__link">
    1.3.0 / 2009-05-30
  </a>
  
    <nav class="md-nav" aria-label="1.3.0 / 2009-05-30">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_32" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_50" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#123-2009-03-22" class="md-nav__link">
    1.2.3 / 2009-03-22
  </a>
  
    <nav class="md-nav" aria-label="1.2.3 / 2009-03-22">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_51" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#122-2009-03-14" class="md-nav__link">
    1.2.2 / 2009-03-14
  </a>
  
    <nav class="md-nav" aria-label="1.2.2 / 2009-03-14">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_33" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_52" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#121-2009-02-23" class="md-nav__link">
    1.2.1 / 2009-02-23
  </a>
  
    <nav class="md-nav" aria-label="1.2.1 / 2009-02-23">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_53" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#120-2009-02-22" class="md-nav__link">
    1.2.0 / 2009-02-22
  </a>
  
    <nav class="md-nav" aria-label="1.2.0 / 2009-02-22">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_34" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_54" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deprecations_3" class="md-nav__link">
    Deprecations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changed_1" class="md-nav__link">
    Changed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#111" class="md-nav__link">
    1.1.1
  </a>
  
    <nav class="md-nav" aria-label="1.1.1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_35" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_55" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#110" class="md-nav__link">
    1.1.0
  </a>
  
    <nav class="md-nav" aria-label="1.1.0">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_36" class="md-nav__link">
    Added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed_56" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#107" class="md-nav__link">
    1.0.7
  </a>
  
    <nav class="md-nav" aria-label="1.0.7">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_57" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#106" class="md-nav__link">
    1.0.6
  </a>
  
    <nav class="md-nav" aria-label="1.0.6">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_58" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#105" class="md-nav__link">
    1.0.5
  </a>
  
    <nav class="md-nav" aria-label="1.0.5">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_59" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#104" class="md-nav__link">
    1.0.4
  </a>
  
    <nav class="md-nav" aria-label="1.0.4">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_60" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#103" class="md-nav__link">
    1.0.3
  </a>
  
    <nav class="md-nav" aria-label="1.0.3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_61" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#102" class="md-nav__link">
    1.0.2
  </a>
  
    <nav class="md-nav" aria-label="1.0.2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_62" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#101" class="md-nav__link">
    1.0.1
  </a>
  
    <nav class="md-nav" aria-label="1.0.1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed_63" class="md-nav__link">
    Fixed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#100-2008-07-13" class="md-nav__link">
    1.0.0 / 2008-07-13
  </a>
  
    <nav class="md-nav" aria-label="1.0.0 / 2008-07-13">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#added_37" class="md-nav__link">
    Added
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="CODE_OF_CONDUCT.html" class="md-nav__link">
      Code of Conduct
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="SECURITY.html" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="LICENSE.html" class="md-nav__link">
      License
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="LICENSE-DEPENDENCIES.html" class="md-nav__link">
      Dependencies
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="ROADMAP.html" class="md-nav__link">
      Roadmap
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="rdoc/index.html" class="md-nav__link">
      RDoc
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="nokogiri-changelog">Nokogiri Changelog<a class="headerlink" href="#nokogiri-changelog" title="Permanent link">&para;</a></h1>
<p>Nokogiri follows <a href="https://semver.org/">Semantic Versioning</a>, please see the <a href="index.html">README.md</a> for details.</p>
<hr />
<h2 id="v1111-2021-01-06">v1.11.1 / 2021-01-06<a class="headerlink" href="#v1111-2021-01-06" title="Permanent link">&para;</a></h2>
<h3 id="fixed">Fixed<a class="headerlink" href="#fixed" title="Permanent link">&para;</a></h3>
<ul>
<li>[CRuby] If <code>libxml-ruby</code> is loaded before <code>nokogiri</code>, the SAX and Push parsers no longer call <code>libxml-ruby</code>'s handlers. Instead, they defensively override the libxml2 global handler before parsing. [<a href="https://github.com/sparklemotion/nokogiri/issues/2168">#2168</a>]</li>
</ul>
<h2 id="v1110-2021-01-03">v1.11.0 / 2021-01-03<a class="headerlink" href="#v1110-2021-01-03" title="Permanent link">&para;</a></h2>
<h3 id="notes">Notes<a class="headerlink" href="#notes" title="Permanent link">&para;</a></h3>
<h4>Faster, more reliable installation: Native Gems for Linux and OSX/Darwin</h4>
<p>"Native gems" contain pre-compiled libraries for a specific machine architecture. On supported platforms, this removes the need for compiling the C extension and the packaged libraries. This results in <strong>much faster installation</strong> and <strong>more reliable installation</strong>, which as you probably know are the biggest headaches for Nokogiri users. </p>
<p>We've been shipping native Windows gems since 2009, but starting in v1.11.0 we are also shipping native gems for these platforms:</p>
<ul>
<li>Linux: <code>x86-linux</code> and <code>x86_64-linux</code> -- including musl platforms like alpine</li>
<li>OSX/Darwin: <code>x86_64-darwin</code> and <code>arm64-darwin</code></li>
</ul>
<p>We'd appreciate your thoughts and feedback on this work at <a href="https://github.com/sparklemotion/nokogiri/issues/2075">#2075</a>.</p>
<h3 id="dependencies">Dependencies<a class="headerlink" href="#dependencies" title="Permanent link">&para;</a></h3>
<h4>Ruby</h4>
<p>This release introduces support for Ruby 2.7 and 3.0 in the precompiled native gems.</p>
<p>This release ends support for:</p>
<ul>
<li>Ruby 2.3, for which <a href="https://www.ruby-lang.org/en/news/2019/03/31/support-of-ruby-2-3-has-ended/">official support ended on 2019-03-31</a> [<a href="https://github.com/sparklemotion/nokogiri/issues/1886">#1886</a>] (Thanks <a href="https://github.com/ashmaroli">@ashmaroli</a>!)</li>
<li>Ruby 2.4, for which <a href="https://www.ruby-lang.org/en/news/2020/04/05/support-of-ruby-2-4-has-ended/">official support ended on 2020-04-05</a></li>
<li>JRuby 9.1, which is the Ruby 2.3-compatible release.</li>
</ul>
<h4>Gems</h4>
<ul>
<li>Explicitly add racc as a runtime dependency. [<a href="https://github.com/sparklemotion/nokogiri/issues/1988">#1988</a>] (Thanks, <a href="https://github.com/voxik">@voxik</a>!)</li>
<li>[MRI] Upgrade mini_portile2 dependency from <code>~&gt; 2.4.0</code> to <code>~&gt; 2.5.0</code> [<a href="https://github.com/sparklemotion/nokogiri/issues/2005">#2005</a>] (Thanks, <a href="https://github.com/alejandroperea">@alejandroperea</a>!)</li>
</ul>
<h3 id="security">Security<a class="headerlink" href="#security" title="Permanent link">&para;</a></h3>
<p>See note below about CVE-2020-26247 in the "Changed" subsection entitled "XML::Schema parsing treats input as untrusted by default".</p>
<h3 id="added">Added<a class="headerlink" href="#added" title="Permanent link">&para;</a></h3>
<ul>
<li>Add Node methods for manipulating "keyword attributes" (for example, <code>class</code> and <code>rel</code>): <code>#kwattr_values</code>, <code>#kwattr_add</code>, <code>#kwattr_append</code>, and <code>#kwattr_remove</code>. [<a href="https://github.com/sparklemotion/nokogiri/issues/2000">#2000</a>]</li>
<li>Add support for CSS queries <code>a:has(&gt; b)</code>, <code>a:has(~ b)</code>, and <code>a:has(+ b)</code>. [<a href="https://github.com/sparklemotion/nokogiri/issues/688">#688</a>] (Thanks, <a href="https://github.com/jonathanhefner">@jonathanhefner</a>!)</li>
<li>Add <code>Node#value?</code> to better match expected semantics of a Hash-like object. [<a href="https://github.com/sparklemotion/nokogiri/issues/1838">#1838</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1840">#1840</a>] (Thanks, <a href="https://github.com/MatzFan">@MatzFan</a>!)</li>
<li>[CRuby] Add <code>Nokogiri::XML::Node#line=</code> for use by downstream libs like nokogumbo. [<a href="https://github.com/sparklemotion/nokogiri/issues/1918">#1918</a>] (Thanks, <a href="https://github.com/stevecheckoway">@stevecheckoway</a>!)</li>
<li><code>nokogiri.gemspec</code> is back after a 10-year hiatus. We still prefer you use the official releases, but master is pretty stable these days, and YOLO.</li>
</ul>
<h3 id="performance">Performance<a class="headerlink" href="#performance" title="Permanent link">&para;</a></h3>
<ul>
<li>[CRuby] The CSS <code>~=</code> operator and class selector <code>.</code> are about 2x faster. [<a href="https://github.com/sparklemotion/nokogiri/issues/2137">#2137</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/2135">#2135</a>]</li>
<li>[CRuby] Patch libxml2 to call <code>strlen</code> from <code>xmlStrlen</code> rather than the naive implementation, because <code>strlen</code> is generally optimized for the architecture. [<a href="https://github.com/sparklemotion/nokogiri/issues/2144">#2144</a>] (Thanks, <a href="https://github.com/ilyazub">@ilyazub</a>!)</li>
<li>Improve performance of some namespace operations. [<a href="https://github.com/sparklemotion/nokogiri/issues/1916">#1916</a>] (Thanks, <a href="https://github.com/ashmaroli">@ashmaroli</a>!)</li>
<li>Remove unnecessary array allocations from Node serialization methods [<a href="https://github.com/sparklemotion/nokogiri/issues/1911">#1911</a>] (Thanks, <a href="https://github.com/ashmaroli">@ashmaroli</a>!)</li>
<li>Avoid creation of unnecessary zero-length String objects. [<a href="https://github.com/sparklemotion/nokogiri/issues/1970">#1970</a>] (Thanks, <a href="https://github.com/ashmaroli">@ashmaroli</a>!)</li>
<li>Always compile libxml2 and libxslt with '-O2' [<a href="https://github.com/sparklemotion/nokogiri/issues/2022">#2022</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/2100">#2100</a>] (Thanks, <a href="https://github.com/ilyazub">@ilyazub</a>!)</li>
<li>[JRuby] Lots of code cleanup and performance improvements. [<a href="https://github.com/sparklemotion/nokogiri/issues/1934">#1934</a>] (Thanks, <a href="https://github.com/kares">@kares</a>!)</li>
<li>[CRuby] <code>RelaxNG.from_document</code> no longer leaks memory. [<a href="https://github.com/sparklemotion/nokogiri/issues/2114">#2114</a>]</li>
</ul>
<h3 id="improved">Improved<a class="headerlink" href="#improved" title="Permanent link">&para;</a></h3>
<ul>
<li>[CRuby] Handle incorrectly-closed HTML comments as WHATWG recommends for browsers. [<a href="https://github.com/sparklemotion/nokogiri/issues/2058">#2058</a>] (Thanks to HackerOne user <a href="https://hackerone.com/mayflower?type=user">mayflower</a> for reporting this!)</li>
<li>{HTML,XML}::Document#parse now accept <code>Pathname</code> objects. Previously this worked only if the referenced file was less than 4096 bytes long; longer files resulted in undefined behavior because the <code>read</code> method would be repeatedly invoked. [<a href="https://github.com/sparklemotion/nokogiri/issues/1821">#1821</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/2110">#2110</a>] (Thanks, <a href="https://github.com/doriantaylor">@doriantaylor</a> and <a href="https://github.com/phokz">@phokz</a>!)</li>
<li>[CRuby] Nokogumbo builds faster because it can now use header files provided by Nokogiri. [<a href="https://github.com/sparklemotion/nokogiri/issues/1788">#1788</a>] (Thanks, <a href="https://github.com/stevecheckoway">@stevecheckoway</a>!)</li>
<li>Add <code>frozen_string_literal: true</code> magic comment to all <code>lib</code> files. [<a href="https://github.com/sparklemotion/nokogiri/issues/1745">#1745</a>] (Thanks, <a href="https://github.com/oniofchaos">@oniofchaos</a>!)</li>
<li>[JRuby] Clean up deprecated calls into JRuby. [<a href="https://github.com/sparklemotion/nokogiri/issues/2027">#2027</a>] (Thanks, <a href="https://github.com/headius">@headius</a>!)</li>
</ul>
<h3 id="fixed_1">Fixed<a class="headerlink" href="#fixed_1" title="Permanent link">&para;</a></h3>
<ul>
<li>HTML Parsing in "strict" mode (i.e., the <code>RECOVER</code> parse option not set) now correctly raises a <code>XML::SyntaxError</code> exception. Previously the value of the <code>RECOVER</code> bit was being ignored by CRuby and was misinterpreted by JRuby. [<a href="https://github.com/sparklemotion/nokogiri/issues/2130">#2130</a>]</li>
<li>The CSS <code>~=</code> operator now correctly handles non-space whitespace in the <code>class</code> attribute. commit e45dedd</li>
<li>The switch to turn off the CSS-to-XPath cache is now thread-local, rather than being shared mutable state. [<a href="https://github.com/sparklemotion/nokogiri/issues/1935">#1935</a>]</li>
<li>The Node methods <code>add_previous_sibling</code>, <code>previous=</code>, <code>before</code>, <code>add_next_sibling</code>, <code>next=</code>, <code>after</code>, <code>replace</code>, and <code>swap</code> now correctly use their parent as the context node for parsing markup. These methods now also raise a <code>RuntimeError</code> if they are called on a node with no parent. [<a href="https://github.com/rubys/nokogumbo/issues/160">nokogumbo#160</a>]</li>
<li>[JRuby] XML::Schema XSD validation errors are captured in <code>XML::Schema#errors</code>. These errors were previously ignored.</li>
<li>[JRuby] Standardize reading from IO like objects, including StringIO. [<a href="https://github.com/sparklemotion/nokogiri/issues/1888">#1888</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1897">#1897</a>]</li>
<li>[JRuby] Fix how custom XPath function namespaces are inferred to be less naive. [<a href="https://github.com/sparklemotion/nokogiri/issues/1890">#1890</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/2148">#2148</a>]</li>
<li>[JRuby] Clarify exception message when custom XPath functions can't be resolved.</li>
<li>[JRuby] Comparison of Node to Document with <code>Node#&lt;=&gt;</code> now matches CRuby/libxml2 behavior.</li>
<li>[CRuby] Syntax errors are now correctly captured in <code>Document#errors</code> for short HTML documents. Previously the SAX parser used for encoding detection was clobbering libxml2's global error handler.</li>
<li>[CRuby] Fixed installation on AIX with respect to <code>vasprintf</code>. [<a href="https://github.com/sparklemotion/nokogiri/issues/1908">#1908</a>]</li>
<li>[CRuby] On some platforms, avoid symbol name collision with glibc's <code>canonicalize</code>. [<a href="https://github.com/sparklemotion/nokogiri/issues/2105">#2105</a>]</li>
<li>[Windows Visual C++] Fixed compiler warnings and errors. [<a href="https://github.com/sparklemotion/nokogiri/issues/2061">#2061</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/2068">#2068</a>]</li>
<li>[CRuby] Fixed Nokogumbo integration which broke in the v1.11.0 release candidates. [<a href="https://github.com/sparklemotion/nokogiri/issues/1788">#1788</a>] (Thanks, <a href="https://github.com/stevecheckoway">@stevecheckoway</a>!)</li>
<li>[JRuby] Fixed document encoding regression in v1.11.0 release candidates. [<a href="https://github.com/sparklemotion/nokogiri/issues/2080">#2080</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/2083">#2083</a>] (Thanks, <a href="https://github.com/thbar">@thbar</a>!)</li>
</ul>
<h3 id="removed">Removed<a class="headerlink" href="#removed" title="Permanent link">&para;</a></h3>
<ul>
<li>The internal method <code>Nokogiri::CSS::Parser.cache_on=</code> has been removed. Use <code>.set_cache</code> if you need to muck with the cache internals.</li>
<li>The class method <code>Nokogiri::CSS::Parser.parse</code> has been removed. This was originally deprecated in 2009 in 13db61b. Use <code>Nokogiri::CSS.parse</code> instead.</li>
</ul>
<h3 id="changed">Changed<a class="headerlink" href="#changed" title="Permanent link">&para;</a></h3>
<h4><code>XML::Schema</code> input is now "untrusted" by default</h4>
<p>Address <a href="https://github.com/sparklemotion/nokogiri/security/advisories/GHSA-vr8q-g5c7-m54m">CVE-2020-26247</a>.</p>
<p>In Nokogiri versions &lt;= 1.11.0.rc3, XML Schemas parsed by <code>Nokogiri::XML::Schema</code> were <strong>trusted</strong> by default, allowing external resources to be accessed over the network, potentially enabling XXE or SSRF attacks.</p>
<p>This behavior is counter to the security policy intended by Nokogiri maintainers, which is to treat all input as <strong>untrusted</strong> by default whenever possible.</p>
<p>Please note that this security fix was pushed into a new minor version, 1.11.x, rather than a patch release to the 1.10.x branch, because it is a breaking change for some schemas and the risk was assessed to be "Low Severity".</p>
<p>More information and instructions for enabling "trusted input" behavior in v1.11.0.rc4 and later is available at the <a href="https://github.com/sparklemotion/nokogiri/security/advisories/GHSA-vr8q-g5c7-m54m">public advisory</a>.</p>
<h4>HTML parser now obeys the <code>strict</code> or <code>norecover</code> parsing option</h4>
<p>(Also noted above in the "Fixed" section) HTML Parsing in "strict" mode (i.e., the <code>RECOVER</code> parse option not set) now correctly raises a <code>XML::SyntaxError</code> exception. Previously the value of the <code>RECOVER</code> bit was being ignored by CRuby and was misinterpreted by JRuby.</p>
<p>If you're using the default parser options, you will be unaffected by this fix. If you're passing <code>strict</code> or <code>norecover</code> to your HTML parser call, you may be surprised to see that the parser now fails to recover and raises a <code>XML::SyntaxError</code> exception. Given the number of HTML documents on the internet that libxml2 would consider to be ill-formed, this is probably not what you want, and you can omit setting that parse option to restore the behavior that you have been relying upon.</p>
<p>Apologies to anyone inconvenienced by this breaking bugfix being present in a minor release, but I felt it was appropriate to introduce this fix because it's straightforward to fix any code that has been relying on this buggy behavior.</p>
<h4><code>VersionInfo</code>, the output of <code>nokogiri -v</code>, and related constants</h4>
<p>This release changes the metadata provided in <code>Nokogiri::VersionInfo</code> which also affects the output of <code>nokogiri -v</code>. Some related constants have also been changed. If you're using <code>VersionInfo</code> programmatically, or relying on constants related to underlying library versions, please read the detailed changes for <code>Nokogiri::VersionInfo</code> at <a href="https://github.com/sparklemotion/nokogiri/issues/2139">#2139</a> and accept our apologies for the inconvenience.</p>
<h2 id="11010-2020-07-06">1.10.10 / 2020-07-06<a class="headerlink" href="#11010-2020-07-06" title="Permanent link">&para;</a></h2>
<h3 id="features">Features<a class="headerlink" href="#features" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] Cross-built Windows gems now support Ruby 2.7 [<a href="https://github.com/sparklemotion/nokogiri/issues/2029">#2029</a>]. Note that prior to this release, the v1.11.x prereleases provided this support.</li>
</ul>
<h2 id="1109-2020-03-01">1.10.9 / 2020-03-01<a class="headerlink" href="#1109-2020-03-01" title="Permanent link">&para;</a></h2>
<h3 id="fixed_2">Fixed<a class="headerlink" href="#fixed_2" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] Raise an exception when Nokogiri detects a specific libxml2 edge case involving blank Schema nodes wrapped by Ruby objects that would cause a segfault. Currently no fix is available upstream, so we're preventing a dangerous operation and informing users to code around it if possible. [<a href="https://github.com/sparklemotion/nokogiri/issues/1985">#1985</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/2001">#2001</a>]</li>
<li>[JRuby] Change <code>NodeSet#to_a</code> to return a RubyArray instead of Object, for compilation under JRuby 9.2.9 and later. [<a href="https://github.com/sparklemotion/nokogiri/issues/1968">#1968</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1969">#1969</a>] (Thanks, <a href="https://github.com/headius">@headius</a>!)</li>
</ul>
<h2 id="1108-2020-02-10">1.10.8 / 2020-02-10<a class="headerlink" href="#1108-2020-02-10" title="Permanent link">&para;</a></h2>
<h3 id="security_1">Security<a class="headerlink" href="#security_1" title="Permanent link">&para;</a></h3>
<p>[MRI] Pulled in upstream patch from libxml that addresses CVE-2020-7595. Full details are available in <a href="https://github.com/sparklemotion/nokogiri/issues/1992">#1992</a>. Note that this patch is not yet (as of 2020-02-10) in an upstream release of libxml.</p>
<h2 id="1107-2019-12-03">1.10.7 / 2019-12-03<a class="headerlink" href="#1107-2019-12-03" title="Permanent link">&para;</a></h2>
<h3 id="fixed_3">Fixed<a class="headerlink" href="#fixed_3" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] Ensure the patch applied in v1.10.6 works with GNU <code>patch</code>. [<a href="https://github.com/sparklemotion/nokogiri/issues/1954">#1954</a>]</li>
</ul>
<h2 id="1106-2019-12-03">1.10.6 / 2019-12-03<a class="headerlink" href="#1106-2019-12-03" title="Permanent link">&para;</a></h2>
<h3 id="fixed_4">Fixed<a class="headerlink" href="#fixed_4" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] Fix FreeBSD installation of vendored libxml2. [<a href="https://github.com/sparklemotion/nokogiri/issues/1941">#1941</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1953">#1953</a>] (Thanks, <a href="https://github.com/nurse">@nurse</a>!)</li>
</ul>
<h2 id="1105-2019-10-31">1.10.5 / 2019-10-31<a class="headerlink" href="#1105-2019-10-31" title="Permanent link">&para;</a></h2>
<h3 id="security_2">Security<a class="headerlink" href="#security_2" title="Permanent link">&para;</a></h3>
<p>[MRI] Vendored libxslt upgraded to v1.1.34 which addresses three CVEs for libxslt:</p>
<ul>
<li>CVE-2019-13117</li>
<li>CVE-2019-13118</li>
<li>CVE-2019-18197</li>
<li>CVE-2019-19956</li>
</ul>
<p>More details are available at <a href="https://github.com/sparklemotion/nokogiri/issues/1943">#1943</a>.</p>
<h3 id="dependencies_1">Dependencies<a class="headerlink" href="#dependencies_1" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] vendored libxml2 is updated from 2.9.9 to 2.9.10</li>
<li>[MRI] vendored libxslt is updated from 1.1.33 to 1.1.34</li>
</ul>
<h2 id="1104-2019-08-11">1.10.4 / 2019-08-11<a class="headerlink" href="#1104-2019-08-11" title="Permanent link">&para;</a></h2>
<h3 id="security_3">Security<a class="headerlink" href="#security_3" title="Permanent link">&para;</a></h3>
<p>Address CVE-2019-5477 (<a href="https://github.com/sparklemotion/nokogiri/issues/1915">#1915</a>).</p>
<p>A command injection vulnerability in Nokogiri v1.10.3 and earlier allows commands to be executed in a subprocess by Ruby's <code>Kernel.open</code> method. Processes are vulnerable only if the undocumented method <code>Nokogiri::CSS::Tokenizer#load_file</code> is being passed untrusted user input.</p>
<p>This vulnerability appears in code generated by the Rexical gem versions v1.0.6 and earlier. Rexical is used by Nokogiri to generate lexical scanner code for parsing CSS queries. The underlying vulnerability was addressed in Rexical v1.0.7 and Nokogiri upgraded to this version of Rexical in Nokogiri v1.10.4.</p>
<p>This CVE's public notice is <a href="https://github.com/sparklemotion/nokogiri/issues/1915">#1915</a></p>
<h2 id="1103-2019-04-22">1.10.3 / 2019-04-22<a class="headerlink" href="#1103-2019-04-22" title="Permanent link">&para;</a></h2>
<h3 id="security_4">Security<a class="headerlink" href="#security_4" title="Permanent link">&para;</a></h3>
<p>[MRI] Pulled in upstream patch from libxslt that addresses CVE-2019-11068. Full details are available in <a href="https://github.com/sparklemotion/nokogiri/issues/1892">#1892</a>. Note that this patch is not yet (as of 2019-04-22) in an upstream release of libxslt.</p>
<h2 id="1102-2019-03-24">1.10.2 / 2019-03-24<a class="headerlink" href="#1102-2019-03-24" title="Permanent link">&para;</a></h2>
<h3 id="security_5">Security<a class="headerlink" href="#security_5" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] Remove support from vendored libxml2 for future script macros. [<a href="https://github.com/sparklemotion/nokogiri/issues/1871">#1871</a>]</li>
<li>[MRI] Remove support from vendored libxml2 for server-side includes within attributes. [<a href="https://github.com/sparklemotion/nokogiri/issues/1877">#1877</a>]</li>
</ul>
<h3 id="fixed_5">Fixed<a class="headerlink" href="#fixed_5" title="Permanent link">&para;</a></h3>
<ul>
<li>[JRuby] Fix node ownership in duplicated documents. [<a href="https://github.com/sparklemotion/nokogiri/issues/1060">#1060</a>]</li>
<li>[JRuby] Rethrow exceptions caught by Java SAX handler. [<a href="https://github.com/sparklemotion/nokogiri/issues/1847">#1847</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1872">#1872</a>] (Thanks, <a href="https://github.com/adjam">@adjam</a>!)</li>
</ul>
<h2 id="1101-2019-01-13">1.10.1 / 2019-01-13<a class="headerlink" href="#1101-2019-01-13" title="Permanent link">&para;</a></h2>
<h3 id="added_1">Added<a class="headerlink" href="#added_1" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] During installation, handle Xcode 10's new library path. [<a href="https://github.com/sparklemotion/nokogiri/issues/1801">#1801</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1851">#1851</a>] (Thanks, <a href="https://github.com/mlj">@mlj</a> and <a href="https://github.com/deepj">@deepj</a>!)</li>
<li>Avoid unnecessary creation of <code>Proc</code>s in many methods. [<a href="https://github.com/sparklemotion/nokogiri/issues/1776">#1776</a>] (Thanks, <a href="https://github.com/chopraanmol1">@chopraanmol1</a>!)</li>
</ul>
<h3 id="fixed_6">Fixed<a class="headerlink" href="#fixed_6" title="Permanent link">&para;</a></h3>
<ul>
<li>CSS selector <code>:has()</code> now correctly matches against any descendant. Previously this selector matched against only direct children). [<a href="https://github.com/sparklemotion/nokogiri/issues/350">#350</a>] (Thanks, <a href="https://github.com/Phrogz">@Phrogz</a>!)</li>
<li><code>NodeSet#attr</code> now returns <code>nil</code> if it's empty. Previously this raised a NoMethodError.</li>
<li>[MRI] XPath errors are no longer suppressed during <code>XSLT::Stylesheet#transform</code>. Previously these errors were suppressed which led to silent failures and a subsequent segfault. [<a href="https://github.com/sparklemotion/nokogiri/issues/1802">#1802</a>]</li>
</ul>
<h2 id="1100-2019-01-04">1.10.0 / 2019-01-04<a class="headerlink" href="#1100-2019-01-04" title="Permanent link">&para;</a></h2>
<h3 id="added_2">Added<a class="headerlink" href="#added_2" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] Cross-built Windows gems now support Ruby 2.6 [<a href="https://github.com/sparklemotion/nokogiri/issues/1842">#1842</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1850">#1850</a>]</li>
</ul>
<h3 id="dependencies_2">Dependencies<a class="headerlink" href="#dependencies_2" title="Permanent link">&para;</a></h3>
<ul>
<li>This release ends support for Ruby 2.2, for which <a href="https://www.ruby-lang.org/en/news/2018/06/20/support-of-ruby-2-2-has-ended/">official support ended on 2018-03-31</a> [<a href="https://github.com/sparklemotion/nokogiri/issues/1841">#1841</a>]</li>
<li>This release ends support for JRuby 1.7, for which <a href="https://github.com/jruby/jruby/issues/4112">official support ended on 2017-11-21</a> [<a href="https://github.com/sparklemotion/nokogiri/issues/1741">#1741</a>]</li>
<li>[MRI] libxml2 is updated from 2.9.8 to 2.9.9</li>
<li>[MRI] libxslt is updated from 1.1.32 to 1.1.33</li>
</ul>
<h2 id="191-2018-12-17">1.9.1 / 2018-12-17<a class="headerlink" href="#191-2018-12-17" title="Permanent link">&para;</a></h2>
<h3 id="fixed_7">Fixed<a class="headerlink" href="#fixed_7" title="Permanent link">&para;</a></h3>
<ul>
<li>Fix a bug introduced in v1.9.0 where <code>XML::DocumentFragment#dup</code> no longer returned an instance of the callee's class, instead always returning an <code>XML::DocumentFragment</code>. This notably broke any subclass of <code>XML::DocumentFragment</code> including <code>HTML::DocumentFragment</code> as well as the Loofah gem's <code>Loofah::HTML::DocumentFragment</code>. [<a href="https://github.com/sparklemotion/nokogiri/issues/1846">#1846</a>]</li>
</ul>
<h2 id="190-2018-12-17">1.9.0 / 2018-12-17<a class="headerlink" href="#190-2018-12-17" title="Permanent link">&para;</a></h2>
<h3 id="security_6">Security<a class="headerlink" href="#security_6" title="Permanent link">&para;</a></h3>
<ul>
<li>[JRuby] Upgrade Xerces dependency from 2.11.0 to 2.12.0 to address upstream vulnerability CVE-2012-0881 [<a href="https://github.com/sparklemotion/nokogiri/issues/1831">#1831</a>] (Thanks <a href="https://github.com/grajagandev">@grajagandev</a> for reporting.)</li>
</ul>
<h3 id="improved_1">Improved<a class="headerlink" href="#improved_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Decrease installation size by removing many unneeded files (e.g., <code>/test</code>) from the packaged gems. [<a href="https://github.com/sparklemotion/nokogiri/issues/1719">#1719</a>] (Thanks, <a href="https://github.com/stevecrozz">@stevecrozz</a>!)</li>
</ul>
<h3 id="added_3">Added<a class="headerlink" href="#added_3" title="Permanent link">&para;</a></h3>
<ul>
<li><code>XML::Attr#value=</code> allows HTML node attribute values to be set to either a blank string or an empty boolean attribute. [<a href="https://github.com/sparklemotion/nokogiri/issues/1800">#1800</a>]</li>
<li>Introduce <code>XML::Node#wrap</code> which does what <code>XML::NodeSet#wrap</code> has always done, but for a single node. [<a href="https://github.com/sparklemotion/nokogiri/issues/1531">#1531</a>] (Thanks, <a href="https://github.com/ethirajsrinivasan">@ethirajsrinivasan</a>!)</li>
<li>[MRI] Improve installation experience on macOS High Sierra (Darwin). [<a href="https://github.com/sparklemotion/nokogiri/issues/1812">#1812</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1813">#1813</a>] (Thanks, <a href="https://github.com/gpakosz">@gpakosz</a> and <a href="https://github.com/nurse">@nurse</a>!)</li>
<li>[MRI] Node#dup supports copying a node directly to a new document. See the method documentation for details.</li>
<li>[MRI] DocumentFragment#dup is now more memory-efficient, avoiding making unnecessary copies. [<a href="https://github.com/sparklemotion/nokogiri/issues/1063">#1063</a>]</li>
<li>[JRuby] NodeSet has been rewritten to improve performance! [<a href="https://github.com/sparklemotion/nokogiri/issues/1795">#1795</a>]</li>
</ul>
<h3 id="fixed_8">Fixed<a class="headerlink" href="#fixed_8" title="Permanent link">&para;</a></h3>
<ul>
<li><code>NodeSet#each</code> now returns <code>self</code> instead of zero. [<a href="https://github.com/sparklemotion/nokogiri/issues/1822">#1822</a>] (Thanks, <a href="https://github.com/olehif">@olehif</a>!)</li>
<li>[MRI] Address a memory leak when using XML::Builder to create nodes with namespaces. [<a href="https://github.com/sparklemotion/nokogiri/issues/1810">#1810</a>]</li>
<li>[MRI] Address a memory leak when unparenting a DTD. [<a href="https://github.com/sparklemotion/nokogiri/issues/1784">#1784</a>] (Thanks, <a href="https://github.com/stevecheckoway">@stevecheckoway</a>!)</li>
<li>[MRI] Use RbConfig::CONFIG instead of ::MAKEFILE_CONFIG to fix installations that use Makefile macros. [<a href="https://github.com/sparklemotion/nokogiri/issues/1820">#1820</a>] (Thanks, <a href="https://github.com/nobu">@nobu</a>!)</li>
<li>[JRuby] Decrease large memory usage when making nested XPath queries. [<a href="https://github.com/sparklemotion/nokogiri/issues/1749">#1749</a>]</li>
<li>[JRuby] Fix failing tests on JRuby 9.2.x</li>
<li>[JRuby] Fix default namespaces in nodes reparented into a different document [<a href="https://github.com/sparklemotion/nokogiri/issues/1774">#1774</a>]</li>
<li>[JRuby] Fix support for Java 9. [<a href="https://github.com/sparklemotion/nokogiri/issues/1759">#1759</a>] (Thanks, <a href="https://github.com/Taywee">@Taywee</a>!)</li>
</ul>
<h3 id="dependencies_3">Dependencies<a class="headerlink" href="#dependencies_3" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] Upgrade mini_portile2 dependency from <code>~&gt; 2.3.0</code> to <code>~&gt; 2.4.0</code></li>
</ul>
<h2 id="185-2018-10-04">1.8.5 / 2018-10-04<a class="headerlink" href="#185-2018-10-04" title="Permanent link">&para;</a></h2>
<h3 id="security_7">Security<a class="headerlink" href="#security_7" title="Permanent link">&para;</a></h3>
<p>[MRI] Pulled in upstream patches from libxml2 that address CVE-2018-14404 and CVE-2018-14567. Full details are available in <a href="https://github.com/sparklemotion/nokogiri/issues/1785">#1785</a>. Note that these patches are not yet (as of 2018-10-04) in an upstream release of libxml2.</p>
<h3 id="fixed_9">Fixed<a class="headerlink" href="#fixed_9" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] Fix regression in installation when building against system libraries, where some systems would not be able to find libxml2 or libxslt when present. (Regression introduced in v1.8.3.) [<a href="https://github.com/sparklemotion/nokogiri/issues/1722">#1722</a>]</li>
<li>[JRuby] Fix node reparenting when the destination doc is empty. [<a href="https://github.com/sparklemotion/nokogiri/issues/1773">#1773</a>]</li>
</ul>
<h2 id="184-2018-07-03">1.8.4 / 2018-07-03<a class="headerlink" href="#184-2018-07-03" title="Permanent link">&para;</a></h2>
<h3 id="fixed_10">Fixed<a class="headerlink" href="#fixed_10" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] Fix memory leak when creating nodes with namespaces. (Introduced in v1.5.7) [<a href="https://github.com/sparklemotion/nokogiri/issues/1771">#1771</a>]</li>
</ul>
<h2 id="183-2018-06-16">1.8.3 / 2018-06-16<a class="headerlink" href="#183-2018-06-16" title="Permanent link">&para;</a></h2>
<h3 id="security_8">Security<a class="headerlink" href="#security_8" title="Permanent link">&para;</a></h3>
<p>[MRI] Behavior in libxml2 has been reverted which caused CVE-2018-8048 (loofah gem), CVE-2018-3740 (sanitize gem), and CVE-2018-3741 (rails-html-sanitizer gem). The commit in question is here:</p>
<blockquote>
<p><a href="https://github.com/GNOME/libxml2/commit/960f0e2">https://github.com/GNOME/libxml2/commit/960f0e2</a></p>
</blockquote>
<p>and more information is available about this commit and its impact here:</p>
<blockquote>
<p><a href="https://github.com/flavorjones/loofah/issues/144">https://github.com/flavorjones/loofah/issues/144</a></p>
</blockquote>
<p>This release simply reverts the libxml2 commit in question to protect users of Nokogiri's vendored libraries from similar vulnerabilities.</p>
<p>If you're offended by what happened here, I'd kindly ask that you comment on the upstream bug report here:</p>
<blockquote>
<p><a href="https://bugzilla.gnome.org/show_bug.cgi?id=769760">https://bugzilla.gnome.org/show_bug.cgi?id=769760</a></p>
</blockquote>
<h3 id="more-security">More Security<a class="headerlink" href="#more-security" title="Permanent link">&para;</a></h3>
<p>[MRI] Vendored libxml2 upgraded to v2.9.8 which addresses CVE-2016-9318 [<a href="https://github.com/sparklemotion/nokogiri/issues/1582">#1582</a>].</p>
<h3 id="dependencies_4">Dependencies<a class="headerlink" href="#dependencies_4" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] libxml2 is updated from 2.9.7 to 2.9.8</li>
</ul>
<h3 id="added_4">Added<a class="headerlink" href="#added_4" title="Permanent link">&para;</a></h3>
<ul>
<li>Node#classes, #add_class, #append_class, and #remove_class are added.</li>
<li>NodeSet#append_class is added.</li>
<li>NodeSet#remove_attribute is a new alias for NodeSet#remove_attr.</li>
<li>NodeSet#each now returns an Enumerator when no block is passed (Thanks, <a href="https://github.com/park53kr">@park53kr</a>!)</li>
<li>[JRuby] General improvements in JRuby implementation (Thanks, <a href="https://github.com/kares">@kares</a>!)</li>
</ul>
<h3 id="fixed_11">Fixed<a class="headerlink" href="#fixed_11" title="Permanent link">&para;</a></h3>
<ul>
<li>CSS attribute selectors now gracefully handle queries using integers. [<a href="https://github.com/sparklemotion/nokogiri/issues/711">#711</a>]</li>
<li>Handle ASCII-8BIT encoding on fragment input [<a href="https://github.com/sparklemotion/nokogiri/issues/553">#553</a>]</li>
<li>Handle non-string return values within <code>Reader</code> [<a href="https://github.com/sparklemotion/nokogiri/issues/898">#898</a>]</li>
<li>[JRuby] Allow Node#replace to insert Comment and CDATA nodes. [<a href="https://github.com/sparklemotion/nokogiri/issues/1666">#1666</a>]</li>
<li>[JRuby] Stability and speed improvements to <code>Node</code>, <code>Sax::PushParser</code>, and the JRuby implementation [<a href="https://github.com/sparklemotion/nokogiri/issues/1708">#1708</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1710">#1710</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1501">#1501</a>]</li>
</ul>
<h2 id="182-2018-01-29">1.8.2 / 2018-01-29<a class="headerlink" href="#182-2018-01-29" title="Permanent link">&para;</a></h2>
<h3 id="security_9">Security<a class="headerlink" href="#security_9" title="Permanent link">&para;</a></h3>
<p>[MRI] The update of vendored libxml2 from 2.9.5 to 2.9.7 addresses at least one published vulnerability, CVE-2017-15412. [<a href="https://github.com/sparklemotion/nokogiri/issues/1714">#1714</a> has complete details]</p>
<h3 id="dependencies_5">Dependencies<a class="headerlink" href="#dependencies_5" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] libxml2 is updated from 2.9.5 to 2.9.7</li>
<li>[MRI] libxslt is updated from 1.1.30 to 1.1.32</li>
</ul>
<h3 id="added_5">Added<a class="headerlink" href="#added_5" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] OpenBSD installation should be a bit easier now. [<a href="https://github.com/sparklemotion/nokogiri/issues/1685">#1685</a>] (Thanks, <a href="https://github.com/jeremyevans">@jeremyevans</a>!)</li>
<li>[MRI] Cross-built Windows gems now support Ruby 2.5</li>
</ul>
<h3 id="fixed_12">Fixed<a class="headerlink" href="#fixed_12" title="Permanent link">&para;</a></h3>
<ul>
<li>Node#serialize once again returns UTF-8-encoded strings. [<a href="https://github.com/sparklemotion/nokogiri/issues/1659">#1659</a>]</li>
<li>[JRuby] made SAX parsing of characters consistent with C implementation [<a href="https://github.com/sparklemotion/nokogiri/issues/1676">#1676</a>] (Thanks, <a href="https://github.com/andrew-aladev">[@andrew](https://github.com/andrew)-aladev</a>!)</li>
<li>[MRI] Predefined entities, when inspected, no longer cause a segfault. [<a href="https://github.com/sparklemotion/nokogiri/issues/1238">#1238</a>]</li>
</ul>
<h2 id="181-2017-09-19">1.8.1 / 2017-09-19<a class="headerlink" href="#181-2017-09-19" title="Permanent link">&para;</a></h2>
<h3 id="dependencies_6">Dependencies<a class="headerlink" href="#dependencies_6" title="Permanent link">&para;</a></h3>
<ul>
<li>[MRI] libxml2 is updated from 2.9.4 to 2.9.5.</li>
<li>[MRI] libxslt is updated from 1.1.29 to 1.1.30.</li>
<li>[MRI] optional dependency on the pkg-config gem has had its constraint loosened to <code>~&gt; 1.1</code> (from <code>~&gt; 1.1.7</code>). [<a href="https://github.com/sparklemotion/nokogiri/issues/1660">#1660</a>]</li>
<li>[MRI] Upgrade mini_portile2 dependency from <code>~&gt; 2.2.0</code> to <code>~&gt; 2.3.0</code>, which will validate checksums on the vendored libxml2 and libxslt tarballs before using them.</li>
</ul>
<h3 id="fixed_13">Fixed<a class="headerlink" href="#fixed_13" title="Permanent link">&para;</a></h3>
<ul>
<li>NodeSet#first with an integer argument longer than the length of the NodeSet now correctly clamps the length of the returned NodeSet to the original length. [<a href="https://github.com/sparklemotion/nokogiri/issues/1650">#1650</a>] (Thanks, <a href="https://github.com/Derenge">@Derenge</a>!)</li>
<li>[MRI] Ensure CData.new raises TypeError if the <code>content</code> argument is not implicitly convertible into a string. [<a href="https://github.com/sparklemotion/nokogiri/issues/1669">#1669</a>]</li>
</ul>
<h2 id="180-2017-06-04">1.8.0 / 2017-06-04<a class="headerlink" href="#180-2017-06-04" title="Permanent link">&para;</a></h2>
<h3 id="dependencies_7">Dependencies<a class="headerlink" href="#dependencies_7" title="Permanent link">&para;</a></h3>
<p>This release ends support for Ruby 2.1 on Windows in the <code>x86-mingw32</code> and <code>x64-mingw32</code> platform gems (containing pre-compiled DLLs). Official support ended for Ruby 2.1 on 2017-04-01.</p>
<p>Please note that this deprecation note only applies to the precompiled Windows gems. Ruby 2.1 continues to be supported (for now) in the default gem when compiled on installation.</p>
<h3 id="dependencies_8">Dependencies<a class="headerlink" href="#dependencies_8" title="Permanent link">&para;</a></h3>
<ul>
<li>[Windows] Upgrade iconv from 1.14 to 1.15 (unless --use-system-libraries)</li>
<li>[Windows] Upgrade zlib from 1.2.8 to 1.2.11 (unless --use-system-libraries)</li>
<li>[MRI] Upgrade rake-compiler dependency from 0.9.2 to 1.0.3</li>
<li>[MRI] Upgrade mini-portile2 dependency from <code>~&gt; 2.1.0</code> to <code>~&gt; 2.2.0</code></li>
<li>[JRuby] Removed support for <code>jruby --1.8</code> code paths. [<a href="https://github.com/sparklemotion/nokogiri/issues/1607">#1607</a>] (Thanks, <a href="https://github.com/kares">@kares</a>!)</li>
<li>[MRI Windows] Retrieve zlib source from <a href="http://zlib.net/fossils">http://zlib.net/fossils</a> to avoid deprecation issues going forward. See <a href="https://github.com/sparklemotion/nokogiri/issues/1632">#1632</a> for details around this problem.</li>
</ul>
<h3 id="added_6">Added<a class="headerlink" href="#added_6" title="Permanent link">&para;</a></h3>
<ul>
<li>NodeSet#clone is now an alias for NodeSet#dup [<a href="https://github.com/sparklemotion/nokogiri/issues/1503">#1503</a>] (Thanks, <a href="https://github.com/stephankaag">@stephankaag</a>!)</li>
<li>Allow Processing Instructions and Comments as children of a document root. [<a href="https://github.com/sparklemotion/nokogiri/issues/1033">#1033</a>] (Thanks, <a href="https://github.com/windwiny">@windwiny</a>!)</li>
<li>[MRI] PushParser#replace_entities and #replace_entities= will control whether entities are replaced or not. [<a href="https://github.com/sparklemotion/nokogiri/issues/1017">#1017</a>] (Thanks, <a href="https://github.com/spraints">@spraints</a>!)</li>
<li>[MRI] SyntaxError#to_s now includes line number, column number, and log level if made available by the parser. [<a href="https://github.com/sparklemotion/nokogiri/issues/1304">#1304</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1637">#1637</a>] (Thanks, <a href="https://github.com/spk">@spk</a> and <a href="https://github.com/ccarruitero">@ccarruitero</a>!)</li>
<li>[MRI] Cross-built Windows gems now support Ruby 2.4</li>
<li>[MRI] Support for frozen string literals. [<a href="https://github.com/sparklemotion/nokogiri/issues/1413">#1413</a>]</li>
<li>[MRI] Support for installing Nokogiri on a machine in FIPS-enabled mode [<a href="https://github.com/sparklemotion/nokogiri/issues/1544">#1544</a>]</li>
<li>[MRI] Vendored libraries are verified with SHA-256 hashes (formerly some MD5 hashes were used) [<a href="https://github.com/sparklemotion/nokogiri/issues/1544">#1544</a>]</li>
<li>[JRuby] (performance) remove unnecessary synchronization of class-cache [<a href="https://github.com/sparklemotion/nokogiri/issues/1563">#1563</a>] (Thanks, <a href="https://github.com/kares">@kares</a>!)</li>
<li>[JRuby] (performance) remove unnecessary cloning of objects in XPath searches [<a href="https://github.com/sparklemotion/nokogiri/issues/1563">#1563</a>] (Thanks, <a href="https://github.com/kares">@kares</a>!)</li>
<li>[JRuby] (performance) more performance improvements, particularly in XPath, Reader, XmlNode, and XmlNodeSet [<a href="https://github.com/sparklemotion/nokogiri/issues/1597">#1597</a>] (Thanks, <a href="https://github.com/kares">@kares</a>!)</li>
</ul>
<h3 id="fixed_14">Fixed<a class="headerlink" href="#fixed_14" title="Permanent link">&para;</a></h3>
<ul>
<li>HTML::SAX::Parser#parse_io now correctly parses HTML and not XML [<a href="https://github.com/sparklemotion/nokogiri/issues/1577">#1577</a>] (Thanks for the test case, <a href="https://github.com/gregors">@gregors</a>!)</li>
<li>Support installation on systems with a <code>lib64</code> site config. [<a href="https://github.com/sparklemotion/nokogiri/issues/1562">#1562</a>]</li>
<li>[MRI] on OpenBSD, do not require gcc if using system libraries [<a href="https://github.com/sparklemotion/nokogiri/issues/1515">#1515</a>] (Thanks, <a href="https://github.com/jeremyevans">@jeremyevans</a>!)</li>
<li>[MRI] XML::Attr.new checks type of Document arg to prevent segfaults. [<a href="https://github.com/sparklemotion/nokogiri/issues/1477">#1477</a>]</li>
<li>[MRI] Prefer xmlCharStrdup (and friends) to strdup (and friends), which can cause problems on some platforms. [<a href="https://github.com/sparklemotion/nokogiri/issues/1517">#1517</a>] (Thanks, <a href="https://github.com/jeremy">@jeremy</a>!)</li>
<li>[JRuby] correctly append a text node before another text node [<a href="https://github.com/sparklemotion/nokogiri/issues/1318">#1318</a>] (Thanks, <a href="https://github.com/jkraemer">@jkraemer</a>!)</li>
<li>[JRuby] custom xpath functions returning an integer now work correctly [<a href="https://github.com/sparklemotion/nokogiri/issues/1595">#1595</a>] (Thanks, <a href="https://github.com/kares">@kares</a>!)</li>
<li>[JRuby] serializing (<code>#to_html</code>, <code>#to_s</code>, et al) a document with explicit encoding now works correctly. [<a href="https://github.com/sparklemotion/nokogiri/issues/1281">#1281</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1440">#1440</a>] (Thanks, <a href="https://github.com/kares">@kares</a>!)</li>
<li>[JRuby] XML::Reader now returns parse errors [<a href="https://github.com/sparklemotion/nokogiri/issues/1586">#1586</a>] (Thanks, <a href="https://github.com/kares">@kares</a>!)</li>
<li>[JRuby] Empty NodeSets are now decorated properly. [<a href="https://github.com/sparklemotion/nokogiri/issues/1319">#1319</a>] (Thanks, <a href="https://github.com/kares">@kares</a>!)</li>
<li>[JRuby] Merged nodes no longer results in Java exceptions during XPath queries. [<a href="https://github.com/sparklemotion/nokogiri/issues/1320">#1320</a>] (Thanks, <a href="https://github.com/kares">@kares</a>!)</li>
</ul>
<h2 id="172-2017-05-09">1.7.2 / 2017-05-09<a class="headerlink" href="#172-2017-05-09" title="Permanent link">&para;</a></h2>
<h3 id="security_10">Security<a class="headerlink" href="#security_10" title="Permanent link">&para;</a></h3>
<p>[MRI] Upstream libxslt patches are applied to the vendored libxslt 1.1.29 which address CVE-2017-5029 and CVE-2016-4738.</p>
<p>For more information:</p>
<ul>
<li><a href="https://github.com/sparklemotion/nokogiri/issues/1634">#1634</a></li>
<li><a href="http://people.canonical.com/~ubuntu-security/cve/2017/CVE-2017-5029.html">http://people.canonical.com/~ubuntu-security/cve/2017/CVE-2017-5029.html</a></li>
<li><a href="http://people.canonical.com/~ubuntu-security/cve/2016/CVE-2016-4738.html">http://people.canonical.com/~ubuntu-security/cve/2016/CVE-2016-4738.html</a></li>
</ul>
<h2 id="171-2017-03-19">1.7.1 / 2017-03-19<a class="headerlink" href="#171-2017-03-19" title="Permanent link">&para;</a></h2>
<h3 id="security_11">Security<a class="headerlink" href="#security_11" title="Permanent link">&para;</a></h3>
<p>[MRI] Upstream libxml2 patches are applied to the vendored libxml 2.9.4 which address CVE-2016-4658 and CVE-2016-5131.</p>
<p>For more information:</p>
<ul>
<li><a href="https://github.com/sparklemotion/nokogiri/issues/1615">#1615</a></li>
<li><a href="http://people.canonical.com/~ubuntu-security/cve/2016/CVE-2016-4658.html">http://people.canonical.com/~ubuntu-security/cve/2016/CVE-2016-4658.html</a></li>
<li><a href="http://people.canonical.com/~ubuntu-security/cve/2016/CVE-2016-5131.html">http://people.canonical.com/~ubuntu-security/cve/2016/CVE-2016-5131.html</a></li>
</ul>
<h2 id="1701-2017-01-04">1.7.0.1 / 2017-01-04<a class="headerlink" href="#1701-2017-01-04" title="Permanent link">&para;</a></h2>
<h3 id="fixed_15">Fixed<a class="headerlink" href="#fixed_15" title="Permanent link">&para;</a></h3>
<ul>
<li>Fix OpenBSD support. (<a href="https://github.com/sparklemotion/nokogiri/issues/1569">#1569</a>) (related to <a href="https://github.com/sparklemotion/nokogiri/issues/1543">#1543</a>)</li>
</ul>
<h2 id="170-2016-12-26">1.7.0 / 2016-12-26<a class="headerlink" href="#170-2016-12-26" title="Permanent link">&para;</a></h2>
<h3 id="added_7">Added<a class="headerlink" href="#added_7" title="Permanent link">&para;</a></h3>
<ul>
<li>Remove deprecation warnings in Ruby 2.4.0 (<a href="https://github.com/sparklemotion/nokogiri/issues/1545">#1545</a>) (Thanks, <a href="https://github.com/matthewd">@matthewd</a>!)</li>
<li>Support egcc compiler on OpenBSD (<a href="https://github.com/sparklemotion/nokogiri/issues/1543">#1543</a>) (Thanks, <a href="https://github.com/frenkel">@frenkel</a> and <a href="https://github.com/knu">@knu</a>!)</li>
</ul>
<h3 id="dependencies_9">Dependencies<a class="headerlink" href="#dependencies_9" title="Permanent link">&para;</a></h3>
<p>This release ends support for:</p>
<ul>
<li>Ruby 1.9.2, for which official support ended on 2014-07-31</li>
<li>Ruby 1.9.3, for which official support ended on 2015-02-23</li>
<li>Ruby 2.0.0, for which official support ended on 2016-02-24</li>
<li>MacRuby, which hasn't been actively supported since 2015-01-13 (see <a href="https://github.com/MacRuby/MacRuby/commit/f76b9d6e99c18236db617e8aceb12c27d593a483">https://github.com/MacRuby/MacRuby/commit/f76b9d6e99c18236db617e8aceb12c27d593a483</a>)</li>
</ul>
<h2 id="1681-2016-10-03">1.6.8.1 / 2016-10-03<a class="headerlink" href="#1681-2016-10-03" title="Permanent link">&para;</a></h2>
<h3 id="dependencies_10">Dependencies<a class="headerlink" href="#dependencies_10" title="Permanent link">&para;</a></h3>
<p>Removes required dependency on the <code>pkg-config</code> gem. This dependency
was introduced in v1.6.8 and, because it's distributed under LGPL, was
objectionable to many Nokogiri users (<a href="https://github.com/sparklemotion/nokogiri/issues/1488">#1488</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1496">#1496</a>).</p>
<p>This version makes <code>pkg-config</code> an optional dependency. If it's
installed, it's used; but otherwise Nokogiri will attempt to work
around its absence.</p>
<h2 id="168-2016-06-06">1.6.8 / 2016-06-06<a class="headerlink" href="#168-2016-06-06" title="Permanent link">&para;</a></h2>
<h3 id="security_12">Security<a class="headerlink" href="#security_12" title="Permanent link">&para;</a></h3>
<p>[MRI] Bundled libxml2 is upgraded to 2.9.4, which fixes many security issues. Many of these had previously been patched in the vendored libxml 2.9.2 in the 1.6.7.x branch, but some are newer.</p>
<p>See these libxml2 email posts for more:</p>
<ul>
<li><a href="https://mail.gnome.org/archives/xml/2015-November/msg00012.html">https://mail.gnome.org/archives/xml/2015-November/msg00012.html</a></li>
<li><a href="https://mail.gnome.org/archives/xml/2016-May/msg00023.html">https://mail.gnome.org/archives/xml/2016-May/msg00023.html</a></li>
</ul>
<p>For a more detailed analysis, you may care to read Canonical's take on these security issues:</p>
<ul>
<li><a href="http://www.ubuntu.com/usn/usn-2994-1">http://www.ubuntu.com/usn/usn-2994-1</a></li>
</ul>
<p>[MRI] Bundled libxslt is upgraded to 1.1.29, which fixes a security issue as well as many long-known outstanding bugs, some features, some portability improvements, and general cleanup.</p>
<p>See this libxslt email post for more:</p>
<ul>
<li><a href="https://mail.gnome.org/archives/xslt/2016-May/msg00004.html">https://mail.gnome.org/archives/xslt/2016-May/msg00004.html</a></li>
</ul>
<h3 id="added_8">Added<a class="headerlink" href="#added_8" title="Permanent link">&para;</a></h3>
<p>Several changes were made to improve performance:</p>
<ul>
<li>[MRI] Simplify NodeSet#to_a with a minor speed-up. (<a href="https://github.com/sparklemotion/nokogiri/issues/1397">#1397</a>)</li>
<li>XML::Node#ancestors optimization. (<a href="https://github.com/sparklemotion/nokogiri/issues/1297">#1297</a>) (Thanks, Bruno Sutic!)</li>
<li>Use Symbol#to_proc where we weren't previously. (<a href="https://github.com/sparklemotion/nokogiri/issues/1296">#1296</a>) (Thanks, Bruno Sutic!)</li>
<li>XML::DTD#each uses implicit block calls. (Thanks, <a href="https://github.com/glaucocustodio">@glaucocustodio</a>!)</li>
<li>Fall back to the <code>pkg-config</code> gem if we're having trouble finding the system libxml2. This should help many FreeBSD users. (<a href="https://github.com/sparklemotion/nokogiri/issues/1417">#1417</a>)</li>
<li>Set document encoding appropriately even on blank document. (<a href="https://github.com/sparklemotion/nokogiri/issues/1043">#1043</a>) (Thanks, <a href="https://github.com/batter">@batter</a>!)</li>
</ul>
<h3 id="fixed_16">Fixed<a class="headerlink" href="#fixed_16" title="Permanent link">&para;</a></h3>
<ul>
<li>[JRuby] fix slow add_child (<a href="https://github.com/sparklemotion/nokogiri/issues/692">#692</a>)</li>
<li>[JRuby] fix load errors when deploying to JRuby/Torquebox (<a href="https://github.com/sparklemotion/nokogiri/issues/1114">#1114</a>) (Thanks, <a href="https://github.com/atambo">@atambo</a> and <a href="https://github.com/jvshahid">@jvshahid</a>!)</li>
<li>[JRuby] fix NPE when inspecting nodes returned by NodeSet#drop (<a href="https://github.com/sparklemotion/nokogiri/issues/1042">#1042</a>) (Thanks, <a href="https://github.com/mkristian">@mkristian</a>!)</li>
<li>[JRuby] fix nil attriubte node's namespace in reader (<a href="https://github.com/sparklemotion/nokogiri/issues/1327">#1327</a>) (Thanks, <a href="https://github.com/codekitchen">@codekitchen</a>!)</li>
<li>[JRuby] fix Nokogiri munging unicode characters that require more than 2 bytes (<a href="https://github.com/sparklemotion/nokogiri/issues/1113">#1113</a>) (Thanks, <a href="https://github.com/mkristian">@mkristian</a>!)</li>
<li>[JRuby] allow unlinking an unparented node (<a href="https://github.com/sparklemotion/nokogiri/issues/1112">#1112</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1152">#1152</a>) (Thanks, <a href="https://github.com/esse">@esse</a>!)</li>
<li>[JRuby] allow Fragment parsing on a frozen string (<a href="https://github.com/sparklemotion/nokogiri/issues/444">#444</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1077">#1077</a>)</li>
<li>[JRuby] HTML <code>style</code> tags are no longer encoded (<a href="https://github.com/sparklemotion/nokogiri/issues/1316">#1316</a>) (Thanks, <a href="https://github.com/tbeauvais">@tbeauvais</a>!)</li>
<li>[MRI] fix assertion failure while accessing attribute node's namespace in reader (<a href="https://github.com/sparklemotion/nokogiri/issues/843">#843</a>) (Thanks, <a href="https://github.com/2potatocakes">@2potatocakes</a>!)</li>
<li>[MRI] fix issue with GCing namespace nodes returned in an xpath query. (<a href="https://github.com/sparklemotion/nokogiri/issues/1155">#1155</a>)</li>
<li>[MRI] Ensure C strings are null-terminated. (<a href="https://github.com/sparklemotion/nokogiri/issues/1381">#1381</a>)</li>
<li>[MRI] Ensure Rubygems is loaded before using mini_portile2 at installation. (<a href="https://github.com/sparklemotion/nokogiri/issues/1393">#1393</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1411">#1411</a>) (Thanks, <a href="https://github.com/JonRowe">@JonRowe</a>!)</li>
<li>[MRI] Handling another edge case where the <code>libxml-ruby</code> gem's global callbacks were smashing the heap. (<a href="https://github.com/sparklemotion/nokogiri/issues/1426">#1426</a>). (Thanks to <a href="https://github.com/bbergstrom">@bbergstrom</a> for providing an isolated test case!)</li>
<li>[MRI] Ensure encodings are passed to Sax::Parser xmldecl callback. (<a href="https://github.com/sparklemotion/nokogiri/issues/844">#844</a>)</li>
<li>[MRI] Ensure default ns prefix is applied correctly when reparenting nodes to another document. (<a href="https://github.com/sparklemotion/nokogiri/issues/391">#391</a>) (Thanks, <a href="https://github.com/ylecuyer">@ylecuyer</a>!)</li>
<li>[MRI] Ensure Reader handles non-existent attributes as expected. (<a href="https://github.com/sparklemotion/nokogiri/issues/1254">#1254</a>) (Thanks, <a href="https://github.com/ccutrer">@ccutrer</a>!)</li>
<li>[MRI] Cleanup around namespace handling when reparenting nodes. (<a href="https://github.com/sparklemotion/nokogiri/issues/1332">#1332</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1333">#1333</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1444">#1444</a>) (Thanks, <a href="https://github.com/cuttrer">@cuttrer</a> and <a href="https://github.com/bradleybeddoes">@bradleybeddoes</a>!)</li>
<li>unescape special characters in CSS queries (<a href="https://github.com/sparklemotion/nokogiri/issues/1303">#1303</a>) (Thanks, <a href="https://github.com/twalpole">@twalpole</a>!)</li>
<li>consistently handle empty documents (<a href="https://github.com/sparklemotion/nokogiri/issues/1349">#1349</a>)</li>
<li>Update to mini_portile2 2.1.0 to address whitespace-handling during patching. (<a href="https://github.com/sparklemotion/nokogiri/issues/1402">#1402</a>)</li>
<li>Fix encoding of xml node namespaces.</li>
<li>Work around issue installing Nokogiri on overlayfs (commonly used in Docker containers). (<a href="https://github.com/sparklemotion/nokogiri/issues/1370">#1370</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1405">#1405</a>)</li>
</ul>
<h3 id="notes_1">Notes<a class="headerlink" href="#notes_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Removed legacy code remaining from Ruby 1.8.x support.</li>
<li>Removed legacy code remaining from REE support.</li>
<li>Removing hacky workarounds for bugs in some older versions of libxml2.</li>
<li>Handling C strings in a forward-compatible manner, see <a href="https://github.com/ruby/ruby/blob/v2_2_0/NEWS#L319">https://github.com/ruby/ruby/blob/v2_2_0/NEWS#L319</a></li>
</ul>
<h2 id="1672-2016-01-20">1.6.7.2 / 2016-01-20<a class="headerlink" href="#1672-2016-01-20" title="Permanent link">&para;</a></h2>
<p>This version pulls in several upstream patches to the vendored libxml2 and libxslt to address:</p>
<ul>
<li>CVE-2015-7499</li>
</ul>
<p>Ubuntu classifies this as "Priority: Low", RedHat classifies this as "Impact: Moderate", and NIST classifies this as "Severity: 5.0 (MEDIUM)".</p>
<p>MITRE record is <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-7499">https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-7499</a></p>
<h2 id="1671-2015-12-16">1.6.7.1 / 2015-12-16<a class="headerlink" href="#1671-2015-12-16" title="Permanent link">&para;</a></h2>
<p>This version pulls in several upstream patches to the vendored libxml2 and libxslt to address:</p>
<ul>
<li>CVE-2015-5312</li>
<li>CVE-2015-7497</li>
<li>CVE-2015-7498</li>
<li>CVE-2015-7499</li>
<li>CVE-2015-7500</li>
<li>CVE-2015-8241</li>
<li>CVE-2015-8242</li>
<li>CVE-2015-8317</li>
</ul>
<p>See also <a href="http://www.ubuntu.com/usn/usn-2834-1/">http://www.ubuntu.com/usn/usn-2834-1/</a></p>
<h2 id="167-2015-11-29">1.6.7 / 2015-11-29<a class="headerlink" href="#167-2015-11-29" title="Permanent link">&para;</a></h2>
<h3 id="added_9">Added<a class="headerlink" href="#added_9" title="Permanent link">&para;</a></h3>
<p>This version supports native builds on Windows using the RubyInstaller
DevKit. It also supports Ruby 2.2.x on Windows, as well as making
several other improvements to the installation process on various
platforms.</p>
<h3 id="security_13">Security<a class="headerlink" href="#security_13" title="Permanent link">&para;</a></h3>
<p>This version also includes the security patches already applied in
v1.6.6.3 and v1.6.6.4 to the vendored libxml2 and libxslt source.
See <a href="https://github.com/sparklemotion/nokogiri/issues/1374">#1374</a> and <a href="https://github.com/sparklemotion/nokogiri/issues/1376">#1376</a> for details.</p>
<h3 id="added_10">Added<a class="headerlink" href="#added_10" title="Permanent link">&para;</a></h3>
<ul>
<li>Cross-built gems now have a proper ruby version requirement. (<a href="https://github.com/sparklemotion/nokogiri/issues/1266">#1266</a>)</li>
<li>Ruby 2.2.x is supported on Windows.</li>
<li>Native build is supported on Windows.</li>
<li>[MRI] libxml2 and libxslt <code>config.guess</code> files brought up to date. (<a href="https://github.com/sparklemotion/nokogiri/issues/1326">#1326</a>) (Thanks, <a href="https://github.com/hernan-erasmo">[@hernan](https://github.com/hernan)-erasmo</a>!)</li>
<li>[JRuby] fix error in validating files with jruby (<a href="https://github.com/sparklemotion/nokogiri/issues/1355">#1355</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1361">#1361</a>) (Thanks, <a href="https://github.com/twalpole">@twalpole</a>!)</li>
<li>[MRI, OSX] Patch to handle nonstandard location of <code>iconv.h</code>. (<a href="https://github.com/sparklemotion/nokogiri/issues/1206">#1206</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1210">#1210</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1218">#1218</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1345">#1345</a>) (Thanks, <a href="https://github.com/neonichu">@neonichu</a>!)</li>
</ul>
<h3 id="fixed_17">Fixed<a class="headerlink" href="#fixed_17" title="Permanent link">&para;</a></h3>
<ul>
<li>[JRuby] reset the namespace cache when replacing the document's innerHtml (<a href="https://github.com/sparklemotion/nokogiri/issues/1265">#1265</a>) (Thanks, <a href="https://github.com/mkristian">@mkristian</a>!)</li>
<li>[JRuby] Document#parse should support IO objects that respond to #read. (<a href="https://github.com/sparklemotion/nokogiri/issues/1124">#1124</a>) (Thanks, Jake Byman!)</li>
<li>[MRI] Duplicate-id errors when setting the <code>id</code> attribute on HTML documents are now silenced. (<a href="https://github.com/sparklemotion/nokogiri/issues/1262">#1262</a>)</li>
<li>[JRuby] SAX parser cuts texts in pieces when square brackets exist. (<a href="https://github.com/sparklemotion/nokogiri/issues/1261">#1261</a>)</li>
<li>[JRuby] Namespaced attributes aren't removed by remove_attribute. (<a href="https://github.com/sparklemotion/nokogiri/issues/1299">#1299</a>)</li>
</ul>
<h2 id="1664-2015-11-19">1.6.6.4 / 2015-11-19<a class="headerlink" href="#1664-2015-11-19" title="Permanent link">&para;</a></h2>
<p>This version pulls in an upstream patch to the vendored libxml2 to address:</p>
<ul>
<li>unclosed comment uninitialized access issue (<a href="https://github.com/sparklemotion/nokogiri/issues/1376">#1376</a>)</li>
</ul>
<p>This issue was assigned CVE-2015-8710 after the fact. See <a href="http://seclists.org/oss-sec/2015/q4/616">http://seclists.org/oss-sec/2015/q4/616</a> for details.</p>
<h2 id="1663-2015-11-16">1.6.6.3 / 2015-11-16<a class="headerlink" href="#1663-2015-11-16" title="Permanent link">&para;</a></h2>
<p>This version pulls in several upstream patches to the vendored libxml2 and libxslt to address:</p>
<ul>
<li>CVE-2015-1819</li>
<li>CVE-2015-7941_1</li>
<li>CVE-2015-7941_2</li>
<li>CVE-2015-7942</li>
<li>CVE-2015-7942-2</li>
<li>CVE-2015-8035</li>
<li>CVE-2015-7995</li>
</ul>
<p>See <a href="https://github.com/sparklemotion/nokogiri/issues/1374">#1374</a> for details.</p>
<h2 id="1662-2015-01-23">1.6.6.2 / 2015-01-23<a class="headerlink" href="#1662-2015-01-23" title="Permanent link">&para;</a></h2>
<h3 id="fixed_18">Fixed<a class="headerlink" href="#fixed_18" title="Permanent link">&para;</a></h3>
<ul>
<li>Fixed installation issue affecting compiler arguments. (<a href="https://github.com/sparklemotion/nokogiri/issues/1230">#1230</a>)</li>
</ul>
<h2 id="1661-2015-01-22">1.6.6.1 / 2015-01-22<a class="headerlink" href="#1661-2015-01-22" title="Permanent link">&para;</a></h2>
<p>Note that 1.6.6.0 was not released.</p>
<h3 id="added_11">Added<a class="headerlink" href="#added_11" title="Permanent link">&para;</a></h3>
<ul>
<li>Unified Node and NodeSet implementations of #search, #xpath and #css.</li>
<li>Added Node#lang and Node#lang=.</li>
<li>bin/nokogiri passes the URI to parse() if an HTTP URL is given.</li>
<li>bin/nokogiri now loads ~/.nokogirirc so user can define helper methods, etc.</li>
<li>bin/nokogiri can be configured to use Pry instead of IRB by adding a couple of lines to ~/.nokogirirc. (<a href="https://github.com/sparklemotion/nokogiri/issues/1198">#1198</a>)</li>
<li>bin/nokogiri can better handle urls from STDIN (aiding use of xargs). (<a href="https://github.com/sparklemotion/nokogiri/issues/1065">#1065</a>)</li>
<li>JRuby 9K support.</li>
</ul>
<h3 id="fixed_19">Fixed<a class="headerlink" href="#fixed_19" title="Permanent link">&para;</a></h3>
<ul>
<li>DocumentFragment#search now matches against root nodes. (<a href="https://github.com/sparklemotion/nokogiri/issues/1205">#1205</a>)</li>
<li>(MRI) More fixes related to handling libxml2 parse errors during DocumentFragment#dup. (<a href="https://github.com/sparklemotion/nokogiri/issues/1196">#1196</a>)</li>
<li>(JRuby) Builder now handles namespace hrefs properly when there is a default ns. (<a href="https://github.com/sparklemotion/nokogiri/issues/1039">#1039</a>)</li>
<li>(JRuby) Clear the XPath cache on attr removal. (<a href="https://github.com/sparklemotion/nokogiri/issues/1109">#1109</a>)</li>
<li><code>XML::Comment.new</code> argument types are now consistent and safe (and documented) across MRI and JRuby. (<a href="https://github.com/sparklemotion/nokogiri/issues/1224">#1224</a>)</li>
<li>(MRI) Restoring support for Ruby 1.9.2 that was broken in v1.6.4.1 and v1.6.5. (<a href="https://github.com/sparklemotion/nokogiri/issues/1207">#1207</a>)</li>
<li>Check if <code>zlib</code> is available before building <code>libxml2</code>. (<a href="https://github.com/sparklemotion/nokogiri/issues/1188">#1188</a>)</li>
<li>(JRuby) HtmlSaxPushParser now exists. (<a href="https://github.com/sparklemotion/nokogiri/issues/1147">#1147</a>) (Thanks, Piotr Szmielew!)</li>
</ul>
<h2 id="165-2014-11-26">1.6.5 / 2014-11-26<a class="headerlink" href="#165-2014-11-26" title="Permanent link">&para;</a></h2>
<h3 id="added_12">Added<a class="headerlink" href="#added_12" title="Permanent link">&para;</a></h3>
<ul>
<li>Implement Slop#respond_to_missing?. (<a href="https://github.com/sparklemotion/nokogiri/issues/1176">#1176</a>)</li>
<li>Optimized the XPath query generated by an <code>an+b</code> CSS query.</li>
</ul>
<h3 id="fixed_20">Fixed<a class="headerlink" href="#fixed_20" title="Permanent link">&para;</a></h3>
<ul>
<li>Capture non-parse errors from Document#dup in Document#errors. (<a href="https://github.com/sparklemotion/nokogiri/issues/1196">#1196</a>)</li>
<li>(JRuby) Document#canonicalize parameters are now consistent with MRI. (<a href="https://github.com/sparklemotion/nokogiri/issues/1189">#1189</a>)</li>
</ul>
<h2 id="1641-2014-11-05">1.6.4.1 / 2014-11-05<a class="headerlink" href="#1641-2014-11-05" title="Permanent link">&para;</a></h2>
<h3 id="fixed_21">Fixed<a class="headerlink" href="#fixed_21" title="Permanent link">&para;</a></h3>
<ul>
<li>(MRI) Fix a bug where CFLAGS passed in are dropped. (<a href="https://github.com/sparklemotion/nokogiri/issues/1188">#1188</a>)</li>
<li>Fix a bug where CSS selector :nth(n) did not work. (<a href="https://github.com/sparklemotion/nokogiri/issues/1187">#1187</a>)</li>
</ul>
<h2 id="164-2014-11-04">1.6.4 / 2014-11-04<a class="headerlink" href="#164-2014-11-04" title="Permanent link">&para;</a></h2>
<h3 id="added_13">Added<a class="headerlink" href="#added_13" title="Permanent link">&para;</a></h3>
<ul>
<li>(MRI) Bundled Libxml2 is upgraded to 2.9.2.</li>
<li>(MRI) <code>nokogiri --version</code> will include a list of applied patches.</li>
<li>(MRI) Nokogiri no longer prints messages directly to TTY while building the extension.</li>
<li>(MRI) Detect and help user fix a missing /usr/include/iconv.h on OS X. (<a href="https://github.com/sparklemotion/nokogiri/issues/1111">#1111</a>)</li>
<li>(MRI) Improve the iconv detection for building libxml2.</li>
</ul>
<h3 id="fixed_22">Fixed<a class="headerlink" href="#fixed_22" title="Permanent link">&para;</a></h3>
<ul>
<li>(MRI) Fix DocumentFragment#element_children (<a href="https://github.com/sparklemotion/nokogiri/issues/1138">#1138</a>).</li>
<li>Fix a bug with CSS attribute selector without any prefix where "foo [bar]" was treated as "foo[bar]". (<a href="https://github.com/sparklemotion/nokogiri/issues/1174">#1174</a>)</li>
</ul>
<h2 id="1631-2014-07-21">1.6.3.1 / 2014-07-21<a class="headerlink" href="#1631-2014-07-21" title="Permanent link">&para;</a></h2>
<h3 id="fixed_23">Fixed<a class="headerlink" href="#fixed_23" title="Permanent link">&para;</a></h3>
<ul>
<li>Addressing an Apple Macintosh installation problem for GCC users. <a href="https://github.com/sparklemotion/nokogiri/issues/1130">#1130</a> (Thanks, <a href="https://github.com/zenspider">@zenspider</a>!)</li>
</ul>
<h2 id="163-2014-07-20">1.6.3 / 2014-07-20<a class="headerlink" href="#163-2014-07-20" title="Permanent link">&para;</a></h2>
<h3 id="added_14">Added<a class="headerlink" href="#added_14" title="Permanent link">&para;</a></h3>
<ul>
<li>Added Node#document? and Node#processing_instruction?</li>
</ul>
<h3 id="fixed_24">Fixed<a class="headerlink" href="#fixed_24" title="Permanent link">&para;</a></h3>
<ul>
<li>[JRuby] Fix Ruby memory exhaustion vulnerability. <a href="https://github.com/sparklemotion/nokogiri/issues/1087">#1087</a> (Thanks, <a href="https://github.com/ocher">@ocher</a>)</li>
<li>[MRI] Fix segfault during GC when using <code>libxml-ruby</code> and <code>nokogiri</code> together in multi-threaded environment. <a href="https://github.com/sparklemotion/nokogiri/issues/895">#895</a> (Thanks, <a href="https://github.com/ender672">@ender672</a>!)</li>
<li>Building on OSX 10.9 stock ruby 2.0.0 now works. <a href="https://github.com/sparklemotion/nokogiri/issues/1101">#1101</a> (Thanks, <a href="https://github.com/zenspider">@zenspider</a>!)</li>
<li>Node#parse now works again for HTML document nodes (broken in 1.6.2+).</li>
<li>Processing instructions can now be added via Node#add_next_sibling.</li>
</ul>
<h2 id="1621-2014-05-13">1.6.2.1 / 2014-05-13<a class="headerlink" href="#1621-2014-05-13" title="Permanent link">&para;</a></h2>
<h3 id="fixed_25">Fixed<a class="headerlink" href="#fixed_25" title="Permanent link">&para;</a></h3>
<ul>
<li>Fix statically-linked libxml2 installation when using universal builds of Ruby. <a href="https://github.com/sparklemotion/nokogiri/issues/1104">#1104</a></li>
<li>Patching <code>mini_portile</code> to address the git dependency detailed in <a href="https://github.com/sparklemotion/nokogiri/issues/1102">#1102</a>.</li>
<li>Library load fix to address segfault reported on some systems. <a href="https://github.com/sparklemotion/nokogiri/issues/1097">#1097</a></li>
</ul>
<h2 id="162-2014-05-12">1.6.2 / 2014-05-12<a class="headerlink" href="#162-2014-05-12" title="Permanent link">&para;</a></h2>
<h3 id="security_14">Security<a class="headerlink" href="#security_14" title="Permanent link">&para;</a></h3>
<p>A set of security and bugfix patches have been backported from the libxml2 and libxslt repositories onto the version of 2.8.0 packaged with Nokogiri, including these notable security fixes:</p>
<ul>
<li><a href="https://git.gnome.org/browse/libxml2/commit/?id=4629ee02ac649c27f9c0cf98ba017c6b5526070f">https://git.gnome.org/browse/libxml2/commit/?id=4629ee02ac649c27f9c0cf98ba017c6b5526070f</a></li>
<li>CVE-2013-2877 <a href="https://git.gnome.org/browse/libxml2/commit/?id=e50ba8164eee06461c73cd8abb9b46aa0be81869">https://git.gnome.org/browse/libxml2/commit/?id=e50ba8164eee06461c73cd8abb9b46aa0be81869</a></li>
<li>CVE-2014-0191 <a href="https://git.gnome.org/browse/libxml2/commit/?id=9cd1c3cfbd32655d60572c0a413e017260c854df">https://git.gnome.org/browse/libxml2/commit/?id=9cd1c3cfbd32655d60572c0a413e017260c854df</a></li>
</ul>
<p>It is recommended that you upgrade from 1.6.x to this version as soon as possible.</p>
<h3 id="dependencies_11">Dependencies<a class="headerlink" href="#dependencies_11" title="Permanent link">&para;</a></h3>
<p>Now requires libxml &gt;= 2.6.21 (was previously &gt;= 2.6.17).</p>
<h3 id="added_15">Added<a class="headerlink" href="#added_15" title="Permanent link">&para;</a></h3>
<ul>
<li>Add cross building of fat binary gems for 64-Bit Windows (x64-mingw32) and add support for native builds on Windows. <a href="https://github.com/sparklemotion/nokogiri/issues/864">#864</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/989">#989</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/1072">#1072</a></li>
<li>(MRI) Alias CP932 to Windows-31J if iconv does not support Windows-31J.</li>
<li>(MRI) Nokogiri now links packaged libraries statically. To disable static linking, pass --disable-static to extconf.rb. <a href="https://github.com/sparklemotion/nokogiri/issues/923">#923</a></li>
<li>(MRI) Fix a library path (LIBPATH) precedence problem caused by CRuby bug <a href="https://github.com/sparklemotion/nokogiri/issues/9760">#9760</a>.</li>
<li>(MRI) Nokogiri automatically deletes directories of packaged libraries only used during build. To keep them for debugging purposes, pass --disable-clean to extconf.rb. <a href="https://github.com/sparklemotion/nokogiri/issues/952">#952</a></li>
<li>(MRI) Nokogiri now builds libxml2 properly with iconv support on platforms where libiconv is installed outside the system default directories, such as FreeBSD.</li>
<li>Add support for an-b in nth selectors. <a href="https://github.com/sparklemotion/nokogiri/issues/886">#886</a> (Thanks, Magnus Bergmark!)</li>
<li>Add support for bare and multiple :not() functions in selectors. <a href="https://github.com/sparklemotion/nokogiri/issues/887">#887</a> (Thanks, Magnus Bergmark!)</li>
<li>(MRI) Add an extconf.rb option --use-system-libraries, alternative to setting the environment variable NOKOGIRI_USE_SYSTEM_LIBRARIES.</li>
<li>(MRI) Update packaged libraries: libxslt to 1.1.28, zlib to 1.2.8, and libiconv to 1.14, respectively.</li>
<li>Nokogiri::HTML::Document#title= and #meta_encoding= now always add an element if not present, trying hard to find the best place to put it.</li>
<li>Nokogiri::XML::DTD#html_dtd? and #html5_dtd? are added.</li>
<li>Nokogiri::XML::Node#prepend_child is added. <a href="https://github.com/sparklemotion/nokogiri/issues/664">#664</a></li>
<li>Nokogiri::XML::SAX::ParserContext#recovery is added. <a href="https://github.com/sparklemotion/nokogiri/issues/453">#453</a></li>
<li>Fix documentation for XML::Node#namespace. <a href="https://github.com/sparklemotion/nokogiri/issues/803">#803</a> <a href="https://github.com/sparklemotion/nokogiri/issues/802">#802</a> (Thanks, Hoylen Sue)</li>
<li>Allow Nokogiri::XML::Node#parse from unparented non-element nodes. <a href="https://github.com/sparklemotion/nokogiri/issues/407">#407</a></li>
</ul>
<h3 id="fixed_26">Fixed<a class="headerlink" href="#fixed_26" title="Permanent link">&para;</a></h3>
<ul>
<li>Ensure :only-child pseudo class works within :not pseudo class. <a href="https://github.com/sparklemotion/nokogiri/issues/858">#858</a> (Thanks, Yamagishi Kazutoshi!)</li>
<li>Don't call pkg_config when using bundled libraries in extconf.rb <a href="https://github.com/sparklemotion/nokogiri/issues/931">#931</a> (Thanks, Shota Fukumori!)</li>
<li>Nokogiri.parse() does not mistake a non-HTML document like a RSS document as HTML document. <a href="https://github.com/sparklemotion/nokogiri/issues/932">#932</a> (Thanks, Yamagishi Kazutoshi!)</li>
<li>(MRI) Perform a node type check before adding a child node to another. Previously adding a text node to another as a child could cause a SEGV. <a href="https://github.com/sparklemotion/nokogiri/issues/1092">#1092</a></li>
<li>(JRuby) XSD validation crashes in Java version. <a href="https://github.com/sparklemotion/nokogiri/issues/373">#373</a></li>
<li>(JRuby) Document already has a root node error while using Builder. <a href="https://github.com/sparklemotion/nokogiri/issues/646">#646</a></li>
<li>(JRuby) c14n tests are all passing on JRuby. <a href="https://github.com/sparklemotion/nokogiri/issues/226">#226</a></li>
<li>Parsing empty documents raise SyntaxError in strict mode. <a href="https://github.com/sparklemotion/nokogiri/issues/1005">#1005</a></li>
<li>(JRuby) Make xpath faster by caching the xpath context. <a href="https://github.com/sparklemotion/nokogiri/issues/741">#741</a></li>
<li>(JRuby) XML SAX push parser leaks memory on JRuby, but not on MRI. <a href="https://github.com/sparklemotion/nokogiri/issues/998">#998</a></li>
<li>(JRuby) Inconsistent behavior aliasing the default namespace. <a href="https://github.com/sparklemotion/nokogiri/issues/940">#940</a></li>
<li>(JRuby) Inconsistent behavior between parsing and adding namespaces. <a href="https://github.com/sparklemotion/nokogiri/issues/943">#943</a></li>
<li>(JRuby) Xpath returns inconsistent result set on cloned document with namespaces and attributes. <a href="https://github.com/sparklemotion/nokogiri/issues/1034">#1034</a></li>
<li>(JRuby) Java-Implementation forgets element namespaces <a href="https://github.com/sparklemotion/nokogiri/issues/902">#902</a></li>
<li>(JRuby) JRuby-Nokogiri does not recognise attributes inside namespaces <a href="https://github.com/sparklemotion/nokogiri/issues/1081">#1081</a></li>
<li>(JRuby) JRuby-Nokogiri has different comment node name <a href="https://github.com/sparklemotion/nokogiri/issues/1080">#1080</a></li>
<li>(JRuby) JAXPExtensionsProvider / Java 7 / Secure Processing <a href="https://github.com/sparklemotion/nokogiri/issues/1070">#1070</a></li>
</ul>
<h2 id="161-2013-12-14">1.6.1 / 2013-12-14<a class="headerlink" href="#161-2013-12-14" title="Permanent link">&para;</a></h2>
<h3 id="fixed_27">Fixed<a class="headerlink" href="#fixed_27" title="Permanent link">&para;</a></h3>
<ul>
<li>(JRuby) Fix out of memory bug when certain invalid documents are parsed.</li>
<li>(JRuby) Fix regression of billion-laughs vulnerability. <a href="https://github.com/sparklemotion/nokogiri/issues/586">#586</a></li>
</ul>
<h2 id="160-2013-06-08">1.6.0 / 2013-06-08<a class="headerlink" href="#160-2013-06-08" title="Permanent link">&para;</a></h2>
<p>This release was based on v1.5.10 and 1.6.0.rc1, and contains changes
mentioned in both.</p>
<h3 id="deprecations">Deprecations<a class="headerlink" href="#deprecations" title="Permanent link">&para;</a></h3>
<ul>
<li>Remove pre 1.9 monitoring from Travis.</li>
</ul>
<h2 id="160rc1-2013-04-14">1.6.0.rc1 / 2013-04-14<a class="headerlink" href="#160rc1-2013-04-14" title="Permanent link">&para;</a></h2>
<p>This release was based on v1.5.9, and so does not contain any fixes
mentioned in the notes for v1.5.10.</p>
<h3 id="notes_2">Notes<a class="headerlink" href="#notes_2" title="Permanent link">&para;</a></h3>
<ul>
<li>mini_portile is now a runtime dependency</li>
<li>Ruby 1.9.2 and higher now required</li>
</ul>
<h3 id="added_16">Added<a class="headerlink" href="#added_16" title="Permanent link">&para;</a></h3>
<ul>
<li>(MRI) Source code for libxml 2.8.0 and libxslt 1.2.26 is packaged with the gem. These libraries are compiled at gem install time unless the environment variable NOKOGIRI_USE_SYSTEM_LIBRARIES is set. VERSION_INFO (also <code>nokogiri -v</code>) exposes whether libxml was compiled from packaged source, or the system library was used.</li>
<li>(Windows) libxml upgraded to 2.8.0</li>
</ul>
<h3 id="dependencies_12">Dependencies<a class="headerlink" href="#dependencies_12" title="Permanent link">&para;</a></h3>
<ul>
<li>Support for Ruby 1.8.7 and prior has been dropped</li>
</ul>
<h2 id="1511-2013-12-14">1.5.11 / 2013-12-14<a class="headerlink" href="#1511-2013-12-14" title="Permanent link">&para;</a></h2>
<h3 id="fixed_28">Fixed<a class="headerlink" href="#fixed_28" title="Permanent link">&para;</a></h3>
<ul>
<li>(JRuby) Fix out of memory bug when certain invalid documents are parsed.</li>
<li>(JRuby) Fix regression of billion-laughs vulnerability. <a href="https://github.com/sparklemotion/nokogiri/issues/586">#586</a></li>
</ul>
<h2 id="1510-2013-06-07">1.5.10 / 2013-06-07<a class="headerlink" href="#1510-2013-06-07" title="Permanent link">&para;</a></h2>
<h3 id="fixed_29">Fixed<a class="headerlink" href="#fixed_29" title="Permanent link">&para;</a></h3>
<ul>
<li>(JRuby) Fix "null document" error when parsing an empty IO in jruby 1.7.3. <a href="https://github.com/sparklemotion/nokogiri/issues/883">#883</a></li>
<li>(JRuby) Fix schema validation when XSD has DOCTYPE set to DTD. <a href="https://github.com/sparklemotion/nokogiri/issues/912">#912</a> (Thanks, Patrick Cheng!)</li>
<li>(MRI) Fix segfault when there is no default subelement for an HTML node. <a href="https://github.com/sparklemotion/nokogiri/issues/917">#917</a></li>
</ul>
<h3 id="notes_3">Notes<a class="headerlink" href="#notes_3" title="Permanent link">&para;</a></h3>
<ul>
<li>Use rb_ary_entry instead of RARRAY_PTR (you know, for Rubinius). <a href="https://github.com/sparklemotion/nokogiri/issues/877">#877</a> (Thanks, Dirkjan Bussink!)</li>
<li>Fix TypeError when running tests. <a href="https://github.com/sparklemotion/nokogiri/issues/900">#900</a> (Thanks, Cédric Boutillier!)</li>
</ul>
<h2 id="159-2013-03-21">1.5.9 / 2013-03-21<a class="headerlink" href="#159-2013-03-21" title="Permanent link">&para;</a></h2>
<h3 id="fixed_30">Fixed<a class="headerlink" href="#fixed_30" title="Permanent link">&para;</a></h3>
<ul>
<li>Ensure that prefixed attributes are properly namespaced when reparented. <a href="https://github.com/sparklemotion/nokogiri/issues/869">#869</a></li>
<li>Fix for inconsistent namespaced attribute access for SVG nested in HTML. <a href="https://github.com/sparklemotion/nokogiri/issues/861">#861</a></li>
<li>(MRI) Fixed a memory leak in fragment parsing if nodes are not all subsequently reparented. <a href="https://github.com/sparklemotion/nokogiri/issues/856">#856</a></li>
</ul>
<h2 id="158-2013-03-19">1.5.8 / 2013-03-19<a class="headerlink" href="#158-2013-03-19" title="Permanent link">&para;</a></h2>
<h3 id="fixed_31">Fixed<a class="headerlink" href="#fixed_31" title="Permanent link">&para;</a></h3>
<ul>
<li>(JRuby) Fix EmptyStackException thrown by elements with xlink:href attributes and no base_uri <a href="https://github.com/sparklemotion/nokogiri/issues/534">#534</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/805">#805</a>. (Thanks, Patrick Quinn and Brian Hoffman!)</li>
<li>Fixes duplicate attributes issue introduced in 1.5.7. <a href="https://github.com/sparklemotion/nokogiri/issues/865">#865</a></li>
<li>Allow use of a prefixed namespace on a root node using Nokogiri::XML::Builder <a href="https://github.com/sparklemotion/nokogiri/issues/868">#868</a></li>
</ul>
<h2 id="157-2013-03-18">1.5.7 / 2013-03-18<a class="headerlink" href="#157-2013-03-18" title="Permanent link">&para;</a></h2>
<h3 id="added_17">Added<a class="headerlink" href="#added_17" title="Permanent link">&para;</a></h3>
<ul>
<li>Windows support for Ruby 2.0.</li>
</ul>
<h3 id="fixed_32">Fixed<a class="headerlink" href="#fixed_32" title="Permanent link">&para;</a></h3>
<ul>
<li>SAX::Parser.parse_io throw an error when used with lower case encoding. <a href="https://github.com/sparklemotion/nokogiri/issues/828">#828</a></li>
<li>(JRuby) Java Nokogiri is finally green (passes all tests) under 1.8 and 1.9 mode. High five everyone. <a href="https://github.com/sparklemotion/nokogiri/issues/798">#798</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/705">#705</a></li>
<li>(JRuby) Nokogiri::XML::Reader broken (as a pull parser) on jruby - reads the whole XML document. <a href="https://github.com/sparklemotion/nokogiri/issues/831">#831</a></li>
<li>(JRuby) JRuby hangs parsing "&amp;". <a href="https://github.com/sparklemotion/nokogiri/issues/837">#837</a></li>
<li>(JRuby) JRuby NPE parsing an invalid XML instruction. <a href="https://github.com/sparklemotion/nokogiri/issues/838">#838</a></li>
<li>(JRuby) Node#content= incompatibility. <a href="https://github.com/sparklemotion/nokogiri/issues/839">#839</a></li>
<li>(JRuby) to_xhtml doesn't print the last slash for self-closing tags in JRuby. <a href="https://github.com/sparklemotion/nokogiri/issues/834">#834</a></li>
<li>(JRuby) Adding an EntityReference after a Text node mangles the entity in JRuby. <a href="https://github.com/sparklemotion/nokogiri/issues/835">#835</a></li>
<li>(JRuby) JRuby version inconsistency: nil for empty attributes. <a href="https://github.com/sparklemotion/nokogiri/issues/818">#818</a></li>
<li>CSS queries for classes (e.g., ".foo") now treat all whitespace identically. <a href="https://github.com/sparklemotion/nokogiri/issues/854">#854</a></li>
<li>Namespace behavior cleaned up and made consistent between JRuby and MRI. <a href="https://github.com/sparklemotion/nokogiri/issues/846">#846</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/801">#801</a> (Thanks, Michael Klein!)</li>
<li>(MRI) SAX parser handles empty processing instructions. <a href="https://github.com/sparklemotion/nokogiri/issues/845">#845</a></li>
</ul>
<h2 id="156-2012-12-19">1.5.6 / 2012-12-19<a class="headerlink" href="#156-2012-12-19" title="Permanent link">&para;</a></h2>
<h3 id="added_18">Added<a class="headerlink" href="#added_18" title="Permanent link">&para;</a></h3>
<ul>
<li>Improved performance of XML::Document#collect_namespaces. <a href="https://github.com/sparklemotion/nokogiri/issues/761">#761</a> (Thanks, Juergen Mangler!)</li>
<li>New callback SAX::Document#processing_instruction (Thanks, Kitaiti Makoto!)</li>
<li>Node#native_content= allows setting unescaped node contant. <a href="https://github.com/sparklemotion/nokogiri/issues/768">#768</a></li>
<li>XPath lookup with namespaces supports symbol keys. <a href="https://github.com/sparklemotion/nokogiri/issues/729">#729</a> (Thanks, Ben Langfeld.)</li>
<li>XML::Node#[]= stringifies values. <a href="https://github.com/sparklemotion/nokogiri/issues/729">#729</a> (Thanks, Ben Langfeld.)</li>
<li>bin/nokogiri will process a document from $stdin</li>
<li>bin/nokogiri -e will execute a program from the command line</li>
<li>(JRuby) bin/nokogiri --version will print the Xerces and NekoHTML versions.</li>
</ul>
<h3 id="fixed_33">Fixed<a class="headerlink" href="#fixed_33" title="Permanent link">&para;</a></h3>
<ul>
<li>Nokogiri now detects XSLT transform errors. <a href="https://github.com/sparklemotion/nokogiri/issues/731">#731</a> (Thanks, Justin Fitzsimmons!)</li>
<li>Don't throw an Error when trying to replace top-level text node in DocumentFragment. <a href="https://github.com/sparklemotion/nokogiri/issues/775">#775</a></li>
<li>Raise an ArgumentError if an invalid encoding is passed to the SAX parser. <a href="https://github.com/sparklemotion/nokogiri/issues/756">#756</a> (Thanks, Bradley Schaefer!)</li>
<li>Prefixed element inconsistency between CRuby and JRuby. <a href="https://github.com/sparklemotion/nokogiri/issues/712">#712</a></li>
<li>(JRuby) space prior to xml preamble causes nokogiri to fail parsing. (fixed along with <a href="https://github.com/sparklemotion/nokogiri/issues/748">#748</a>) <a href="https://github.com/sparklemotion/nokogiri/issues/790">#790</a></li>
<li>(JRuby) Fixed the bug Nokogiri::XML::Node#content inconsistency between Java and C. <a href="https://github.com/sparklemotion/nokogiri/issues/794">#794</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/797">#797</a></li>
<li>(JRuby) raises INVALID_CHARACTER_ERR exception when EntityReference name starts with '#'. <a href="https://github.com/sparklemotion/nokogiri/issues/719">#719</a></li>
<li>(JRuby) doesn't coerce namespaces out of strings on a direct subclass of Node. <a href="https://github.com/sparklemotion/nokogiri/issues/715">#715</a></li>
<li>(JRuby) Node#content now renders newlines properly. <a href="https://github.com/sparklemotion/nokogiri/issues/737">#737</a> (Thanks, Piotr Szmielew!)</li>
<li>(JRuby) Unknown namespace are ignore when the recover option is used. <a href="https://github.com/sparklemotion/nokogiri/issues/748">#748</a></li>
<li>(JRuby) XPath queries for namespaces should not throw exceptions when called twice in a row. <a href="https://github.com/sparklemotion/nokogiri/issues/764">#764</a></li>
<li>(JRuby) More consistent (with libxml2) whitespace formatting when emitting XML. <a href="https://github.com/sparklemotion/nokogiri/issues/771">#771</a></li>
<li>(JRuby) namespaced attributes broken when appending raw xml to builder. <a href="https://github.com/sparklemotion/nokogiri/issues/770">#770</a></li>
<li>(JRuby) Nokogiri::XML::Document#wrap raises undefined method `length' for nil:NilClass when trying to &lt;&lt; to a node. <a href="https://github.com/sparklemotion/nokogiri/issues/781">#781</a></li>
<li>(JRuby) Fixed "bad file descriptor" bug when closing open file descriptors. <a href="https://github.com/sparklemotion/nokogiri/issues/495">#495</a></li>
<li>(JRuby) JRuby/CRuby incompatibility for attribute decorators. <a href="https://github.com/sparklemotion/nokogiri/issues/785">#785</a></li>
<li>(JRuby) Issues parsing valid XML with no internal subset in the DTD. <a href="https://github.com/sparklemotion/nokogiri/issues/547">#547</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/811">#811</a></li>
<li>(JRuby) Issues parsing valid node content when it contains colons. <a href="https://github.com/sparklemotion/nokogiri/issues/728">#728</a></li>
<li>(JRuby) Correctly parse the doc type of html documents. <a href="https://github.com/sparklemotion/nokogiri/issues/733">#733</a></li>
<li>(JRuby) Include dtd in the xml output when a builder is used with create_internal_subset. <a href="https://github.com/sparklemotion/nokogiri/issues/751">#751</a></li>
<li>(JRuby) builder requires textwrappers for valid utf8 in jruby, not in mri. <a href="https://github.com/sparklemotion/nokogiri/issues/784">#784</a></li>
</ul>
<h2 id="155-2012-06-24">1.5.5 / 2012-06-24<a class="headerlink" href="#155-2012-06-24" title="Permanent link">&para;</a></h2>
<h3 id="added_19">Added<a class="headerlink" href="#added_19" title="Permanent link">&para;</a></h3>
<ul>
<li>Much-improved support for JRuby in 1.9 mode! Yay!</li>
</ul>
<h3 id="fixed_34">Fixed<a class="headerlink" href="#fixed_34" title="Permanent link">&para;</a></h3>
<ul>
<li>Regression in JRuby Nokogiri add_previous_sibling (1.5.0 -&gt; 1.5.1) <a href="https://github.com/sparklemotion/nokogiri/issues/691">#691</a> (Thanks, John Shahid!)</li>
<li>JRuby unable to create HTML doc if URL arg provided <a href="https://github.com/sparklemotion/nokogiri/issues/674">#674</a> (Thanks, John Shahid!)</li>
<li>JRuby raises NullPointerException when given HTML document is nil or empty string. <a href="https://github.com/sparklemotion/nokogiri/issues/699">#699</a></li>
<li>JRuby 1.9 error, uncaught throw 'encoding_found', has been fixed. <a href="https://github.com/sparklemotion/nokogiri/issues/673">#673</a></li>
<li>Invalid encoding returned in JRuby with US-ASCII. <a href="https://github.com/sparklemotion/nokogiri/issues/583">#583</a></li>
<li>XmlSaxPushParser raises IndexOutOfBoundsException when over 512 characters are given. <a href="https://github.com/sparklemotion/nokogiri/issues/567">#567</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/615">#615</a></li>
<li>When xpath evaluation returns empty NodeSet, decorating NodeSet's base document raises exception. <a href="https://github.com/sparklemotion/nokogiri/issues/514">#514</a></li>
<li>JRuby raises exception when xpath with namespace is specified. pull request <a href="https://github.com/sparklemotion/nokogiri/issues/681">#681</a> (Thanks, Piotr Szmielew)</li>
<li>JRuby renders nodes without their namespace when subclassing Node. <a href="https://github.com/sparklemotion/nokogiri/issues/695">#695</a></li>
<li>JRuby raises NAMESPACE_ERR (org.w3c.dom.DOMException) while instantiating RDF::RDFXML::Writer. <a href="https://github.com/sparklemotion/nokogiri/issues/683">#683</a></li>
<li>JRuby is not able to use namespaces in xpath. <a href="https://github.com/sparklemotion/nokogiri/issues/493">#493</a></li>
<li>JRuby's Entity resolving should be consistent with C-Nokogiri <a href="https://github.com/sparklemotion/nokogiri/issues/704">#704</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/647">#647</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/703">#703</a></li>
</ul>
<h2 id="154-2012-06-12">1.5.4 / 2012-06-12<a class="headerlink" href="#154-2012-06-12" title="Permanent link">&para;</a></h2>
<h3 id="added_20">Added<a class="headerlink" href="#added_20" title="Permanent link">&para;</a></h3>
<ul>
<li>The "nokogiri" script now has more verbose output when passed the <code>--rng</code> option. <a href="https://github.com/sparklemotion/nokogiri/issues/675">#675</a> (Thanks, Dan Radez!)</li>
<li>Build support on hardened Debian systems that use <code>-Werror=format-security</code>. <a href="https://github.com/sparklemotion/nokogiri/issues/680">#680</a>.</li>
<li>Better build support for systems with pkg-config. <a href="https://github.com/sparklemotion/nokogiri/issues/584">#584</a></li>
<li>Better build support for systems with multiple iconv installations.</li>
</ul>
<h3 id="fixed_35">Fixed<a class="headerlink" href="#fixed_35" title="Permanent link">&para;</a></h3>
<ul>
<li>Segmentation fault when creating a comment node for a DocumentFragment. <a href="https://github.com/sparklemotion/nokogiri/issues/677">#677</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/678">#678</a>.</li>
<li>Treat '.' as xpath in at() and search(). <a href="https://github.com/sparklemotion/nokogiri/issues/690">#690</a></li>
</ul>
<h3 id="security_15">Security<a class="headerlink" href="#security_15" title="Permanent link">&para;</a></h3>
<p>(MRI) Default parse options for XML documents were changed to not make network connections during document parsing, to avoid XXE vulnerability. <a href="https://github.com/sparklemotion/nokogiri/issues/693">#693</a></p>
<p>To re-enable this behavior, the configuration method <code>nononet</code> may be called, like this:</p>
<div class="highlight"><pre><span></span><code><span class="no">Nokogiri</span><span class="o">::</span><span class="no">XML</span><span class="o">::</span><span class="no">Document</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">xml</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span> <span class="n">config</span><span class="o">.</span><span class="n">nononet</span> <span class="p">}</span>
</code></pre></div>

<p>Insert your own joke about double-negatives here.</p>
<h2 id="153-2012-06-01">1.5.3 / 2012-06-01<a class="headerlink" href="#153-2012-06-01" title="Permanent link">&para;</a></h2>
<h3 id="added_21">Added<a class="headerlink" href="#added_21" title="Permanent link">&para;</a></h3>
<ul>
<li>Support for "prefixless" CSS selectors ~, &gt; and + like jQuery supports. <a href="https://github.com/sparklemotion/nokogiri/issues/621">#621</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/623">#623</a>. (Thanks, David Lee!)</li>
<li>Attempting to improve installation on homebrew 0.9 (with regards to iconv). Isn't package management convenient?</li>
</ul>
<h3 id="fixed_36">Fixed<a class="headerlink" href="#fixed_36" title="Permanent link">&para;</a></h3>
<ul>
<li>Custom xpath functions with empty nodeset arguments cause a segfault. <a href="https://github.com/sparklemotion/nokogiri/issues/634">#634</a>.</li>
<li>Nokogiri::XML::Node#css now works for XML documents with default namespaces when the rule contains attribute selector without namespace.</li>
<li>Fixed marshalling bugs around how arguments are passed to (and returned from) XSLT custom xpath functions. <a href="https://github.com/sparklemotion/nokogiri/issues/640">#640</a>.</li>
<li>Nokogiri::XML::Reader#outer_xml is broken in JRuby <a href="https://github.com/sparklemotion/nokogiri/issues/617">#617</a></li>
<li>Nokogiri::XML::Attribute on JRuby returns a nil namespace <a href="https://github.com/sparklemotion/nokogiri/issues/647">#647</a></li>
<li>Nokogiri::XML::Node#namespace= cannot set a namespace without a prefix on JRuby <a href="https://github.com/sparklemotion/nokogiri/issues/648">#648</a></li>
<li>(JRuby) 1.9 mode causes dead lock while running rake <a href="https://github.com/sparklemotion/nokogiri/issues/571">#571</a></li>
<li>HTML::Document#meta_encoding does not raise exception on docs with malformed content-type. <a href="https://github.com/sparklemotion/nokogiri/issues/655">#655</a></li>
<li>Fixing segfault related to unsupported encodings in in-context parsing on 1.8.7. <a href="https://github.com/sparklemotion/nokogiri/issues/643">#643</a></li>
<li>(JRuby) Concurrency issue in XPath parsing. <a href="https://github.com/sparklemotion/nokogiri/issues/682">#682</a></li>
</ul>
<h2 id="152-2012-03-09">1.5.2 / 2012-03-09<a class="headerlink" href="#152-2012-03-09" title="Permanent link">&para;</a></h2>
<p>Repackaging of 1.5.1 with a gemspec that is compatible with older Rubies. <a href="https://github.com/sparklemotion/nokogiri/issues/631">#631</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/632">#632</a>.</p>
<h2 id="151-2012-03-09">1.5.1 / 2012-03-09<a class="headerlink" href="#151-2012-03-09" title="Permanent link">&para;</a></h2>
<h3 id="added_22">Added<a class="headerlink" href="#added_22" title="Permanent link">&para;</a></h3>
<ul>
<li>XML::Builder#comment allows creation of comment nodes.</li>
<li>CSS searches now support namespaced attributes. <a href="https://github.com/sparklemotion/nokogiri/issues/593">#593</a></li>
<li>Java integration feature is added. Now, XML::Document.wrap and XML::Document#to_java methods are available.</li>
<li>RelaxNG validator support in the <code>nokogiri</code> cli utility. <a href="https://github.com/sparklemotion/nokogiri/issues/591">#591</a> (thanks, Dan Radez!)</li>
</ul>
<h3 id="fixed_37">Fixed<a class="headerlink" href="#fixed_37" title="Permanent link">&para;</a></h3>
<ul>
<li>Fix many memory leaks and segfault opportunities. Thanks, Tim Elliott!</li>
<li>extconf searches homebrew paths if homebrew is installed.</li>
<li>Inconsistent behavior of Nokogiri 1.5.0 Java <a href="https://github.com/sparklemotion/nokogiri/issues/620">#620</a></li>
<li>Inheriting from Nokogiri::XML::Node on JRuby (1.6.4/5) fails <a href="https://github.com/sparklemotion/nokogiri/issues/560">#560</a></li>
<li>XML::Attr nodes are not allowed to be added as node children, so an exception is raised. <a href="https://github.com/sparklemotion/nokogiri/issues/558">#558</a></li>
<li>No longer defensively "pickle" adjacent text nodes on Node#add_next_sibling and Node#add_previous_sibling calls. <a href="https://github.com/sparklemotion/nokogiri/issues/595">#595</a>.</li>
<li>Java version inconsistency: it returns nil for empty attributes <a href="https://github.com/sparklemotion/nokogiri/issues/589">#589</a></li>
<li>to_xhtml incorrectly generates <p /></p> when tag is empty <a href="https://github.com/sparklemotion/nokogiri/issues/557">#557</a></li>
<li>Document#add_child now accepts a Node, NodeSet, DocumentFragment, or String. <a href="https://github.com/sparklemotion/nokogiri/issues/546">#546</a>.</li>
<li>Document#create_element now recognizes namespaces containing non-word characters (like "SOAP-ENV"). This is mostly relevant to users of Builder, which calls Document#create_element for nearly everything. <a href="https://github.com/sparklemotion/nokogiri/issues/531">#531</a>.</li>
<li>File encoding broken in 1.5.0 / jruby / windows <a href="https://github.com/sparklemotion/nokogiri/issues/529">#529</a></li>
<li>Java version does not return namespace defs as attrs for ::HTML <a href="https://github.com/sparklemotion/nokogiri/issues/542">#542</a></li>
<li>Bad file descriptor with Nokogiri 1.5.0 <a href="https://github.com/sparklemotion/nokogiri/issues/495">#495</a></li>
<li>remove_namespace! doesn't work in pure java version <a href="https://github.com/sparklemotion/nokogiri/issues/492">#492</a></li>
<li>The Nokogiri Java native build throws a null pointer exception when ActiveSupport's .blank? method is called directly on a parsed object. <a href="https://github.com/sparklemotion/nokogiri/issues/489">#489</a></li>
<li>1.5.0 Not using correct character encoding <a href="https://github.com/sparklemotion/nokogiri/issues/488">#488</a></li>
<li>Raw XML string in XML Builder broken on JRuby <a href="https://github.com/sparklemotion/nokogiri/issues/486">#486</a></li>
<li>Nokogiri 1.5.0 XML generation broken on JRuby <a href="https://github.com/sparklemotion/nokogiri/issues/484">#484</a></li>
<li>Do not allow multiple root nodes. <a href="https://github.com/sparklemotion/nokogiri/issues/550">#550</a></li>
<li>Fixes for custom XPath functions. <a href="https://github.com/sparklemotion/nokogiri/issues/605">#605</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/606">#606</a> (thanks, Juan Wajnerman!)</li>
<li>Node#to_xml does not override :save_with if it is provided. <a href="https://github.com/sparklemotion/nokogiri/issues/505">#505</a></li>
<li>Node#set is a private method (JRuby). <a href="https://github.com/sparklemotion/nokogiri/issues/564">#564</a> (thanks, Nick Sieger!)</li>
<li>C14n cleanup and Node#canonicalize (thanks, Ivan Pirlik!) <a href="https://github.com/sparklemotion/nokogiri/issues/563">#563</a></li>
</ul>
<h2 id="150-2011-07-01">1.5.0 / 2011-07-01<a class="headerlink" href="#150-2011-07-01" title="Permanent link">&para;</a></h2>
<h3 id="notes_4">Notes<a class="headerlink" href="#notes_4" title="Permanent link">&para;</a></h3>
<ul>
<li>See changelog from 1.4.7</li>
</ul>
<h3 id="added_23">Added<a class="headerlink" href="#added_23" title="Permanent link">&para;</a></h3>
<ul>
<li>extracted sets of Node::SaveOptions into Node::SaveOptions::DEFAULT_{X,H,XH}TML (refactor)</li>
</ul>
<h3 id="fixed_38">Fixed<a class="headerlink" href="#fixed_38" title="Permanent link">&para;</a></h3>
<ul>
<li>default output of XML on JRuby is no longer formatted due to inconsistent whitespace handling. <a href="https://github.com/sparklemotion/nokogiri/issues/415">#415</a></li>
<li>(JRuby) making empty NodeSets with null <code>nodes</code> member safe to operate on. <a href="https://github.com/sparklemotion/nokogiri/issues/443">#443</a></li>
<li>Fix a bug in advanced encoding detection that leads to partially duplicated document when parsing an HTML file with unknown encoding.</li>
<li>Add support for <meta charset="...">.</li>
</ul>
<h2 id="150-beta3-2010-12-02">1.5.0 beta3 / 2010-12-02<a class="headerlink" href="#150-beta3-2010-12-02" title="Permanent link">&para;</a></h2>
<h3 id="notes_5">Notes<a class="headerlink" href="#notes_5" title="Permanent link">&para;</a></h3>
<ul>
<li>JRuby performance tuning</li>
<li>See changelog from 1.4.4</li>
</ul>
<h3 id="fixed_39">Fixed<a class="headerlink" href="#fixed_39" title="Permanent link">&para;</a></h3>
<ul>
<li>Node#inner_text no longer returns nil. (JRuby) <a href="https://github.com/sparklemotion/nokogiri/issues/264">#264</a></li>
</ul>
<h2 id="150-beta2-2010-07-30">1.5.0 beta2 / 2010-07-30<a class="headerlink" href="#150-beta2-2010-07-30" title="Permanent link">&para;</a></h2>
<h3 id="notes_6">Notes<a class="headerlink" href="#notes_6" title="Permanent link">&para;</a></h3>
<ul>
<li>See changelog from 1.4.3</li>
</ul>
<h2 id="150-beta1-2010-05-22">1.5.0 beta1 / 2010-05-22<a class="headerlink" href="#150-beta1-2010-05-22" title="Permanent link">&para;</a></h2>
<h3 id="notes_7">Notes<a class="headerlink" href="#notes_7" title="Permanent link">&para;</a></h3>
<ul>
<li>JRuby support is provided by a new pure-java backend.</li>
</ul>
<h3 id="dependencies_13">Dependencies<a class="headerlink" href="#dependencies_13" title="Permanent link">&para;</a></h3>
<ul>
<li>Ruby 1.8.6 is deprecated. Nokogiri will install, but official support is ended.</li>
<li>LibXML 2.6.16 and earlier are deprecated. Nokogiri will refuse to install.</li>
</ul>
<h3 id="removed_1">Removed<a class="headerlink" href="#removed_1" title="Permanent link">&para;</a></h3>
<ul>
<li>FFI support is removed.</li>
</ul>
<h2 id="147-2011-07-01">1.4.7 / 2011-07-01<a class="headerlink" href="#147-2011-07-01" title="Permanent link">&para;</a></h2>
<h3 id="fixed_40">Fixed<a class="headerlink" href="#fixed_40" title="Permanent link">&para;</a></h3>
<ul>
<li>Fix a bug in advanced encoding detection that leads to partially duplicated document when parsing an HTML file with unknown encoding. Thanks, Timothy Elliott (<a href="https://github.com/ender672">@ender672</a>)! <a href="https://github.com/sparklemotion/nokogiri/issues/478">#478</a></li>
</ul>
<h2 id="146-2011-06-19">1.4.6 / 2011-06-19<a class="headerlink" href="#146-2011-06-19" title="Permanent link">&para;</a></h2>
<h3 id="notes_8">Notes<a class="headerlink" href="#notes_8" title="Permanent link">&para;</a></h3>
<ul>
<li>This version is functionally identical to 1.4.5.</li>
<li>Ruby 1.8.6 support has been restored.</li>
</ul>
<h2 id="145-2011-05-19">1.4.5 / 2011-05-19<a class="headerlink" href="#145-2011-05-19" title="Permanent link">&para;</a></h2>
<h3 id="added_24">Added<a class="headerlink" href="#added_24" title="Permanent link">&para;</a></h3>
<ul>
<li>Nokogiri::HTML::Document#title accessor gets and sets the document title.</li>
<li>extracted sets of Node::SaveOptions into Node::SaveOptions::DEFAULT_{X,H,XH}TML (refactor)</li>
<li>Raise an exception if a string is passed to Nokogiri::XML::Schema#validate. <a href="https://github.com/sparklemotion/nokogiri/issues/406">#406</a></li>
</ul>
<h3 id="fixed_41">Fixed<a class="headerlink" href="#fixed_41" title="Permanent link">&para;</a></h3>
<ul>
<li>Node#serialize-and-friends now accepts a SaveOption object as the, erm, save object.</li>
<li>Nokogiri::CSS::Parser has-a Nokogiri::CSS::Tokenizer</li>
<li>(JRUBY+FFI only) Weak references are now threadsafe. <a href="https://github.com/sparklemotion/nokogiri/issues/355">#355</a></li>
<li>Make direct start_element() callback (currently used for HTML::SAX::Parser) pass attributes in assoc array, just as emulated start_element() callback does.  rel. <a href="https://github.com/sparklemotion/nokogiri/issues/356">#356</a></li>
<li>HTML::SAX::Parser should call back a block given to parse*() if any, just as XML::SAX::Parser does.</li>
<li>Add further encoding detection to HTML parser that libxml2 does not do.</li>
<li>Document#remove_namespaces! now handles attributes with namespaces. <a href="https://github.com/sparklemotion/nokogiri/issues/396">#396</a></li>
<li>XSLT::Stylesheet#transform no longer segfaults when handed a non-XML::Document. <a href="https://github.com/sparklemotion/nokogiri/issues/452">#452</a></li>
<li>XML::Reader no longer segfaults when under GC pressure. <a href="https://github.com/sparklemotion/nokogiri/issues/439">#439</a></li>
</ul>
<h2 id="144-2010-11-15">1.4.4 / 2010-11-15<a class="headerlink" href="#144-2010-11-15" title="Permanent link">&para;</a></h2>
<h3 id="added_25">Added<a class="headerlink" href="#added_25" title="Permanent link">&para;</a></h3>
<ul>
<li>XML::Node#children= sets the node's inner html (much like #inner_html=), but returns the reparent node(s).</li>
<li>XSLT supports function extensions. <a href="https://github.com/sparklemotion/nokogiri/issues/336">#336</a></li>
<li>XPath bind parameter substitution. <a href="https://github.com/sparklemotion/nokogiri/issues/329">#329</a></li>
<li>XML::Reader node type constants. <a href="https://github.com/sparklemotion/nokogiri/issues/369">#369</a></li>
<li>SAX Parser context provides line and column information</li>
</ul>
<h3 id="fixed_42">Fixed<a class="headerlink" href="#fixed_42" title="Permanent link">&para;</a></h3>
<ul>
<li>XML::DTD#attributes returns an empty hash instead of nil when there are no attributes.</li>
<li>XML::DTD#{keys,each} now work as expected. <a href="https://github.com/sparklemotion/nokogiri/issues/324">#324</a></li>
<li>{XML,HTML}::DocumentFragment.{new,parse} no longer strip leading and trailing whitespace. <a href="https://github.com/sparklemotion/nokogiri/issues/319">#319</a></li>
<li>XML::Node#{add_child,add_previous_sibling,add_next_sibling,replace} return a NodeSet when passed a string.</li>
<li>Unclosed tags parsed more robustly in fragments. <a href="https://github.com/sparklemotion/nokogiri/issues/315">#315</a></li>
<li>XML::Node#{replace,add_previous_sibling,add_next_sibling} edge cases fixed related to libxml's text node merging. <a href="https://github.com/sparklemotion/nokogiri/issues/308">#308</a></li>
<li>Fixed a segfault when GC occurs during xpath handler argument marshalling. <a href="https://github.com/sparklemotion/nokogiri/issues/345">#345</a></li>
<li>Added hack to Slop decorator to work with previously defined methods. <a href="https://github.com/sparklemotion/nokogiri/issues/330">#330</a></li>
<li>Fix a memory leak when duplicating child nodes. <a href="https://github.com/sparklemotion/nokogiri/issues/353">#353</a></li>
<li>Fixed off-by-one bug with nth-last-{child,of-type} CSS selectors when NOT using an+b notation. <a href="https://github.com/sparklemotion/nokogiri/issues/354">#354</a></li>
<li>Fixed passing of non-namespace attributes to SAX::Document#start_element. <a href="https://github.com/sparklemotion/nokogiri/issues/356">#356</a></li>
<li>Workaround for libxml2 in-context parsing bug. <a href="https://github.com/sparklemotion/nokogiri/issues/362">#362</a></li>
<li>Fixed NodeSet#wrap on nodes within a fragment. <a href="https://github.com/sparklemotion/nokogiri/issues/331">#331</a></li>
</ul>
<h2 id="143-2010-07-28">1.4.3 / 2010-07-28<a class="headerlink" href="#143-2010-07-28" title="Permanent link">&para;</a></h2>
<h3 id="added_26">Added<a class="headerlink" href="#added_26" title="Permanent link">&para;</a></h3>
<ul>
<li>XML::Reader#empty_element? returns true for empty elements. <a href="https://github.com/sparklemotion/nokogiri/issues/262">#262</a></li>
<li>Node#remove_namespaces! now removes namespace <em>declarations</em> as well. <a href="https://github.com/sparklemotion/nokogiri/issues/294">#294</a></li>
<li>NodeSet#at_xpath, NodeSet#at_css and NodeSet#&gt; do what the corresponding methods of Node do.</li>
</ul>
<h3 id="fixed_43">Fixed<a class="headerlink" href="#fixed_43" title="Permanent link">&para;</a></h3>
<ul>
<li>XML::NodeSet#{include?,delete,push} accept an XML::Namespace</li>
<li>XML::Document#parse added for parsing in the context of a document</li>
<li>XML::DocumentFragment#inner_html= works with contextual parsing! <a href="https://github.com/sparklemotion/nokogiri/issues/298">#298</a>, <a href="https://github.com/sparklemotion/nokogiri/issues/281">#281</a></li>
<li>lib/nokogiri/css/parser.y Combined CSS functions + pseudo selectors fixed</li>
<li>Reparenting text nodes is safe, even when the operation frees adjacent merged nodes. <a href="https://github.com/sparklemotion/nokogiri/issues/283">#283</a></li>
<li>Fixed libxml2 versionitis issue with xmlFirstElementChild et al. <a href="https://github.com/sparklemotion/nokogiri/issues/303">#303</a></li>
<li>XML::Attr#add_namespace now works as expected. <a href="https://github.com/sparklemotion/nokogiri/issues/252">#252</a></li>
<li>HTML::DocumentFragment uses the string's encoding. <a href="https://github.com/sparklemotion/nokogiri/issues/305">#305</a></li>
<li>Fix the CSS3 selector translation rule for the general sibling combinator (a.k.a. preceding selector) that incorrectly converted "E ~ F G" to "//F//G[preceding-sibling::E]".</li>
</ul>
<h2 id="142-2010-05-22">1.4.2 / 2010-05-22<a class="headerlink" href="#142-2010-05-22" title="Permanent link">&para;</a></h2>
<h3 id="added_27">Added<a class="headerlink" href="#added_27" title="Permanent link">&para;</a></h3>
<ul>
<li>XML::Node#parse will parse XML or HTML fragments with respect to the context node.</li>
<li>XML::Node#namespaces returns all namespaces defined in the node and all ancestor nodes (previously did not return ancestors' namespace definitions).</li>
<li>Added Enumerable to XML::Node</li>
<li>Nokogiri::XML::Schema#validate now uses xmlSchemaValidateFile if a filename is passed, which is faster and more memory-efficient. GH <a href="https://github.com/sparklemotion/nokogiri/issues/219">#219</a></li>
<li>XML::Document#create_entity will create new EntityDecl objects. GH <a href="https://github.com/sparklemotion/nokogiri/issues/174">#174</a></li>
<li>JRuby FFI implementation no longer uses ObjectSpace._id2ref, instead using Charles Nutter's rocking Weakling gem.</li>
<li>Nokogiri::XML::Node#first_element_child fetch the first child node that is an ELEMENT node.</li>
<li>Nokogiri::XML::Node#last_element_child fetch the last child node that is an ELEMENT node.</li>
<li>Nokogiri::XML::Node#elements fetch all children nodes that are ELEMENT nodes.</li>
<li>Nokogiri::XML::Node#add_child, #add_previous_sibling, #before, #add_next_sibling, #after, #inner_html, #swap and #replace all now accept a Node, DocumentFragment, NodeSet, or a string containing markup.</li>
<li>Node#fragment? indicates whether a node is a DocumentFragment.</li>
</ul>
<h3 id="fixed_44">Fixed<a class="headerlink" href="#fixed_44" title="Permanent link">&para;</a></h3>
<ul>
<li>XML::NodeSet is now always decorated (if the document has decorators). GH <a href="https://github.com/sparklemotion/nokogiri/issues/198">#198</a></li>
<li>XML::NodeSet#slice gracefully handles offset+length larger than the set length. GH <a href="https://github.com/sparklemotion/nokogiri/issues/200">#200</a></li>
<li>XML::Node#content= safely unlinks previous content. GH <a href="https://github.com/sparklemotion/nokogiri/issues/203">#203</a></li>
<li>XML::Node#namespace= takes nil as a parameter</li>
<li>XML::Node#xpath returns things other than NodeSet objects. GH <a href="https://github.com/sparklemotion/nokogiri/issues/208">#208</a></li>
<li>XSLT::StyleSheet#transform accepts hashes for parameters. GH <a href="https://github.com/sparklemotion/nokogiri/issues/223">#223</a></li>
<li>Psuedo selectors inside not() work. GH <a href="https://github.com/sparklemotion/nokogiri/issues/205">#205</a></li>
<li>XML::Builder doesn't break when nodes are unlinked. Thanks to vihai! GH <a href="https://github.com/sparklemotion/nokogiri/issues/228">#228</a></li>
<li>Encoding can be forced on the SAX parser. Thanks Eugene Pimenov! GH <a href="https://github.com/sparklemotion/nokogiri/issues/204">#204</a></li>
<li>XML::DocumentFragment uses XML::Node#parse to determine children.</li>
<li>Fixed a memory leak in xml reader. Thanks sdor! GH <a href="https://github.com/sparklemotion/nokogiri/issues/244">#244</a></li>
<li>Node#replace returns the new child node as claimed in the RDoc. Previously returned +self+.</li>
</ul>
<h3 id="notes_9">Notes<a class="headerlink" href="#notes_9" title="Permanent link">&para;</a></h3>
<ul>
<li>The Windows gems now bundle DLLs for libxml 2.7.6 and libxslt 1.1.26. Prior to this release, libxml 2.7.3 and libxslt 1.1.24 were bundled.</li>
</ul>
<h2 id="141-2009-12-10">1.4.1 / 2009-12-10<a class="headerlink" href="#141-2009-12-10" title="Permanent link">&para;</a></h2>
<h3 id="added_28">Added<a class="headerlink" href="#added_28" title="Permanent link">&para;</a></h3>
<ul>
<li>Added Nokogiri::LIBXML_ICONV_ENABLED</li>
<li>Alias Node#[] to Node#attr</li>
<li>XML::Node#next_element added</li>
<li>XML::Node#&gt; added for searching a nodes immediate children</li>
<li>XML::NodeSet#reverse added</li>
<li>Added fragment support to Node#add_child, Node#add_next_sibling, Node#add_previous_sibling, and Node#replace.</li>
<li>XML::Node#previous_element implemented</li>
<li>Rubinius support</li>
<li>Ths CSS selector engine now supports :has()</li>
<li>XML::NodeSet#filter() was added</li>
<li>XML::Node.next= and .previous= are aliases for add_next_sibling and add_previous_sibling. GH <a href="https://github.com/sparklemotion/nokogiri/issues/183">#183</a></li>
</ul>
<h3 id="fixed_45">Fixed<a class="headerlink" href="#fixed_45" title="Permanent link">&para;</a></h3>
<ul>
<li>XML fragments with namespaces do not raise an exception (regression in 1.4.0)</li>
<li>Node#matches? works in nodes contained by a DocumentFragment. GH <a href="https://github.com/sparklemotion/nokogiri/issues/158">#158</a></li>
<li>Document should not define add_namespace() method. GH <a href="https://github.com/sparklemotion/nokogiri/issues/169">#169</a></li>
<li>XPath queries returning namespace declarations do not segfault.</li>
<li>Node#replace works with nodes from different documents. GH <a href="https://github.com/sparklemotion/nokogiri/issues/162">#162</a></li>
<li>Adding XML::Document#collect_namespaces</li>
<li>Fixed bugs in the SOAP4R adapter</li>
<li>Fixed bug in XML::Node#next_element for certain edge cases</li>
<li>Fixed load path issue with JRuby under Windows. GH <a href="https://github.com/sparklemotion/nokogiri/issues/160">#160</a>.</li>
<li>XSLT#apply_to will honor the "output method". Thanks richardlehane!</li>
<li>Fragments containing leading text nodes with newlines now parse properly. GH <a href="https://github.com/sparklemotion/nokogiri/issues/178">#178</a>.</li>
</ul>
<h2 id="140-2009-10-30">1.4.0 / 2009-10-30<a class="headerlink" href="#140-2009-10-30" title="Permanent link">&para;</a></h2>
<h3 id="added_29">Added<a class="headerlink" href="#added_29" title="Permanent link">&para;</a></h3>
<ul>
<li>Node#at_xpath returns the first element of the NodeSet matching the XPath expression.</li>
<li>Node#at_css returns the first element of the NodeSet matching the CSS selector.</li>
<li>NodeSet#| for unions GH <a href="https://github.com/sparklemotion/nokogiri/issues/119">#119</a> (Thanks Serabe!)</li>
<li>NodeSet#inspect makes prettier output</li>
<li>Node#inspect implemented for more rubyish document inspecting</li>
<li>Added XML::DTD#external_id</li>
<li>Added XML::DTD#system_id</li>
<li>Added XML::ElementContent for DTD Element content validity</li>
<li>Better namespace declaration support in Nokogiri::XML::Builder</li>
<li>Added XML::Node#external_subset</li>
<li>Added XML::Node#create_external_subset</li>
<li>Added XML::Node#create_internal_subset</li>
<li>XML Builder can append raw strings (GH <a href="https://github.com/sparklemotion/nokogiri/issues/141">#141</a>, patch from dudleyf)</li>
<li>XML::SAX::ParserContext added</li>
<li>XML::Document#remove_namespaces! for the namespace-impaired</li>
</ul>
<h3 id="fixed_46">Fixed<a class="headerlink" href="#fixed_46" title="Permanent link">&para;</a></h3>
<ul>
<li>returns nil when HTML documents do not declare a meta encoding tag. GH <a href="https://github.com/sparklemotion/nokogiri/issues/115">#115</a></li>
<li>Uses RbConfig::CONFIG['host_os'] to adjust ENV['PATH'] GH <a href="https://github.com/sparklemotion/nokogiri/issues/113">#113</a></li>
<li>NodeSet#search is more efficient GH <a href="https://github.com/sparklemotion/nokogiri/issues/119">#119</a> (Thanks Serabe!)</li>
<li>NodeSet#xpath handles custom xpath functions</li>
<li>Fixing a SEGV when XML::Reader gets attributes for current node</li>
<li>Node#inner_html takes the same arguments as Node#to_html GH <a href="https://github.com/sparklemotion/nokogiri/issues/117">#117</a></li>
<li>DocumentFragment#css delegates to it's child nodes GH <a href="https://github.com/sparklemotion/nokogiri/issues/123">#123</a></li>
<li>NodeSet#[] works with slices larger than NodeSet#length GH <a href="https://github.com/sparklemotion/nokogiri/issues/131">#131</a></li>
<li>Reparented nodes maintain their namespace. GH <a href="https://github.com/sparklemotion/nokogiri/issues/134">#134</a></li>
<li>Fixed SEGV when adding an XML::Document to NodeSet</li>
<li>XML::SyntaxError can be duplicated. GH <a href="https://github.com/sparklemotion/nokogiri/issues/148">#148</a></li>
</ul>
<h3 id="removed_2">Removed<a class="headerlink" href="#removed_2" title="Permanent link">&para;</a></h3>
<ul>
<li>Hpricot compatibility layer removed</li>
</ul>
<h2 id="133-2009-07-26">1.3.3 / 2009-07-26<a class="headerlink" href="#133-2009-07-26" title="Permanent link">&para;</a></h2>
<h3 id="added_30">Added<a class="headerlink" href="#added_30" title="Permanent link">&para;</a></h3>
<ul>
<li>NodeSet#children returns all children of all nodes</li>
</ul>
<h3 id="fixed_47">Fixed<a class="headerlink" href="#fixed_47" title="Permanent link">&para;</a></h3>
<ul>
<li>Override libxml-ruby's global error handler</li>
<li>ParseOption#strict fixed</li>
<li>Fixed a segfault when sending an empty string to Node#inner_html= GH <a href="https://github.com/sparklemotion/nokogiri/issues/88">#88</a></li>
<li>String encoding is now set to UTF-8 in Ruby 1.9</li>
<li>Fixed a segfault when moving root nodes between documents. GH <a href="https://github.com/sparklemotion/nokogiri/issues/91">#91</a></li>
<li>Fixed an O(n) penalty on node creation. GH <a href="https://github.com/sparklemotion/nokogiri/issues/101">#101</a></li>
<li>Allowing XML documents to be output as HTML documents</li>
</ul>
<h3 id="deprecations_1">Deprecations<a class="headerlink" href="#deprecations_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Hpricot compatibility layer will be removed in 1.4.0</li>
</ul>
<h2 id="132-2009-06-22">1.3.2 / 2009-06-22<a class="headerlink" href="#132-2009-06-22" title="Permanent link">&para;</a></h2>
<h3 id="added_31">Added<a class="headerlink" href="#added_31" title="Permanent link">&para;</a></h3>
<ul>
<li>Nokogiri::XML::DTD#validate will validate your document</li>
</ul>
<h3 id="fixed_48">Fixed<a class="headerlink" href="#fixed_48" title="Permanent link">&para;</a></h3>
<ul>
<li>Nokogiri::XML::NodeSet#search will search top level nodes. GH <a href="https://github.com/sparklemotion/nokogiri/issues/73">#73</a></li>
<li>Removed namespace related methods from Nokogiri::XML::Document</li>
<li>Fixed a segfault when a namespace was added twice</li>
<li>Made nokogiri work with Snow Leopard GH <a href="https://github.com/sparklemotion/nokogiri/issues/79">#79</a></li>
<li>Mailing list has moved to: <a href="http://groups.google.com/group/nokogiri-talk">http://groups.google.com/group/nokogiri-talk</a></li>
<li>HTML fragments now correctly handle comments and CDATA blocks. GH <a href="https://github.com/sparklemotion/nokogiri/issues/78">#78</a></li>
<li>Nokogiri::XML::Document#clone is now an alias of dup</li>
</ul>
<h3 id="deprecations_2">Deprecations<a class="headerlink" href="#deprecations_2" title="Permanent link">&para;</a></h3>
<ul>
<li>Nokogiri::XML::SAX::Document#start_element_ns is deprecated, please switch to Nokogiri::XML::SAX::Document#start_element_namespace</li>
<li>Nokogiri::XML::SAX::Document#end_element_ns is deprecated, please switch to Nokogiri::XML::SAX::Document#end_element_namespace</li>
</ul>
<h2 id="131-2009-06-07">1.3.1 / 2009-06-07<a class="headerlink" href="#131-2009-06-07" title="Permanent link">&para;</a></h2>
<h3 id="fixed_49">Fixed<a class="headerlink" href="#fixed_49" title="Permanent link">&para;</a></h3>
<ul>
<li>extconf.rb checks for optional RelaxNG and Schema functions</li>
<li>Namespace nodes are added to the Document node cache</li>
</ul>
<h2 id="130-2009-05-30">1.3.0 / 2009-05-30<a class="headerlink" href="#130-2009-05-30" title="Permanent link">&para;</a></h2>
<h3 id="added_32">Added<a class="headerlink" href="#added_32" title="Permanent link">&para;</a></h3>
<ul>
<li>Builder changes scope based on block arity</li>
<li>Builder supports methods ending in underscore similar to tagz</li>
<li>Nokogiri::XML::Node#&lt;=&gt; compares nodes based on Document position</li>
<li>Nokogiri::XML::Node#matches? returns true if Node can be found with given selector.</li>
<li>Nokogiri::XML::Node#ancestors now returns an Nokogiri::XML::NodeSet</li>
<li>Nokogiri::XML::Node#ancestors will match parents against optional selector</li>
<li>Nokogiri::HTML::Document#meta_encoding for getting the meta encoding</li>
<li>Nokogiri::HTML::Document#meta_encoding= for setting the meta encoding</li>
<li>Nokogiri::XML::Document#encoding= to set the document encoding</li>
<li>Nokogiri::XML::Schema for validating documents against XSD schema</li>
<li>Nokogiri::XML::RelaxNG for validating documents against RelaxNG schema</li>
<li>Nokogiri::HTML::ElementDescription for fetching HTML element descriptions</li>
<li>Nokogiri::XML::Node#description to fetch the node description</li>
<li>Nokogiri::XML::Node#accept implements Visitor pattern</li>
<li>bin/nokogiri for easily examining documents (Thanks Yutaka HARA!)</li>
<li>Nokogiri::XML::NodeSet now supports more Array and Enumerable operators: index, delete, slice, - (difference), + (concatenation), &amp; (intersection), push, pop, shift, ==</li>
<li>Nokogiri.XML, Nokogiri.HTML take blocks that receive Nokogiri::XML::ParseOptions objects</li>
<li>Nokogiri::XML::Node#namespace returns a Nokogiri::XML::Namespace</li>
<li>Nokogiri::XML::Node#namespace= for setting a node's namespace</li>
<li>Nokogiri::XML::DocumentFragment and Nokogiri::HTML::DocumentFragment have a sensible API and a more robust implementation.</li>
<li>JRuby 1.3.0 support via FFI.</li>
</ul>
<h3 id="fixed_50">Fixed<a class="headerlink" href="#fixed_50" title="Permanent link">&para;</a></h3>
<ul>
<li>Fixed a problem with nil passed to CDATA constructor</li>
<li>Fragment method deals with regular expression characters (Thanks Joel!) LH <a href="https://github.com/sparklemotion/nokogiri/issues/73">#73</a></li>
<li>Fixing builder scope issues LH <a href="https://github.com/sparklemotion/nokogiri/issues/61">#61</a>, LH <a href="https://github.com/sparklemotion/nokogiri/issues/74">#74</a>, LH <a href="https://github.com/sparklemotion/nokogiri/issues/70">#70</a></li>
<li>Fixed a problem when adding a child could remove the child namespace LH<a href="https://github.com/sparklemotion/nokogiri/issues/78">#78</a></li>
<li>Fixed bug with unlinking a node then reparenting it. (GH<a href="https://github.com/sparklemotion/nokogiri/issues/22">#22</a>)</li>
<li>Fixed failure to catch errors during XSLT parsing (GH<a href="https://github.com/sparklemotion/nokogiri/issues/32">#32</a>)</li>
<li>Fixed a bug with attribute conditions in CSS selectors (GH<a href="https://github.com/sparklemotion/nokogiri/issues/36">#36</a>)</li>
<li>Fixed intolerance of HTML attributes without values in Node#before/after/inner_html=. (GH<a href="https://github.com/sparklemotion/nokogiri/issues/35">#35</a>)</li>
</ul>
<h2 id="123-2009-03-22">1.2.3 / 2009-03-22<a class="headerlink" href="#123-2009-03-22" title="Permanent link">&para;</a></h2>
<h3 id="fixed_51">Fixed<a class="headerlink" href="#fixed_51" title="Permanent link">&para;</a></h3>
<ul>
<li>Fixing bug where a node is passed in to Node#new</li>
<li>Namespace should be assigned on DocumentFragment creation. LH <a href="https://github.com/sparklemotion/nokogiri/issues/66">#66</a></li>
<li>Nokogiri::XML::NodeSet#dup works GH <a href="https://github.com/sparklemotion/nokogiri/issues/10">#10</a></li>
<li>Nokogiri::HTML returns an empty Document when given a blank string GH<a href="https://github.com/sparklemotion/nokogiri/issues/11">#11</a></li>
<li>Adding a child will remove duplicate namespace declarations LH <a href="https://github.com/sparklemotion/nokogiri/issues/67">#67</a></li>
<li>Builder methods take a hash as a second argument</li>
</ul>
<h2 id="122-2009-03-14">1.2.2 / 2009-03-14<a class="headerlink" href="#122-2009-03-14" title="Permanent link">&para;</a></h2>
<h3 id="added_33">Added<a class="headerlink" href="#added_33" title="Permanent link">&para;</a></h3>
<ul>
<li>Nokogiri may be used with soap4r. See XSD::XMLParser::Nokogiri</li>
<li>Nokogiri::XML::Node#inner_html= to set the inner html for a node</li>
<li>Nokogiri builder interface improvements</li>
<li>Nokogiri::XML::Node#swap swaps html for current node (LH <a href="https://github.com/sparklemotion/nokogiri/issues/50">#50</a>)</li>
</ul>
<h3 id="fixed_52">Fixed<a class="headerlink" href="#fixed_52" title="Permanent link">&para;</a></h3>
<ul>
<li>Fixed a tag nesting problem in the Builder API (LH <a href="https://github.com/sparklemotion/nokogiri/issues/41">#41</a>)</li>
<li>Nokogiri::HTML.fragment will properly handle text only nodes (LH <a href="https://github.com/sparklemotion/nokogiri/issues/43">#43</a>)</li>
<li>Nokogiri::XML::Node#before will prepend text nodes (LH <a href="https://github.com/sparklemotion/nokogiri/issues/44">#44</a>)</li>
<li>Nokogiri::XML::Node#after will append text nodes</li>
<li>Nokogiri::XML::Node#search automatically registers root namespaces (LH <a href="https://github.com/sparklemotion/nokogiri/issues/42">#42</a>)</li>
<li>Nokogiri::XML::NodeSet#search automatically registers namespaces</li>
<li>Nokogiri::HTML::NamedCharacters delegates to libxml2</li>
<li>Nokogiri::XML::Node#[] can take a symbol (LH <a href="https://github.com/sparklemotion/nokogiri/issues/48">#48</a>)</li>
<li>vasprintf for windows updated.  Thanks Geoffroy Couprie!</li>
<li>Nokogiri::XML::Node#[]= should not encode entities (LH <a href="https://github.com/sparklemotion/nokogiri/issues/55">#55</a>)</li>
<li>Namespaces should be copied to reparented nodes (LH <a href="https://github.com/sparklemotion/nokogiri/issues/56">#56</a>)</li>
<li>Nokogiri uses encoding set on the string for default in Ruby 1.9</li>
<li>Document#dup should create a new document of the same type (LH <a href="https://github.com/sparklemotion/nokogiri/issues/59">#59</a>)</li>
<li>Document should not have a parent method (LH <a href="https://github.com/sparklemotion/nokogiri/issues/64">#64</a>)</li>
</ul>
<h2 id="121-2009-02-23">1.2.1 / 2009-02-23<a class="headerlink" href="#121-2009-02-23" title="Permanent link">&para;</a></h2>
<h3 id="fixed_53">Fixed<a class="headerlink" href="#fixed_53" title="Permanent link">&para;</a></h3>
<ul>
<li>Fixed a CSS selector space bug</li>
<li>Fixed Ruby 1.9 String Encoding (Thanks 角谷さん！)</li>
</ul>
<h2 id="120-2009-02-22">1.2.0 / 2009-02-22<a class="headerlink" href="#120-2009-02-22" title="Permanent link">&para;</a></h2>
<h3 id="added_34">Added<a class="headerlink" href="#added_34" title="Permanent link">&para;</a></h3>
<ul>
<li>CSS search now supports CSS3 namespace queries</li>
<li>Namespaces on the root node are automatically registered</li>
<li>CSS queries use the default namespace</li>
<li>Nokogiri::XML::Document#encoding get encoding used for this document</li>
<li>Nokogiri::XML::Document#url get the document url</li>
<li>Nokogiri::XML::Node#add_namespace add a namespace to the node LH<a href="https://github.com/sparklemotion/nokogiri/issues/38">#38</a></li>
<li>Nokogiri::XML::Node#each iterate over attribute name, value pairs</li>
<li>Nokogiri::XML::Node#keys get all attribute names</li>
<li>Nokogiri::XML::Node#line get the line number for a node (Thanks Dirkjan Bussink!)</li>
<li>Nokogiri::XML::Node#serialize now takes an optional encoding parameter</li>
<li>Nokogiri::XML::Node#to_html, to_xml, and to_xhtml take an optional encoding</li>
<li>Nokogiri::XML::Node#to_str</li>
<li>Nokogiri::XML::Node#to_xhtml to produce XHTML documents</li>
<li>Nokogiri::XML::Node#values get all attribute values</li>
<li>Nokogiri::XML::Node#write_to writes the node to an IO object with optional encoding</li>
<li>Nokogiri::XML::ProcessingInstrunction.new</li>
<li>Nokogiri::XML::SAX::PushParser for all your push parsing needs.</li>
</ul>
<h3 id="fixed_54">Fixed<a class="headerlink" href="#fixed_54" title="Permanent link">&para;</a></h3>
<ul>
<li>Fixed Nokogiri::XML::Document#dup</li>
<li>Fixed header detection. Thanks rubikitch!</li>
<li>Fixed a problem where invalid CSS would cause the parser to hang</li>
</ul>
<h3 id="deprecations_3">Deprecations<a class="headerlink" href="#deprecations_3" title="Permanent link">&para;</a></h3>
<ul>
<li>Nokogiri::XML::Node.new_from_str will be deprecated in 1.3.0</li>
</ul>
<h3 id="changed_1">Changed<a class="headerlink" href="#changed_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Nokogiri::HTML.fragment now returns an XML::DocumentFragment (LH <a href="https://github.com/sparklemotion/nokogiri/issues/32">#32</a>)</li>
</ul>
<h2 id="111">1.1.1<a class="headerlink" href="#111" title="Permanent link">&para;</a></h2>
<h3 id="added_35">Added<a class="headerlink" href="#added_35" title="Permanent link">&para;</a></h3>
<ul>
<li>Added XML::Node#elem?</li>
<li>Added XML::Node#attribute_nodes</li>
<li>Added XML::Attr</li>
<li>XML::Node#delete added.</li>
<li>XML::NodeSet#inner_html added.</li>
</ul>
<h3 id="fixed_55">Fixed<a class="headerlink" href="#fixed_55" title="Permanent link">&para;</a></h3>
<ul>
<li>Not including an HTML entity for \r for HTML nodes.</li>
<li>Removed CSS::SelectorHandler and XML::XPathHandler</li>
<li>XML::Node#attributes returns an Attr node for the value.</li>
<li>XML::NodeSet implements to_xml</li>
</ul>
<h2 id="110">1.1.0<a class="headerlink" href="#110" title="Permanent link">&para;</a></h2>
<h3 id="added_36">Added<a class="headerlink" href="#added_36" title="Permanent link">&para;</a></h3>
<ul>
<li>Custom XPath functions are now supported.  See Nokogiri::XML::Node#xpath</li>
<li>Custom CSS pseudo classes are now supported.  See Nokogiri::XML::Node#css</li>
<li>Nokogiri::XML::Node#&lt;&lt; will add a child to the current node</li>
</ul>
<h3 id="fixed_56">Fixed<a class="headerlink" href="#fixed_56" title="Permanent link">&para;</a></h3>
<ul>
<li>Mutex lock on CSS cache access</li>
<li>Fixed build problems with GCC 3.3.5</li>
<li>XML::Node#to_xml now takes an indentation argument</li>
<li>XML::Node#dup takes an optional depth argument</li>
<li>XML::Node#add_previous_sibling returns new sibling node.</li>
</ul>
<h2 id="107">1.0.7<a class="headerlink" href="#107" title="Permanent link">&para;</a></h2>
<h3 id="fixed_57">Fixed<a class="headerlink" href="#fixed_57" title="Permanent link">&para;</a></h3>
<ul>
<li>Fixed memory leak when using Dike</li>
<li>SAX parser now parses IO streams</li>
<li>Comment nodes have their own class</li>
<li>Nokogiri() should delegate to Nokogiri.parse()</li>
<li>Prepending rather than appending to ENV['PATH'] on windows</li>
<li>Fixed a bug in complex CSS negation selectors</li>
</ul>
<h2 id="106">1.0.6<a class="headerlink" href="#106" title="Permanent link">&para;</a></h2>
<h3 id="fixed_58">Fixed<a class="headerlink" href="#fixed_58" title="Permanent link">&para;</a></h3>
<ul>
<li>XPath Parser raises a SyntaxError on parse failure</li>
<li>CSS Parser raises a SyntaxError on parse failure</li>
<li>filter() and not() hpricot compatibility added</li>
<li>CSS searches via Node#search are now always relative</li>
<li>CSS to XPath conversion is now cached</li>
</ul>
<h2 id="105">1.0.5<a class="headerlink" href="#105" title="Permanent link">&para;</a></h2>
<h3 id="fixed_59">Fixed<a class="headerlink" href="#fixed_59" title="Permanent link">&para;</a></h3>
<ul>
<li>Added mailing list and ticket tracking information to the README.txt</li>
<li>Sets ENV['PATH'] on windows if it doesn't exist</li>
<li>Caching results of NodeSet#[] on Document</li>
</ul>
<h2 id="104">1.0.4<a class="headerlink" href="#104" title="Permanent link">&para;</a></h2>
<h3 id="fixed_60">Fixed<a class="headerlink" href="#fixed_60" title="Permanent link">&para;</a></h3>
<ul>
<li>Changed memory management from weak refs to document refs</li>
<li>Plugged some memory leaks</li>
<li>Builder blocks can call methods from surrounding contexts</li>
</ul>
<h2 id="103">1.0.3<a class="headerlink" href="#103" title="Permanent link">&para;</a></h2>
<h3 id="fixed_61">Fixed<a class="headerlink" href="#fixed_61" title="Permanent link">&para;</a></h3>
<ul>
<li>NodeSet now implements to_ary</li>
<li>XML::Document should not implement parent</li>
<li>More GC Bugs fixed.  (Mike is AWESOME!)</li>
<li>Removed RARRAY_LEN for 1.8.5 compatibility.  Thanks Shane Hanna.</li>
<li>inner_html fixed. (Thanks Yehuda!)</li>
</ul>
<h2 id="102">1.0.2<a class="headerlink" href="#102" title="Permanent link">&para;</a></h2>
<h3 id="fixed_62">Fixed<a class="headerlink" href="#fixed_62" title="Permanent link">&para;</a></h3>
<ul>
<li>extconf.rb should not check for frex and racc</li>
</ul>
<h2 id="101">1.0.1<a class="headerlink" href="#101" title="Permanent link">&para;</a></h2>
<h3 id="fixed_63">Fixed<a class="headerlink" href="#fixed_63" title="Permanent link">&para;</a></h3>
<ul>
<li>Made sure extconf.rb searched libdir and prefix so that ports libxml/ruby will link properly.  Thanks lucsky!</li>
</ul>
<h2 id="100-2008-07-13">1.0.0 / 2008-07-13<a class="headerlink" href="#100-2008-07-13" title="Permanent link">&para;</a></h2>
<h3 id="added_37">Added<a class="headerlink" href="#added_37" title="Permanent link">&para;</a></h3>
<ul>
<li>Birthday!</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="tutorials/ensuring_well_formed_markup.html" title="Ensuring well-formed markup" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Ensuring well-formed markup
              </span>
            </div>
          </a>
        
        
          <a href="CODE_OF_CONDUCT.html" title="Code of Conduct" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Code of Conduct
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright Ⓒ 2009-2020 Mike Dalessio
          </div>
        
        <a href="https://github.com/sparklemotion/nokogiri.org">sparklemotion/nokogiri.org</a>
        rendered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.08c56446.min.js"></script>
      <script src="assets/javascripts/bundle.6ced434e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: ['navigation.tabs', 'toc.integrate'],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>