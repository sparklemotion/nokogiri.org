{"config":{"separator":"[\\s\\.#:]"},"items":[{"location":"index.html","level":1,"title":"Nokogiri","text":"","path":["Nokogiri"],"tags":[]},{"location":"index.html#nokogiri","level":1,"title":"Nokogiri","text":"<p>Nokogiri (\u92f8) makes it easy and painless to work with XML and HTML from Ruby. It provides a sensible, easy-to-understand API for reading, writing, modifying, and querying documents. It is fast and standards-compliant by relying on native parsers like libxml2, libgumbo, and xerces.</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#guiding-principles","level":2,"title":"Guiding Principles","text":"<p>Some guiding principles Nokogiri tries to follow:</p> <ul> <li>be secure-by-default by treating all documents as untrusted by default</li> <li>be a thin-as-reasonable layer on top of the underlying parsers, and don't attempt to fix behavioral differences between the parsers</li> </ul>","path":["Nokogiri"],"tags":[]},{"location":"index.html#features-overview","level":2,"title":"Features Overview","text":"<ul> <li>DOM Parser for XML, HTML4, and HTML5</li> <li>SAX Parser for XML and HTML4</li> <li>Push Parser for XML and HTML4</li> <li>Document search via XPath 1.0</li> <li>Document search via CSS3 selectors, with some jquery-like extensions</li> <li>XSD Schema validation</li> <li>XSLT transformation</li> <li>\"Builder\" DSL for XML and HTML documents</li> </ul>","path":["Nokogiri"],"tags":[]},{"location":"index.html#status","level":2,"title":"Status","text":"","path":["Nokogiri"],"tags":[]},{"location":"index.html#support-getting-help-and-reporting-issues","level":2,"title":"Support, Getting Help, and Reporting Issues","text":"<p>All official documentation is posted at https://nokogiri.org (the source for which is at https://github.com/sparklemotion/nokogiri.org/, and we welcome contributions).</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#reading","level":3,"title":"Reading","text":"<p>Your first stops for learning more about Nokogiri should be:</p> <ul> <li>API Documentation</li> <li>Tutorials</li> <li>An excellent community-maintained Cheat Sheet</li> </ul>","path":["Nokogiri"],"tags":[]},{"location":"index.html#ask-for-help","level":3,"title":"Ask For Help","text":"<p>There are a few ways to ask exploratory questions:</p> <ul> <li>The Nokogiri mailing list is active at https://groups.google.com/group/nokogiri-talk</li> <li>Open an issue using the \"Help Request\" template at https://github.com/sparklemotion/nokogiri/issues</li> <li>Open a discussion at https://github.com/sparklemotion/nokogiri/discussions</li> </ul> <p>Please do not mail the maintainers at their personal addresses.</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#report-a-bug","level":3,"title":"Report A Bug","text":"<p>The Nokogiri bug tracker is at https://github.com/sparklemotion/nokogiri/issues</p> <p>Please use the \"Bug Report\" or \"Installation Difficulties\" templates.</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#security-and-vulnerability-reporting","level":3,"title":"Security and Vulnerability Reporting","text":"<p>Please report vulnerabilities at https://hackerone.com/nokogiri</p> <p>Full information and description of our security policy is in <code>SECURITY.md</code></p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#semantic-versioning-policy","level":3,"title":"Semantic Versioning Policy","text":"<p>Nokogiri follows Semantic Versioning (since 2017 or so). </p> <p>We bump <code>Major.Minor.Patch</code> versions following this guidance:</p> <p><code>Major</code>: (we've never done this)</p> <ul> <li>Significant backwards-incompatible changes to the public API that would require rewriting existing application code.</li> <li>Some examples of backwards-incompatible changes we might someday consider for a Major release are at <code>ROADMAP.md</code>.</li> </ul> <p><code>Minor</code>:</p> <ul> <li>Features and bugfixes.</li> <li>Updating packaged libraries for non-security-related reasons.</li> <li>Dropping support for EOLed Ruby versions. Some folks find this objectionable, but SemVer says this is OK if the public API hasn't changed.</li> <li>Backwards-incompatible changes to internal or private methods and constants. These are detailed in the \"Changes\" section of each changelog entry.</li> <li>Removal of deprecated methods or parameters, after a generous transition period; usually when those methods or parameters are rarely-used or dangerous to the user. Essentially, removals that do not justify a major version bump.</li> </ul> <p><code>Patch</code>:</p> <ul> <li>Bugfixes.</li> <li>Security updates.</li> <li>Updating packaged libraries for security-related reasons.</li> </ul>","path":["Nokogiri"],"tags":[]},{"location":"index.html#sponsorship","level":3,"title":"Sponsorship","text":"<p>You can help sponsor the maintainers of this software through one of these organizations:</p> <ul> <li>github.com/sponsors/flavorjones</li> <li>opencollective.com/nokogiri</li> <li>tidelift.com/subscription/pkg/rubygems-nokogiri</li> </ul>","path":["Nokogiri"],"tags":[]},{"location":"index.html#installation","level":2,"title":"Installation","text":"<p>Requirements:</p> <ul> <li>Ruby &gt;= 3.2</li> <li>JRuby &gt;= 10.0</li> </ul> <p>If you are compiling the native extension against a system version of libxml2:</p> <ul> <li>libxml2 &gt;= 2.9.2 (recommended &gt;= 2.12.0)</li> </ul>","path":["Nokogiri"],"tags":[]},{"location":"index.html#native-gems-faster-more-reliable-installation","level":3,"title":"Native Gems: Faster, more reliable installation","text":"<p>\"Native gems\" contain pre-compiled libraries for a specific machine architecture. On supported platforms, this removes the need for compiling the C extension and the packaged libraries, or for system dependencies to exist. This results in much faster installation and more reliable installation, which as you probably know are the biggest headaches for Nokogiri users.</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#supported-platforms","level":3,"title":"Supported Platforms","text":"<p>Nokogiri ships pre-compiled, \"native\" gems for the following platforms:</p> <ul> <li>Linux:</li> <li><code>x86_64-linux-gnu</code>, <code>aarch64-linux-gnu</code>, and <code>arm-linux-gnu</code> (req: <code>glibc &gt;= 2.29</code>)</li> <li><code>x86_64-linux-musl</code>, <code>aarch64-linux-musl</code>, and <code>arm-linux-musl</code></li> <li>Darwin/MacOS: <code>x86_64-darwin</code> and <code>arm64-darwin</code></li> <li>Windows: <code>x64-mingw-ucrt</code></li> <li>Java: any platform running JRuby 10.0 or higher</li> </ul> <p>To determine whether your system supports one of these gems, look at the output of <code>bundle platform</code> or <code>ruby -e 'puts Gem::Platform.local.to_s'</code>.</p> <p>If you're on a supported platform, either <code>gem install</code> or <code>bundle install</code> should install a native gem without any additional action on your part. This installation should only take a few seconds, and your output should look something like:</p> <pre><code>$ gem install nokogiri\nFetching nokogiri-1.11.0-x86_64-linux.gem\nSuccessfully installed nokogiri-1.11.0-x86_64-linux\n1 gem installed\n</code></pre>","path":["Nokogiri"],"tags":[]},{"location":"index.html#other-installation-options","level":3,"title":"Other Installation Options","text":"<p>Because Nokogiri is a C extension, it requires that you have a C compiler toolchain, Ruby development header files, and some system dependencies installed.</p> <p>The following may work for you if you have an appropriately-configured system:</p> <pre><code>gem install nokogiri\n</code></pre> <p>If you have any issues, please visit Installing Nokogiri for more complete instructions and troubleshooting.</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#how-to-use-nokogiri","level":2,"title":"How To Use Nokogiri","text":"<p>Nokogiri is a large library, and so it's challenging to briefly summarize it. We've tried to provide long, real-world examples at Tutorials.</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#parsing-and-querying","level":3,"title":"Parsing and Querying","text":"<p>Here is example usage for parsing and querying a document:</p> <pre><code>#! /usr/bin/env ruby\n\nrequire 'nokogiri'\nrequire 'open-uri'\n\n# Fetch and parse HTML document\ndoc = Nokogiri::HTML(URI.open('https://nokogiri.org/tutorials/installing_nokogiri.html'))\n\n# Search for nodes by css\ndoc.css('nav ul.menu li a', 'article h2').each do |link|\n  puts link.content\nend\n\n# Search for nodes by xpath\ndoc.xpath('//nav//ul//li/a', '//article//h2').each do |link|\n  puts link.content\nend\n\n# Or mix and match\ndoc.search('nav ul.menu li a', '//article//h2').each do |link|\n  puts link.content\nend\n</code></pre>","path":["Nokogiri"],"tags":[]},{"location":"index.html#encoding","level":3,"title":"Encoding","text":"<p>Strings are always stored as UTF-8 internally.  Methods that return text values will always return UTF-8 encoded strings.  Methods that return a string containing markup (like <code>to_xml</code>, <code>to_html</code> and <code>inner_html</code>) will return a string encoded like the source document.</p> <p>WARNING</p> <p>Some documents declare one encoding, but actually use a different one. In these cases, which encoding should the parser choose?</p> <p>Data is just a stream of bytes. Humans add meaning to that stream. Any particular set of bytes could be valid characters in multiple encodings, so detecting encoding with 100% accuracy is not possible. <code>libxml2</code> does its best, but it can't be right all the time.</p> <p>If you want Nokogiri to handle the document encoding properly, your best bet is to explicitly set the encoding.  Here is an example of explicitly setting the encoding to EUC-JP on the parser:</p> <pre><code>  doc = Nokogiri.XML('&lt;foo&gt;&lt;bar /&gt;&lt;/foo&gt;', nil, 'EUC-JP')\n</code></pre>","path":["Nokogiri"],"tags":[]},{"location":"index.html#technical-overview","level":2,"title":"Technical Overview","text":"","path":["Nokogiri"],"tags":[]},{"location":"index.html#guiding-principles_1","level":3,"title":"Guiding Principles","text":"<p>As noted above, two guiding principles of the software are:</p> <ul> <li>be secure-by-default by treating all documents as untrusted by default</li> <li>be a thin-as-reasonable layer on top of the underlying parsers, and don't attempt to fix behavioral differences between the parsers</li> </ul> <p>Notably, despite all parsers being standards-compliant, there are behavioral inconsistencies between the parsers used in the CRuby and JRuby implementations, and Nokogiri does not and should not attempt to remove these inconsistencies. Instead, we surface these differences in the test suite when they are important/semantic; or we intentionally write tests to depend only on the important/semantic bits (omitting whitespace from regex matchers on results, for example).</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#cruby","level":3,"title":"CRuby","text":"<p>The Ruby (a.k.a., CRuby, MRI, YARV) implementation is a C extension that depends on libxml2 and libxslt (which in turn depend on zlib and possibly libiconv).</p> <p>These dependencies are met by default by Nokogiri's packaged versions of the libxml2 and libxslt source code, but a configuration option <code>--use-system-libraries</code> is provided to allow specification of alternative library locations. See Installing Nokogiri for full documentation.</p> <p>We provide native gems by pre-compiling libxml2 and libxslt (and potentially zlib and libiconv) and packaging them into the gem file. In this case, no compilation is necessary at installation time, which leads to faster and more reliable installation.</p> <p>See <code>LICENSE-DEPENDENCIES.md</code> for more information on which dependencies are provided in which native and source gems.</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#jruby","level":3,"title":"JRuby","text":"<p>The Java (a.k.a. JRuby) implementation is a Java extension that depends primarily on Xerces and NekoHTML for parsing, though additional dependencies are on <code>isorelax</code>, <code>nekodtd</code>, <code>jing</code>, <code>serializer</code>, <code>xalan-j</code>, and <code>xml-apis</code>.</p> <p>These dependencies are provided by pre-compiled jar files packaged in the <code>java</code> platform gem.</p> <p>See <code>LICENSE-DEPENDENCIES.md</code> for more information on which dependencies are provided in which native and source gems.</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#contributing","level":2,"title":"Contributing","text":"<p>See <code>CONTRIBUTING.md</code> for an intro guide to developing Nokogiri.</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#code-of-conduct","level":2,"title":"Code of Conduct","text":"<p>We've adopted the Contributor Covenant code of conduct, which you can read in full in <code>CODE_OF_CONDUCT.md</code>.</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#license","level":2,"title":"License","text":"<p>This project is licensed under the terms of the MIT license.</p> <p>See this license at <code>LICENSE.md</code>.</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#dependencies","level":3,"title":"Dependencies","text":"<p>Some additional libraries may be distributed with your version of Nokogiri. Please see <code>LICENSE-DEPENDENCIES.md</code> for a discussion of the variations as well as the licenses thereof.</p>","path":["Nokogiri"],"tags":[]},{"location":"index.html#authors","level":2,"title":"Authors","text":"<ul> <li>Mike Dalessio</li> <li>Aaron Patterson</li> <li>Yoko Harada</li> <li>Akinori MUSHA</li> <li>John Shahid</li> <li>Karol Bucek</li> <li>Sam Ruby</li> <li>Craig Barnes</li> <li>Stephen Checkoway</li> <li>Lars Kanis</li> <li>Sergio Arbeo</li> <li>Timothy Elliott</li> <li>Nobuyoshi Nakada</li> </ul>","path":["Nokogiri"],"tags":[]},{"location":"CHANGELOG.html","level":1,"title":"Nokogiri Changelog","text":"<p>Nokogiri follows Semantic Versioning, please see the README.md for details.</p>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1190-2025-12-28","level":2,"title":"v1.19.0 / 2025-12-28","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#ruby","level":4,"title":"Ruby","text":"<p>This release is focused on changes to Ruby version support, and is otherwise functionally identical to v1.18.10.</p> <ul> <li>Introduce native gem support for Ruby 4.0. #3590</li> <li>End support for Ruby 3.1, for which upstream support ended 2025-03-26.</li> <li>End support for JRuby 9.4 (which targets Ruby 3.1 compatibility).</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v11810-2025-09-15","level":2,"title":"v1.18.10 / 2025-09-15","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#dependencies","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.13.9. Note that the security fixes published in v2.13.9 were already present in Nokogiri v1.18.9.</li> <li>[CRuby] [Windows and MacOS] Vendored libiconv is updated to v1.18</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1189-2025-07-20","level":2,"title":"v1.18.9 / 2025-07-20","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#security","level":3,"title":"Security","text":"<ul> <li>[CRuby] Applied upstream libxml2 patches to address CVE-2025-6021, CVE-2025-6170, CVE-2025-49794, CVE-2025-49795, and CVE-2025-49796. See GHSA-353f-x4gh-cqq8 for more information.</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1188-2025-04-21","level":2,"title":"v1.18.8 / 2025-04-21","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#security_1","level":3,"title":"Security","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.13.8 to address CVE-2025-32414 and CVE-2025-32415. See GHSA-5w6v-399v-w3cc for more information.</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1187-2025-03-31","level":2,"title":"v1.18.7 / 2025-03-31","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#dependencies_1","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.13.7, which is a bugfix release.</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1186-2025-03-24","level":2,"title":"v1.18.6 / 2025-03-24","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#fixed","level":3,"title":"Fixed","text":"<ul> <li>[JRuby] In HTML documents, <code>Node#attribute</code> now returns the correct attribute. This has been broken, and returnin <code>nil</code>, since v1.17.0. (#3487) @flavorjones</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1185-2025-03-19","level":2,"title":"v1.18.5 / 2025-03-19","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#fixed_1","level":3,"title":"Fixed","text":"<ul> <li>[JRuby] Update JRuby's XML serialization so it outputs namespaces exactly like CRuby. (#3455, #3456) @johnnyshields</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1184-2025-03-14","level":2,"title":"v1.18.4 / 2025-03-14","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#security_2","level":3,"title":"Security","text":"<ul> <li>[CRuby] Vendored libxslt is updated to v1.1.43 to address CVE-2025-24855 and CVE-2024-55549. See GHSA-mrxw-mxhj-p664 for more information.</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1183-2025-02-18","level":2,"title":"v1.18.3 / 2025-02-18","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#security_3","level":3,"title":"Security","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.13.6 to address CVE-2025-24928 and CVE-2024-56171. See GHSA-vvfq-8hwr-qm4m for more information.</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1182-2024-01-19","level":2,"title":"v1.18.2 / 2024-01-19","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#fixed_2","level":3,"title":"Fixed","text":"<ul> <li>When performing a CSS selector query, an XML document's root namespace declarations should not be applied to wildcard selectors (<code>\"*\"</code>). Fixes a bug introduced in v1.17.0. (#3411) @flavorjones</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1181-2024-12-29","level":2,"title":"v1.18.1 / 2024-12-29","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#fixed_3","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] XML::SAX::ParserContext keeps a reference to the input to avoid a potential use-after-free issue that's existed since v1.4.0 (2009). (#3395) @flavorjones</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1180-2024-12-25","level":2,"title":"v1.18.0 / 2024-12-25","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#notable-changes","level":3,"title":"Notable Changes","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#ruby_1","level":4,"title":"Ruby","text":"<p>This release introduces native gem support for Ruby 3.4.</p> <p>This release ends support for Ruby 3.0, for which upstream support ended 2024-04-23.</p> <p>This release ships separate precompiled GNU and Musl gems for all linux platforms. Previously both GNU and Musl target systems could use and install the same gem, e.g., the platform gem for <code>x86_64-linux</code>. Now, however, the precompiled gem platforms would be <code>x86_64-linux-gnu</code> and <code>x86_64-linux-musl</code>. So long as you're on <code>bundler &gt;= 2.5.6</code> this should be seamless other than perhaps needing to update the platforms in your \"Gemfile.lock\".</p> <p>This release drops precompiled native platform gems for <code>x86-linux</code> and <code>x86-mingw32</code>. These platforms are still supported. Users on these platforms must install the \"ruby platform\" gem which requires a compiler toolchain. See Installing the <code>ruby</code> platform gem in the installation docs. (#3369, #3081)</p>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#improved","level":3,"title":"Improved","text":"<ul> <li>[CRuby] CSS and XPath queries are faster now that <code>Node#xpath</code>, <code>Node#css</code>, and related functions are using a faster XPathContext initialization process. We benchmarked a 1.9x improvement for a 6kb file. Big thanks to @nwellnhof for helping with this one. (#3378, superseded by #3389) @flavorjones</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1172-2024-12-12","level":2,"title":"v1.17.2 / 2024-12-12","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#fixed_4","level":3,"title":"Fixed","text":"<ul> <li>[JRuby] Fixed an issue where <code>Node#dup</code> when called with the <code>new_parent_doc</code> parameter was not decorating the node with the document's <code>Node</code> decorators. [#3372] @flavorjones</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1171-2024-12-10","level":2,"title":"v1.17.1 / 2024-12-10","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#fixed_5","level":3,"title":"Fixed","text":"<ul> <li>Fixed a potential segfault when using <code>Node#dup</code> and <code>DocumentFragment#dup</code>. [#3359] @byroot @flavorjones</li> <li><code>Node#dup</code> and <code>Node#clone</code> now correctly decorate the new node with the document's <code>Node</code> decorators. [#3363] @flavorjones</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1170-2024-12-08","level":2,"title":"v1.17.0 / 2024-12-08","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#dependencies_2","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.13.5. @flavorjones</li> <li>[CRuby] Vendored libxslt is updated to v1.1.42. @flavorjones</li> <li>[CRuby] Minimum supported version of libxml2 raised to v2.9.2 (released 2014-10-16) from v2.6.21. [#3232, #3287] @flavorjones</li> <li>[JRuby] Minimum supported version of Java raised to 8 (released 2014-03-18) from 7. [#3134] @flavorjones</li> <li>[CRuby] Update to rake-compiler-dock v1.5.1 for building precompiled native gems. [#3216] @flavorjones</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#notable-changes_1","level":3,"title":"Notable changes","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#sax-parsers","level":4,"title":"SAX Parsers","text":"<p>The XML and HTML4 SAX parsers have received a lot of attention in this release, and we've fixed multiple long-standing bugs with encoding and entity handling. In addition, libxml2 v2.13 has also made some underlying fixes and improvements to encoding and entity handling.</p> <p>We're shipping these fixes in a minor release because we firmly believe the resulting behavior is correct and standards-compliant, however applications that have been depending on the buggy behavior may be impacted.</p> <p>If your application relies on the SAX parsers, and in particular if you're SAX-parsing documents with parsed entities or incorrect encoding declarations, please read the changelog below carefully.</p>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#fragment-parsing","level":4,"title":"Fragment parsing","text":"<p>Document fragment parsing has been improved, particularly with respect to handling malformed fragments or fragments with implicit namespace prefixes. Namespace reconciliation still isn't where we want it to be, but it's an improvement.</p> <p>HTML5 fragment parsing now allows the context node to be specified as a <code>context:</code> keyword argument to the <code>HTML5::DocumentFragment.parse</code> and <code>.new</code> methods, which should allow for more flexible sanitization and future support for the draft HTML Sanitizer API in downstream libraries.</p>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#error-handling","level":4,"title":"Error handling","text":"<p>In scenarios where multiple errors could be reported by the underlying parser, the errors will be aggregated into a single <code>Nokogiri::XML::SyntaxError</code> that is raised. Previously only the final error reported by libxml2 was raised (which was often misleading if it was only a warning and not the fatal error).</p>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#schema-validation","level":4,"title":"Schema validation","text":"<p>We've resolved many long-standing bugs in the various schema classes, validation methods, and their error reporting. Behavior is now consistent across schema types and input types, as well as parser backends (Xerces and libxml2).</p>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#keyword-arguments","level":4,"title":"Keyword arguments","text":"<p>The following methods now accept keyword arguments in addition to positional arguments, and use <code>...</code> parameter forwarding when possible: <code>HTML4()</code>, <code>HTML4.fragment</code>, <code>HTML4.parse</code>, <code>HTML4::Document.parse</code>, <code>HTML4::DocumentFragment#initialize</code>, <code>HTML4::DocumentFragment.parse</code>, <code>HTML5()</code>, <code>HTML5.fragment</code>, <code>HTML5.parse</code>, <code>HTML5::Document.parse</code>, <code>HTML5::Document.read_io</code>, <code>HTML5::Document.read_memory</code>, <code>HTML5::DocumentFragment#initialize</code>, <code>HTML5::DocumentFragment.parse</code>, <code>XML()</code>, <code>XML.fragment</code>, <code>XML.parse</code>, <code>XML::Document.parse</code>, <code>XML::DocumentFragment#initialize</code>, <code>XML::DocumentFragment.parse</code>, <code>XML::Node#canonicalize</code>, <code>XML::Node.parse</code>, <code>XML::Reader()</code>, <code>XML::RelaxNG()</code>, <code>XML::RelaxNG.new</code>, <code>XML::RelaxNG.read_memory</code>, <code>XML::SAX::PushParser#initialize</code>, <code>XML::Schema()</code>, <code>XML::Schema.new</code>, <code>XML::Schema.read_memory</code>, and <code>XSLT()</code>.</p> <p>Special thanks to those contributors who participated in the RubyConf 2024 Hack Day to work on #3323 to help modernize Nokogiri by adding keyword arguments and using parameter forwarding in many methods, and expanding some of the documentation! We intend to continue adding keyword argument support to more methods. #3323 #3324 #3326 #3327 #3329 #3330 #3332 #3333 #3334 #3335 #3336 #3342 #3355 #3356 @infews @matiasow @MattJones @mononoken @openbl @flavorjones</p>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#added","level":3,"title":"Added","text":"<ul> <li>Introduce support for a new SAX callback <code>XML::SAX::Document#reference</code>, which is called to report some parsed XML entities when <code>XML::SAX::ParserContext#replace_entities</code> is set to the default value <code>false</code>. This is necessary functionality for some applications that were previously relying on incorrect entity error reporting which has been fixed (see below). For more information, read the docs for <code>Nokogiri::XML::SAX::Document</code>. [#1926] @flavorjones</li> <li><code>XML::SAX::Parser#parse_memory</code> and <code>#parse_file</code> now accept an optional <code>encoding</code> argument. When not provided, the parser will fall back to the encoding passed to the initializer, and then fall back to autodetection. [#3288] @flavorjones</li> <li><code>XML::SAX::ParserContext.memory</code> now accepts an optional <code>encoding</code> argument. When not provided, the encoding will be autodetected. [#3288] @flavorjones</li> <li>New readonly attributes <code>XML::DocumentFragment#parse_options</code> and <code>HTML4::DocumentFragment#parse_options</code> return the options used to parse the document fragment. @flavorjones</li> <li>New method <code>XML::Reader.new</code> is the primary constructor to which <code>XML::Reader()</code> forwards. Both methods now take <code>url:</code>, <code>encoding:</code>, and <code>options:</code> kwargs in addition to  the previous calling convention of passing positional parameters. #3326 @infews @flavorjones</li> <li>[CRuby] The HTML5 parse methods accept a <code>:parse_noscript_content_as_text</code> keyword argument which will emulate the parsing behavior of a browser which has scripting enabled. [#3178, #3231] @stevecheckoway</li> <li>[CRuby] <code>HTML5::DocumentFragment.parse</code> and <code>.new</code> accept a <code>:context</code> keyword argument that is the parse context node or element name. Previously this could only be passed in as a positional argument to <code>.new</code> and not at all to <code>.parse</code>. @flavorjones</li> <li>[CRuby] <code>Nokogiri::HTML5::Builder</code> is similar to <code>HTML4::Builder</code> but returns an <code>HTML5::Document</code>. [#3119] @flavorjones</li> <li>[CRuby] Attributes in an HTML5 document can be serialized individually, something that has always been supported by the HTML4 serializer. [#3125, #3127] @flavorjones</li> <li>[CRuby] Introduce a compile-time option, <code>--disable-xml2-legacy</code>, to remove from libxml2 its dependencies on <code>zlib</code> and <code>liblzma</code> and disable implicit <code>HTTP</code> network requests. These all remain enabled by default, and are present in the precompiled native gems. This option is a precursor for removing these libraries in a future major release, but may be interesting for the security-minded who do not need features like automatic decompression and would like to remove these dependencies. You can read more and give feedback on these plans in #3168. [#3247] @flavorjones</li> <li>[CRuby] If errors are returned from schema validation, a new attribute <code>SyntaxError#path</code> will contain the XPath path of the node that caused the validation failure. [#3316] @ryanong</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#improved_1","level":3,"title":"Improved","text":"<ul> <li>Documentation has been improved for <code>XML::RelaxNG</code>, <code>XML::Schema</code>, <code>XML::Reader</code>, <code>HTML5</code>, <code>HTML5::Document</code>, <code>HTML5::DocumentFragment</code>, <code>HTML4::Document</code>, <code>HTML4::DocumentFragment</code>, <code>XML</code>, <code>XML::Document</code>, <code>XML::DocumentFragment</code>. #3355 @flavorjones</li> <li>Documentation has been improved for <code>CSS.xpath_for</code>. [#3224] @flavorjones</li> <li>Documentation for the SAX parsing classes has been greatly improved, including encoding overrides and the complex entity-handling behavior. [#3265] @flavorjones</li> <li><code>XML::Schema#read_memory</code> and <code>XML::RelaxNG#read_memory</code> are now Ruby methods that call <code>#from_document</code>. Previously these were native functions, but they were buggy on both CRuby and JRuby (but worse on JRuby) and so this is now useful, comparable in performance, and simpler code that is easier to maintain. [#2113, #2115] @flavorjones</li> <li><code>XML::SAX::ParserContext.io</code>'s <code>encoding</code> argument is now optional, and can now be an <code>Encoding</code> or an encoding name. When not provided will default to autodetecting the encoding. [#3288] @flavorjones</li> <li>[CRuby] The update to libxml v2.13 improves \"in context\" fragment parsing recovery. We removed our hacky workaround for recovery that led to silently-degraded functionality when parsing fragments with parse errors. Specifically, malformed XML fragments that used implicit namespace prefixes will now \"link up\" to the namespaces in the parent document or node, where previously they did not. [#2092] @flavorjones</li> <li>[CRuby] When multiple errors could be detected by the parser and there's no obvious document to save them in (for example, when parsing a document with the recovery parse option turned off), the libxml2 errors are aggregated into a single <code>Nokogiri::XML::SyntaxError</code>. Previously, only the last error recorded by libxml2 was raised, which might be misleading if it's merely a warning and not the fatal error preventing the operation. [#2562] @flavorjones</li> <li>[CRuby] The SAX parser context and handler implementation has been simplified and now takes advantage of some of libxml2's default SAX handlers for entities and DTD management. [#3265] @flavorjones</li> <li>[CRuby] When compiling packaged libraries from source, allow users' <code>AR</code> and <code>LD</code> environment variables to set the archiver and linker commands, respectively. This augments the existing <code>CC</code> environment variable to set the compiler command. [#3165] @ziggythehamster</li> <li>[CRuby] When building from source on MacOS, environment variables <code>AR</code> and <code>RANLIB</code> are now respected when set instead of being overridden to /usr/bin/{ar,ranlib} (which is still the default). [#3338] @joshheinrichs-shopify</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#fixed_6","level":3,"title":"Fixed","text":"<ul> <li><code>Node#clone</code>, <code>NodeSet#clone</code>, and <code>*::Document#clone</code> all properly copy the metaclass of the original as expected. Previously, <code>#clone</code> had been aliased to <code>#dup</code> for these classes (since v1.3.0 in 2009). [#316, #3117] @flavorjones</li> <li>CSS queries for pseudo-selectors that cannot be translated into XPath expressions now raise a more descriptive <code>Nokogiri::CSS::SyntaxError</code> when they are parsed. Previously, an invalid XPath expression was evaluated and a hard-to-understand XPath error was raised by the query engine. [#3193] @flavorjones</li> <li><code>Schema#validate</code> returns errors on empty and malformed files. Previously, it would return errors on empty/malformed Documents, but not when reading from files. [#642] @flavorjones</li> <li><code>XML::Builder</code> is now consistent with how it sets block scope. Previously, missing methods with blocks on dynamically-created nodes were always handled by invoking <code>instance_eval(&amp;block)</code> on the Builder, even when the Builder was yielding self for all other missing methods with blocks. [#1041] @flavorjones</li> <li><code>HTML4::DocumentFragment.parse</code> accepts <code>IO</code> input. Previously, it required a string and would raise a <code>TypeError</code> when passed an <code>IO</code>. [#2069] @sharvy</li> <li>[CRuby] libgumbo (the HTML5 parser) treats reaching max-depth as EOF. This addresses a class of issues when the parser is interrupted in this way. [#3121] @stevecheckoway</li> <li>[CRuby] Update node GC lifecycle to avoid a potential memory leak with fragments in libxml 2.13.0 caused by changes in <code>xmlAddChild</code>. [#3156] @flavorjones</li> <li>[CRuby] libgumbo correctly prints nonstandard element names in error messages. [#3219] @stevecheckoway</li> <li>[CRuby] External entity references no long cause the SAX parser to register errors. [#1926] @flavorjones</li> <li>[JRuby] Fixed entity reference serialization, which rendered both the reference and the replacement text. Incredibly nobody noticed this bug for over a decade. [#3272] @flavorjones</li> <li>[JRuby] Fixed some bugs in how <code>Node#attributes</code> handles attributes with namespaces. [#2677, #2679] @flavorjones</li> <li>[JRuby] Fix <code>Schema#validate</code> to only return the most recent Document's errors. Previously, if multiple documents were validated, this method returned the accumulated errors of all previous documents. [#1282] @flavorjones</li> <li>[JRuby] Fix <code>Schema#validate</code> to not clobber the <code>[@errors](https://github.com/errors)</code> instance variable. [#1282] @flavorjones</li> <li>[JRuby] Empty documents fail schema validation as they should. [#783] @flavorjones</li> <li>[JRuby] SAX parsing now respects the <code>#replace_entities</code> attribute, which defaults to <code>false</code>. Previously this flag defaulted to <code>true</code> and was completely ignored. [#614] @flavorjones</li> <li>[JRuby] The SAX callback <code>Document#start_element_namespace</code> received a blank string for the URI when a namespace was not present. It now receives <code>nil</code> (as does the CRuby impl). [#3265] @flavorjones</li> <li>[JRuby] <code>Reader#outer_xml</code> and <code>#inner_xml</code> encode entities properly. [#1523] @flavorjones</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#changed","level":3,"title":"Changed","text":"<ul> <li>[CRuby] <code>Nokogiri::XML::CData.new</code> no longer accepts <code>nil</code> as the content argument, making <code>CData</code> behave like other character data classes (like <code>Comment</code> and <code>Text</code>). This change was necessitated by behavioral changes in libxml2 v2.13.0. If you wish to create an empty CDATA node, pass an empty string. [#3156] @flavorjones</li> <li>Internals:<ul> <li>The internal <code>CSS::XPathVisitor</code> class now accepts the xpath prefix and the context namespaces as constructor arguments. The <code>prefix:</code> and <code>ns:</code> keyword arguments to <code>CSS.xpath_for</code> cannot be specified if the <code>visitor:</code> keyword argument is also used. <code>CSS::XPathVisitor</code> now exposes <code>#builtins</code>, <code>#doctype</code>, <code>#prefix</code>, and <code>#namespaces</code> attributes. [#3225] @flavorjones</li> <li>The internal CSS selector cache has been extracted into a distinct class, <code>CSS::SelectorCache</code>. Previously it was part of the <code>CSS::Parser</code> class. [#3226] @flavorjones</li> <li>The internal <code>Gumbo.parse</code> and <code>Gumbo.fragment</code> methods now take keyword arguments instead of positional arguments. [#3199] @flavorjones</li> </ul> </li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#deprecated","level":3,"title":"Deprecated","text":"<ul> <li>The undocumented and unused method <code>Nokogiri::CSS.parse</code> is now deprecated and will generate a warning. The AST returned by this method is private and subject to change and removal in future versions of Nokogiri. This method will be removed in a future version of Nokogiri.</li> <li>Passing an options hash to <code>CSS.xpath_for</code> is now deprecated and will generate a warning. Use keyword arguments instead. This will become an error in a future version of Nokogiri.</li> <li>Passing libxml2 encoding IDs to <code>SAX::ParserContext</code> methods is now deprecated and will generate a warning. The use of <code>SAX::Parser::ENCODINGS</code> is also deprecated. Use <code>Encoding</code> objects or encoding names instead.</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#thank-you","level":3,"title":"Thank you!","text":"<p>The following people and organizations were kind enough to sponsor @flavorjones or the Nokogiri project during the development of v1.17.0:</p> <ul> <li>via Github sponsors<ul> <li>renuo @renuo</li> <li>Ajaya Agrawalla @ajaya</li> <li>Rob Stringer @Mycobee</li> <li>Better Stack Community @betterstack-community</li> <li>Prowly @prowlycom</li> <li>Maxime Gauthier @biximilien</li> <li>Harry Lascelles @hlascelles</li> <li>Evil Martians @evilmartians</li> <li>Typesense @typesense</li> <li>YOSHIDA Katsuhiko @kyoshidajp</li> <li>Quan Nguyen @qu8n</li> <li>Sentry @getsentry</li> <li>Codecov @codecov</li> <li>Frank Groeneveld @frenkel</li> <li>Hiroshi SHIBATA @hsbt</li> <li>Nando Vieira @fnando</li> <li>Orien Madgwick @orien</li> <li>Avo @avo-hq</li> <li>Zoran Pesic @zokioki</li> <li>@zzak</li> <li>Graham Watts @GingerGraham</li> <li>Nandang Permana Kusuma @nandangpk</li> <li>Mr. Henry @mrhenry</li> <li>G\u00f6tz G\u00f6risch @GoetzGoerisch</li> <li>Andrew Nesbitt @andrew</li> </ul> </li> <li>via Thanks.dev<ul> <li>Sentry @getsentry</li> <li>Codecov @codecov</li> <li>Keygen @keygen-sh</li> <li>Keith Bauson @kwbauson</li> <li>Nicco Kunzmann @niccokunzmann</li> <li>timhaynes @timhaynes</li> </ul> </li> <li>via Open Collective<ul> <li>Airbnb @airbnb</li> <li>Nemo @captn3m0</li> <li>Velocity Labs @velocity-labs</li> </ul> </li> </ul> <p>We'd also like to thank @github who donate a ton of compute time for our CI pipelines!</p>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1168-2024-12-02","level":2,"title":"v1.16.8 / 2024-12-02","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#fixed_7","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] When serializing HTML5 documents, properly escape foreign content \"style\" elements. Normally, a \"style\" tag contains  raw text that does not need entity-escaping, but when it appears in either SVG or MathML foreign content, the \"style\" tag is now correctly escaped when serialized. @flavorjones</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1167-2024-07-27","level":2,"title":"v1.16.7 / 2024-07-27","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#dependencies_3","level":2,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.12.9, which the upstream release notes state is a security release to address CVE-2024-40896. Nokogiri's maintainers believe this vulnerability does not affect users of Nokogiri, but we advise upgrading at your earliest convenience anyway.</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1166-2024-06-13","level":2,"title":"v1.16.6 / 2024-06-13","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#dependencies_4","level":2,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.12.8, which the release notes state is a bugfix release.</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1165","level":2,"title":"v1.16.5","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#security_4","level":3,"title":"Security","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to address CVE-2024-34459. See GHSA-r95h-9x8f-r3f7 for more information.</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#dependencies_5","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.12.7 from v2.12.6. (@flavorjones)</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1164-2024-04-10","level":2,"title":"v1.16.4 / 2024-04-10","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#dependencies_6","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored zlib in the precompiled native gems is updated to v1.3.1 from v1.3. Nokogiri is not affected by the minizip CVE patched in this version, but this update may satisfy some security scanners. Related, see this discussion about removing the compression libraries altogether in a future version of Nokogiri.</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1163-2024-03-15","level":2,"title":"v1.16.3 / 2024-03-15","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#dependencies_7","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.12.6 from v2.12.5. (@flavorjones)</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#changed_1","level":3,"title":"Changed","text":"<ul> <li>[CRuby] <code>XML::Reader</code> sets the <code>[@encoding](https://github.com/encoding)</code> instance variable during reading if it is not passed into the initializer. Previously, it would remain <code>nil</code>. The behavior of <code>Reader#encoding</code> has not changed. This works around changes to how libxml2 reports the encoding used in v2.12.6.</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1162-2024-02-04","level":2,"title":"v1.16.2 / 2024-02-04","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#security_5","level":3,"title":"Security","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to address CVE-2024-25062. See GHSA-xc9x-jj77-9p9j for more information.</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#dependencies_8","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.12.5 from v2.12.4. (@flavorjones)</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1161-2024-02-03","level":2,"title":"v1.16.1 / 2024-02-03","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#dependencies_9","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.12.4 from v2.12.3. (@flavorjones)</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#fixed_8","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] <code>XML::Reader</code> defaults the encoding to UTF-8 if it's not specified in either the document or as a method parameter. Previously non-ASCII characters were serialized as NCRs in this case. [#2891] (@flavorjones)</li> <li>[CRuby] Restored support for compilation by GCC versions earlier than 4.6, which was broken in v1.15.0 (540e9aee). [#3090] (@adfoster-r7)</li> <li>[CRuby] Patched upstream libxml2 to allow parsing HTML5 in the context of a namespaced node (e.g., foreign content like MathML). [#3112, #3116] (@flavorjones)</li> <li>[CRuby] Fixed a small memory leak in libgumbo (HTML5 parser) when the maximum tree depth limit is hit. [#3098, #3100] (@stevecheckoway)</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#v1160-2023-12-27","level":2,"title":"v1.16.0 / 2023-12-27","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#notable-changes_2","level":3,"title":"Notable Changes","text":"","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#ruby_2","level":4,"title":"Ruby","text":"<p>This release introduces native gem support for Ruby 3.3.</p> <p>This release ends support for Ruby 2.7, for which upstream support ended 2023-03-31.</p>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#pattern-matching","level":4,"title":"Pattern matching","text":"<p>This version marks official support for the pattern matching API in <code>XML::Attr</code>, <code>XML::Document</code>, <code>XML::DocumentFragment</code>, <code>XML::Namespace</code>, <code>XML::Node</code>, and <code>XML::NodeSet</code> (and their subclasses), originally introduced as an experimental feature in v1.14.0. (@flavorjones)</p> <p>Documentation on what can be matched:</p> <ul> <li><code>XML::Attr#deconstruct_keys</code></li> <li><code>XML::Document#deconstruct_keys</code></li> <li><code>XML::Namespace#deconstruct_keys</code></li> <li><code>XML::Node#deconstruct_keys</code></li> <li><code>XML::DocumentFragment#deconstruct</code></li> <li><code>XML::NodeSet#deconstruct</code></li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#dependencies_10","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.12.3 from v2.11.6. (@flavorjones)<ul> <li>https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.12.0</li> <li>https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.12.1</li> <li>https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.12.2</li> <li>https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.12.3</li> </ul> </li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#fixed_9","level":3,"title":"Fixed","text":"<ul> <li>CSS <code>nth</code> pseudo-classes now handle spaces, e.g. <code>\"2n + 1\"</code>. [#3018] (@fusion2004)</li> <li>[CRuby] <code>libgumbo</code> no longer leaks memory when an incomplete tag is abandoned by the HTML5 parser. [#3036] (@flavorjones)</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#removed","level":3,"title":"Removed","text":"<ul> <li>Removed <code>Nokogiri::HTML5.get</code> which was deprecated in v1.12.0. [#2278] (@flavorjones)</li> <li>Removed the CSS-to-XPath utility modules <code>XPathVisitorAlwaysUseBuiltins</code> and <code>XPathVisitorOptimallyUseBuiltins</code>, which were deprecated in v1.13.0 in favor of <code>XPathVisitor</code> constructor args. [#2403] (@flavorjones)</li> <li>Removed <code>XML::Reader#attribute_nodes</code> which was deprecated in v1.13.8 in favor of <code>#attribute_hash</code>. [#2598, #2599] (@flavorjones)</li> <li>[CRuby] Removed the <code>libxml/libxml2_path</code> key from <code>VersionInfo</code>, used in the past for third-party library integration, in favor of the <code>nokogiri/cppflags</code> and <code>nokogiri/ldflags</code> keys. Please note that third-party library integration is not fully supported and may be deprecated soon, see #2746 for more context. [#2143] (@flavorjones)</li> </ul>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#thank-you_1","level":3,"title":"Thank you!","text":"<p>The following people and organizations were kind enough to sponsor @flavorjones or the Nokogiri project during the development of v1.16.0:</p> <ul> <li>G\u00f6tz G\u00f6risch @GoetzGoerisch</li> <li>Airbnb @airbnb</li> <li>Maxime Gauthier @biximilien</li> <li>Renuo AG @renuo</li> <li>YOSHIDA Katsuhiko @kyoshidajp</li> <li>Homebrew @Homebrew</li> <li>Hiroshi SHIBATA @hsbt</li> <li>@zzak</li> <li>Evil Martians @evilmartians</li> <li>Ajaya Agrawalla @ajaya</li> <li>Modern Treasury @Modern-Treasury</li> <li>Danilo Lessa Bernardineli @danlessa</li> <li>matt marques @mestre-dos-magos</li> <li>Quan Nguyen @qu8n</li> <li>Harry Lascelles @hlascelles</li> <li>Oleksandr Tyshchenko @altivi</li> <li>Prowly @prowlycom</li> <li>Better Stack Community @betterstack-community</li> <li>Sentry @getsentry</li> <li>Codecov @codecov</li> <li>Typesense @typesense</li> <li>Roy Boivin II @Yabbo</li> <li>Frank Groeneveld @frenkel</li> </ul> <p>We'd also like to thank @github who donate a ton of compute time for our CI pipelines!</p>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CHANGELOG.html#older-releases","level":2,"title":"Older releases","text":"<p>See misc/CHANGELOG-archive.md</p>","path":["Changelog","Nokogiri Changelog"],"tags":[]},{"location":"CODE_OF_CONDUCT.html","level":1,"title":"Contributor Covenant Code of Conduct","text":"","path":["About","Contributor Covenant Code of Conduct"],"tags":[]},{"location":"CODE_OF_CONDUCT.html#our-pledge","level":2,"title":"Our Pledge","text":"<p>In the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, religion, or sexual identity and orientation.</p>","path":["About","Contributor Covenant Code of Conduct"],"tags":[]},{"location":"CODE_OF_CONDUCT.html#our-standards","level":2,"title":"Our Standards","text":"<p>Examples of behavior that contributes to creating a positive environment include:</p> <ul> <li>Using welcoming and inclusive language</li> <li>Being respectful of differing viewpoints and experiences</li> <li>Gracefully accepting constructive criticism</li> <li>Focusing on what is best for the community</li> <li>Showing empathy towards other community members</li> </ul> <p>Examples of unacceptable behavior by participants include:</p> <ul> <li>The use of sexualized language or imagery and unwelcome sexual attention or  advances</li> <li>Trolling, insulting/derogatory comments, and personal or political attacks</li> <li>Public or private harassment</li> <li>Publishing others' private information, such as a physical or electronic  address, without explicit permission</li> <li>Other conduct which could reasonably be considered inappropriate in a  professional setting</li> </ul>","path":["About","Contributor Covenant Code of Conduct"],"tags":[]},{"location":"CODE_OF_CONDUCT.html#our-responsibilities","level":2,"title":"Our Responsibilities","text":"<p>Project maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior.</p> <p>Project maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.</p>","path":["About","Contributor Covenant Code of Conduct"],"tags":[]},{"location":"CODE_OF_CONDUCT.html#scope","level":2,"title":"Scope","text":"<p>This Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.</p>","path":["About","Contributor Covenant Code of Conduct"],"tags":[]},{"location":"CODE_OF_CONDUCT.html#enforcement","level":2,"title":"Enforcement","text":"<p>Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at mike.dalessio@gmail.com. All complaints will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately.</p> <p>Project maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.</p>","path":["About","Contributor Covenant Code of Conduct"],"tags":[]},{"location":"CODE_OF_CONDUCT.html#attribution","level":2,"title":"Attribution","text":"<p>This Code of Conduct is adapted from the Contributor Covenant, version 1.4, available at https://www.contributor-covenant.org/version/1/4/code-of-conduct.html</p> <p>For answers to common questions about this code of conduct, see https://www.contributor-covenant.org/faq</p>","path":["About","Contributor Covenant Code of Conduct"],"tags":[]},{"location":"CONTRIBUTING.html","level":1,"title":"Contributing to Nokogiri","text":"<p>This doc is intended to be a short introduction on how to modify and maintain Nokogiri.</p> <p>If you're looking for guidance on filing a bug report or getting support, please visit the \"Getting Help\" tutorial at the nokogiri.org site.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#contents","level":2,"title":"Contents","text":"<ul> <li>Introduction</li> <li>Code of Conduct</li> <li>Some guiding principles of the project</li> <li>Where to start getting involved</li> <li>Submitting Pull Requests</li> <li>Branch Management and Release Management</li> <li>How to set up your local development environment</li> <li>How to run the tests</li> <li>Style Guide</li> <li>How Continuous Integration (\"CI\") is configured</li> <li>How OSS-Fuzz is configured</li> <li>Packaging releases</li> <li>Other utilities</li> <li>Bumping Java dependencies</li> <li>Rake tasks</li> <li>Making a release</li> </ul>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#introduction","level":2,"title":"Introduction","text":"<p>Hello there! I'm super excited that you're interested in contributing to Nokogiri. Welcome!</p> <p>This document is intended only to provide a brief introduction on how to contribute to Nokogiri. It's not a complete specification of everything you need to know, so if you want to know more, I encourage you to reach out to the maintainers via email, twitter, or a new Github issue. We'd love to get to know you a bit better!</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#code-of-conduct","level":2,"title":"Code of Conduct","text":"<p>Our full Code of Conduct is in <code>CODE_OF_CONDUCT.md</code>.</p> <p>For best results, be kind. Remember that Nokogiri maintainers are volunteers, and treat them with respect. Do not act entitled to service. Do not be rude. Do not use judgmental or foul language.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#some-guiding-principles-of-the-project","level":2,"title":"Some guiding principles of the project","text":"<p>The top guiding principles, as noted in the README are:</p> <ul> <li>be secure-by-default by treating all documents as untrusted by default</li> <li>be a thin-as-reasonable layer on top of the underlying parsers, and don't attempt to fix behavioral differences between the parsers</li> </ul> <p>Nokogiri supports both CRuby and JRuby, and has native code specific to each (though much Ruby code is shared between them). Some related secondary principles are:</p> <ul> <li>Whenever possible, implement the same functionality for both CRuby and JRuby.</li> <li>Whenever possible, implement shared behavior as shared Ruby code (i.e., write as little native code as reasonable).</li> <li>Whenever possible, avoid writing tests that are platform-specific (but if you do, use <code>skip</code> to provide an explanation).</li> </ul> <p>Notably, despite all parsers being standards-compliant, there are behavioral inconsistencies between the parsers used in the CRuby and JRuby implementations, and Nokogiri does not and should not attempt to remove these inconsistencies. Instead, we surface these differences in the test suite when they are important/semantic; or we intentionally write tests to depend only on the important/semantic bits (omitting whitespace from regex matchers on results, for example).</p> <p>Nokogiri is widely used in the Ruby ecosystem, and so extra care should be taken to avoid introducing breaking changes. Please read our Semantic Versioning Policy to understand what we consider to be a breaking change.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#where-to-start-getting-involved","level":2,"title":"Where to start getting involved","text":"<p>Please take a look at our Issues marked \"Help Wanted\".</p> <p>Also, pull requests for documentation improvements are always welcome!</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#submitting-pull-requests","level":2,"title":"Submitting Pull Requests","text":"<p>Pull requests should be made with <code>main</code> as the merge base. See the next section for details.</p> <p>Pull requests that introduce behavior change must always contain a test demonstrating the behavior being introduced, fixed, or changed. These tests should ideally communicate to the maintainers the problem being solved. We will ask you for clarification if we don't understand the problem you're trying to solve.</p> <p>If the pull request contains a feature or a bugfix, please make sure to create a CHANGELOG entry in the \"unreleased\" section.</p> <p>Please do not submit pull requests that make purely cosmetic changes to the code (style, naming, etc.). While we recognize that the code can always be improved, we prefer that you focus on more impactful contributions.</p> <p>Feel free to push a \"work in progress\" to take advantage of the feedback loops from CI. But then please indicate that it's still in progress by marking it as a Draft Pull Request.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#branch-management-and-release-management","level":2,"title":"Branch Management and Release Management","text":"<p>Nokogiri follows SemVer, and some nuances of that policy are spelled out in Semantic Versioning Policy.</p> <p>Development should be happening on <code>main</code>, which sets <code>Nokogiri::VERSION</code> to a development version of the next minor release (e.g., <code>\"1.14.0.dev\"</code>). All pull requests should have <code>main</code> as the merge base.</p> <p>Patch releases should be made by cherry-picking commits from <code>main</code> onto the release branch (e.g., <code>v1.13.x</code>) in a pull request labeled <code>backport</code>.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#how-to-set-up-your-local-development-environment","level":2,"title":"How to set up your local development environment","text":"","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#basic","level":3,"title":"Basic","text":"<pre><code>git clone --recurse-submodules https://github.com/sparklemotion/nokogiri\ncd nokogiri\nbundle install\n</code></pre>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#advanced","level":3,"title":"Advanced","text":"<p>Please install the latest or previous version of CRuby (e.g., 4.0 or 3.4 as of 2025-12), and a recent version of JRuby. We recommend using <code>rbenv</code>, which is used in test scripts when necessary to test gems against multiple rubies.</p> <p>Please install a system version of libxml2/libxslt (see Installing Nokogiri for details) so that you can test against both the packaged libraries and your system libraries.</p> <p>We recommend that you install <code>valgrind</code> if you can, but it's only necessary for debugging problems so feel free to wait until you need it. (I'm not sure valgrind is easily available on MacOS.)</p> <p>If you plan to package precompiled native gems, make sure <code>docker</code> is installed and is working properly.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#how-to-run-the-tests","level":2,"title":"How to run the tests","text":"<p>Note that <code>rake test</code> does not compile the native extension, and this is intentional (so we can run the test suite against an installed gem). If you're modifying the extension code, please make sure you re-compile each time you run the tests to ensure you're testing your changes.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#the-short-version","level":3,"title":"The short version","text":"<pre><code>bundle exec rake compile test\n</code></pre> <p>To run a focused test, use Minitest's <code>TESTOPTS</code>:</p> <pre><code>bundle exec rake compile test TESTOPTS=\"-n/test_last_element_child/\"\n</code></pre> <p>Or to run tests on specific files, use <code>TESTGLOB</code>:</p> <pre><code>bundle exec rake compile test TESTGLOB=\"test/**/test_*node*rb\"\n</code></pre> <p>To run the test suite in parallel, set the <code>NCPU</code> environment variable; and to compile in parallel, set the <code>MAKEFLAGS</code> environment variable (you may want to set these in something like your .bashrc):</p> <pre><code>export NCPU=8\nexport MAKEFLAGS=-j8\nbundle exec rake compile test\n</code></pre>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#cruby-advanced-usage","level":3,"title":"CRuby advanced usage","text":"<p>Test using your system's libraries:</p> <pre><code>bundle exec rake clean  #  blow away pre-existing libraries using packaged libs\nbundle exec rake compile test -- --enable-system-libraries\n</code></pre> <p>Run performance tests:</p> <pre><code>bundle exec rake compile test:bench\n</code></pre> <p>Run tests using valgrind:</p> <pre><code>bundle exec rake compile test:valgrind\n</code></pre> <p>Run tests in the debugger:</p> <pre><code>bundle exec rake compile test:gdb\n# or\nbundle exec rake compile test:lldb\n</code></pre> <p>Run tests and look for memory leaks with valgrind and ruby_memcheck:</p> <pre><code>bundle exec rake compile test:memcheck\n</code></pre> <p>Run test/test_memory_usage.rb and look for memory leaks using RSS size and linear interpolation:</p> <pre><code>bundle exec rake compile test:memory_suite\n</code></pre> <p>Note that by you can run the test suite with a variety of GC behaviors. For example, running a major after each test completes has, on occasion, been useful for localizing some classes of memory bugs, but does slow the suite down. Some variations of the test suite behavior are available (see <code>test/helper.rb</code> for more info):</p> <pre><code># ordinary GC behavior\nNOKOGIRI_TEST_GC_LEVEL=normal bundle exec rake compile test\n\n# minor GC after each test\nNOKOGIRI_TEST_GC_LEVEL=minor bundle exec rake compile test\n\n# major GC after each test\nNOKOGIRI_TEST_GC_LEVEL=major bundle exec rake compile test\n\n# major GC after each test and GC compaction after every 20 tests\nNOKOGIRI_TEST_GC_LEVEL=compact bundle exec rake compile test\n\n# verify references after compaction after every 20 tests\n# (see https://alanwu.space/post/check-compaction/)\nNOKOGIRI_TEST_GC_LEVEL=verify bundle exec rake compile test\n\n# run with GC \"stress mode\" on\nNOKOGIRI_TEST_GC_LEVEL=stress bundle exec rake compile test\n</code></pre>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#libxml2-advanced-usage","level":3,"title":"libxml2 advanced usage","text":"<p>If you want to build Nokogiri against a modified version of libxml2 or libxslt, clone them both into sibling directories (<code>../libxml2</code> and <code>../libxslt</code>) then run <code>scripts/compile-against-libxml2-source</code>.</p> <p>That script also takes an optional command to run with the proper environment variables set to use the local libxml2 library, which can be useful when trying to <code>git bisect</code> against libxml2 or libxslt. So, for example:</p> <pre><code>scripts/compile-against-libxml2-source bundle exec rake test\n</code></pre> <p>An alternative, if you're not bisecting or hacking on libxml2 or libxslt, is:</p> <pre><code>bundle exec rake compile -- \\\n  --with-xslt-source-dir=$(pwd)/../libxslt \\\n  --with-xml2-source-dir=$(pwd)/../libxml2\n</code></pre>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#gumbo-html5-parser","level":3,"title":"gumbo HTML5 parser","text":"<p>To run the test suite for the gumbo parser:</p> <pre><code>bundle exec rake gumbo\n</code></pre> <p>Please note that additional html5lib tests for Nokogiri's HTML5 parser exist in a submodule. If you haven't checked that submodule out, here's how to do so:</p> <pre><code>git submodule update --init  #  test/html5lib-tests\nbundle exec rake compile test\n</code></pre> <p>If you're actively working on the libgumbo source, you will probably want a faster feedback loop than <code>rake clean compile test</code> will give you. Here's how to get more immediate builds of libgumbo whenever you change a file:</p> <pre><code>bundle exec rake clean compile -- --gumbo-dev\n# change a gumbo file\nbundle exec rake compile # immediate compilation of changed file and relinking of nokogiri.so\n</code></pre>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#fuzzing-your-gumbo-html5-parser-changes","level":3,"title":"Fuzzing your gumbo HTML5 parser changes","text":"<p>When making changes or adding new features to <code>gumbo-parser</code>, it's recommended to run libfuzzer against <code>gumbo-parser</code> using various sanitizers.</p> <p>Build the fuzzers by navigating to the <code>gumbo-parser</code> directory and running <code>make fuzzers</code>. Once built, navigate to the <code>gumbo-parser/fuzzer/build</code> directory and execute one of the following binaries in this directory:</p> <ul> <li>parse_fuzzer (standard fuzzer with no sanitizer)</li> <li>parse_fuzzer-asan (fuzzer built using ASAN)</li> <li>parse_fuzzer-msan (fuzzer built using MSAN)</li> <li>parse_fuzzer-ubsan (fuzzer built using UBSAN)</li> </ul> <p>To fuzz more efficiently, use the dictionary (gumbo.dict) and corpus (gumbo_corpus) found in <code>gumbo-parser/fuzzer</code> using the following arguments (assuming parse_fuzzer is in use):</p> <pre><code>./parse_fuzzer -dict=../gumbo.dict ../gumbo_corpus\n</code></pre> <p>If the binary executed successfully you should now be seeing the following output filling up your terminal (see https://llvm.org/docs/LibFuzzer.html#output for more information):</p> <pre><code>INFO: Seed: 4156947595\nINFO: Loaded 1 modules   (7149 inline 8-bit counters): 7149 0x58a462, 0x58c04f, \nINFO: Loaded 1 PC tables (7149 PCs): 7149 0x53beb0,0x557d80, \nINFO: -max_len is not provided; libFuzzer will not generate inputs larger than 4096 bytes\nINFO: A corpus is not provided, starting from an empty corpus\n#2  INITED cov: 2 ft: 2 corp: 1/1b exec/s: 0 rss: 24Mb\n    NEW_FUNC[1/44]: 0x429840 in gumbo_parse_with_options (/home/user/nokogiri/gumbo-parser/fuzzer/build/parse_fuzzer+0x429840)\n    NEW_FUNC[2/44]: 0x42c0d0 in destroy_node (/home/user/nokogiri/gumbo-parser/fuzzer/build/parse_fuzzer+0x42c0d0)\n#721    NEW    cov: 180 ft: 181 corp: 2/12b lim: 11 exec/s: 0 rss: 27Mb L: 11/11 MS: 4 ChangeByte-ChangeByte-ChangeBit-InsertRepeatedBytes-\n#722    NEW    cov: 186 ft: 196 corp: 3/23b lim: 11 exec/s: 0 rss: 27Mb L: 11/11 MS: 1 ChangeBit-\n#723    NEW    cov: 186 ft: 228 corp: 4/34b lim: 11 exec/s: 0 rss: 27Mb L: 11/11 MS: 1 ChangeBinInt-\n#724    NEW    cov: 188 ft: 241 corp: 5/45b lim: 11 exec/s: 0 rss: 27Mb L: 11/11 MS: 1 ChangeBit-\n#725    NEW    cov: 188 ft: 254 corp: 6/56b lim: 11 exec/s: 0 rss: 27Mb L: 11/11 MS: 1 ChangeByte-\n#726    NEW    cov: 188 ft: 270 corp: 7/67b lim: 11 exec/s: 0 rss: 27Mb L: 11/11 MS: 1 CopyPart-\n#732    NEW    cov: 188 ft: 279 corp: 8/78b lim: 11 exec/s: 0 rss: 27Mb L: 11/11 MS: 1 ChangeBit-\n    NEW_FUNC[1/1]: 0x441de0 in gumbo_token_destroy (/home/user/nokogiri/gumbo-parser/fuzzer/build/parse_fuzzer+0x441de0)\n</code></pre> <p>However, if the fuzzer finds a \"crash\" (indicating that a bug has been found) it will stop fuzzing and the following output would be expected:</p> <pre><code>INFO: Seed: 1523017872\nINFO: Loaded 1 modules (16 guards): 0x744e60, 0x744ea0,\nINFO: -max_len is not provided, using 64\nINFO: A corpus is not provided, starting from an empty corpus\n#0    READ units: 1\n#1    INITED cov: 3 ft: 2 corp: 1/1b exec/s: 0 rss: 24Mb\n#3811 NEW    cov: 4 ft: 3 corp: 2/2b exec/s: 0 rss: 25Mb L: 1 MS: 5 ChangeBit-ChangeByte-ChangeBit-ShuffleBytes-ChangeByte-\n#3827 NEW    cov: 5 ft: 4 corp: 3/4b exec/s: 0 rss: 25Mb L: 2 MS: 1 CopyPart-\n#3963 NEW    cov: 6 ft: 5 corp: 4/6b exec/s: 0 rss: 25Mb L: 2 MS: 2 ShuffleBytes-ChangeBit-\n#4167 NEW    cov: 7 ft: 6 corp: 5/9b exec/s: 0 rss: 25Mb L: 3 MS: 1 InsertByte-\n==31511== ERROR: libFuzzer: deadly signal\n...\nartifact_prefix='./'; Test unit written to ./crash-b13e8756b13a00cf168300179061fb4b91fefbed\n</code></pre> <p>The above indicates that a crash has been identified and it can be reproduced by feeding the <code>crash-b13e8756b13a00cf168300179061fb4b91fefbed</code> file back into the binary used for fuzzing (e.g. parse-fuzzer) using the following command:</p> <pre><code>parse_fuzzer crash-b13e8756b13a00cf168300179061fb4b91fefbed\n</code></pre> <p>If you'd like to learn more about libfuzzer please give https://github.com/google/fuzzing/blob/master/tutorial/libFuzzerTutorial.md a try.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#style-guide","level":2,"title":"Style Guide","text":"","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#documentation","level":3,"title":"Documentation","text":"<p>We use <code>rdoc</code> to build Nokogiri's documentation. Run <code>rake rdoc</code> to build into the <code>./html</code> directory, and see the rdoc tasks in rakelib/rdoc.rake.</p> <p>Previously we made some effort to move towards <code>yard</code> but that work was stopped (and the decision record can be found at RFC: convert to use <code>yard</code> for documentation).</p> <p>Docstrings should be in <code>RDoc::Markup</code> format, though simple docstrings may be in Markdown (using <code>:markup: markdown</code>).</p> <p>If you submit pull requests that improve documentation, I will happily merge them and credit you in the CHANGELOG.</p> <p>Some guidelines (see lib/nokogiri/xml/node.rb and ext/nokogiri/xml/node.c for examples):</p> <ul> <li>Use <code>:call-seq:</code> to ...</li> <li>note the return type of the method whenever possible, e.g. <code>:call-seq: upcase(name) \u2192 String</code></li> <li>name all the aliases of a method</li> <li>indicate block/yield usage of a method</li> <li>Briefly explain the purpose of the method, what it returns, and what side effects it has</li> <li>Method signatures</li> <li>Use a <code>[Parameters]</code> definition to note the expected types of all the parameters as a bulleted list</li> <li>Use a <code>[Returns]</code> definition to note the return type</li> <li>Use a <code>[Yields]</code> definition to note the block parameters</li> <li>use RBS syntax whenever possible to declare variable types</li> <li>Callouts</li> <li>Use a <code>\ud83d\udee1</code> character for security-related notes</li> <li>Use a <code>\u26a0</code> character to warn the user about tricky usage</li> <li>Use a <code>\ud83d\udca1</code> character to call attention to other important notes</li> <li>Examples</li> <li>Prefer to show nuanced behavior in code examples, rather than try to explain it in prose.</li> <li>Use the line <code>*Example:* &lt;Brief explanation&gt;</code> to name examples and visually separate them</li> <li>Indent two extra columns to get code-block formatting</li> <li>Metadata</li> <li><code>See also:</code> should be used to call out related methods</li> <li><code>Since</code> should be used to indicate the version in which the code was introduced</li> </ul>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#code","level":3,"title":"Code","text":"<p>I don't feel very strongly about code style, but this project uses Standard for Ruby, and uses the <code>astyle</code> configuration laid out in <code>./rakelib/format.rake</code> for C and Java.</p> <p>You can auto-format everything with <code>rake format</code>.</p> <p>There are some pending Rubocop rules in <code>.rubocop_todo.yml</code>. If you'd like to fix them up, I will happily merge your pull request.</p> <p>For C code, naming is currently inconsistent, but I am generally moving towards some guidelines that will make stack traces more readable and usable:</p> <ul> <li>Public functions and functions bound to Ruby methods should start with <code>noko_</code> followed by the snake case class name.</li> <li>e.g., <code>noko_xml_sax_parser_context_...</code></li> <li>Static functions (file scope) do not need the \"noko\" prefix, but should be named with the snake case class name.</li> <li>e.g., <code>xml_sax_parser_context_...</code></li> <li>Ruby singleton methods should have <code>_s_</code> before the method name</li> <li>e.g., <code>noko_xml_sax_parser_context_s_io</code> for <code>Nokogiri::XML::SAX::ParserContext.io</code></li> <li>Ruby instance methods should have <code>__</code> before the method name</li> <li>e.g., <code>noko_xml_sax_parser_context__line</code> for <code>Nokogiri::XML::SAX::ParserContext#line</code></li> <li>Ruby attribute getters and setters should have <code>_get</code> or <code>_set</code> as a suffix</li> <li>e.g., <code>noko_xml_sax_parser_context__recovery_set</code> for <code>Nokogiri::XML::SAX::ParserContext#recovery=</code></li> </ul>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#how-continuous-integration-ci-is-configured","level":2,"title":"How Continuous Integration (\"CI\") is configured","text":"<p>The bulk of CI is running in Github Actions since May 2021: https://github.com/sparklemotion/nokogiri/actions</p> <p>However, we also run tests against 32-bit windows (which aren't supported by GA as of this writing) in Appveyor: https://ci.appveyor.com/project/flavorjones/nokogiri</p> <p>A known hole in CI coverage is the lack native gem tests for arm64-darwin.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#coverage","level":3,"title":"Coverage","text":"<p>The <code>ci.yml</code> pipeline includes jobs to:</p> <ul> <li>basic security sanity check and formatting check, using Rubocop</li> <li>fast feedback for obvious failures: run against system libraries on vanilla ubuntu</li> <li>run the Gumbo parser tests on ubuntu, macos, and windows</li> <li>run on all supported versions of CRuby:<ul> <li>once with packaged libraries</li> <li>once with system libraries</li> <li>once on valgrind (to look for memory bugs)</li> </ul> </li> <li>run the test suite looking for new memory leaks (using ruby_memcheck)</li> <li>run on JRuby</li> <li>run on TruffleRuby</li> <li>run on a Musl (Alpine) system:<ul> <li>against system libraries</li> <li>with valgrind using packaged libraries</li> </ul> </li> <li>run with libxml-ruby loaded (because this can interact with libxml2 in conflicting ways)<ul> <li>against system libraries</li> <li>with valgrind using packaged libraries</li> </ul> </li> <li>build a \"ruby\" platform gem<ul> <li>install and test on linux, macos, and windows</li> </ul> </li> <li>build native gems<ul> <li>install and test against all supported versions of CRuby</li> <li>install and test on a variety of linux, macos, and windows systems</li> </ul> </li> <li>build a jruby gem, install and test it</li> </ul> <p>The <code>upstream.yml</code> pipeline includes jobs to:</p> <ul> <li>run against libxml2 and libxslt head (linux), including a valgrind check</li> <li>run against CRuby head (linux, windows, macos) including a valgrind check</li> <li>run against JRuby head</li> <li>run html5lib-tests from that project's <code>origin/master</code></li> </ul> <p>The <code>downstream.yml</code> pipeline includes jobs to run notable downstream dependents against Nokogiri <code>main</code>.</p> <p>The <code>generate-ci-images.yml</code> pipeline builds some containers used by the other pipelines once a week. This is primarily an optimization to make sure system packages (like <code>libxml2-dev</code> and <code>valgrind</code>) are already installed. See <code>oci-images/nokogiri-test/</code> for details on what's in these containers.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#valgrind-and-ruby_memcheck","level":3,"title":"Valgrind and <code>ruby_memcheck</code>","text":"<p>We rely heavily on Valgrind and <code>ruby_memcheck</code> to catch memory bugs by running in combination with every version of CRuby.</p> <p>We use suppressions primarily to quiet known small memory leaks or quirks of certain Ruby versions. See the files in the <code>/suppressions</code> directory and <code>/rakelib/test.rake</code> for more information.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#benchmark-performance-tests","level":3,"title":"Benchmark / Performance tests","text":"<p>A separate suite, <code>test:bench</code>, can be run to ensure a few performance expectations. As of 2022-02 this suite is small, but we can grow it over time. These tests are run in CI on CRuby and JRuby.</p> <p>These tests should use <code>Nokogiri::TestBenchmark</code> as the base class, and be in a file matching the glob <code>test/**/bench_*.rb</code>.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#helpful-hints-when-writing-new-ci-jobs","level":3,"title":"Helpful hints when writing new CI jobs","text":"<ul> <li>Always checkout the source code including submodules (for the html5lib tests)</li> <li>When testing packaged libraries (not system libraries), cache either <code>ports/</code> (for compiled libraries) or <code>ports/archives/</code> (for just tarballs)</li> <li>note that <code>libgumbo</code> is built outside of <code>ports/</code> to allow us to do this caching safely</li> </ul>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#how-oss-fuzz-is-configured","level":2,"title":"How OSS-Fuzz is configured","text":"<p>OSS-Fuzz is a service that runs fuzzing against open-source libraries.</p> <p>OSS-Fuzz was configured to fuzz Nokogiri's libgumbo in https://github.com/google/oss-fuzz/pull/11004. Updating the configuration should be done in that project.</p> <p>Notifications go to <code>nokogiri-oss-fuzz@googlegroups.com</code>.</p> <p>Some historical context can be found in discussion #2992 and pull request #3007 by @fuzzy-boiii23a.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#packaging-releases","level":2,"title":"Packaging releases","text":"<p>As a prerequisite please make sure you have <code>docker</code> correctly installed, to build native (precompiled) gems.</p> <p>Run <code>scripts/build-gems</code> which will package gems for all supported platforms, and run some basic sanity tests on those packages using <code>scripts/test-gem-set</code>, <code>scripts/test-gem-file-contents</code>, and <code>scripts/test-gem-installation</code>.</p> <p>See Making a release below for the checklist.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#other-utilities","level":2,"title":"Other utilities","text":"<p><code>scripts/test-exported-symbols</code> checks the compiled <code>nokogiri.so</code> library for surprising exported symbols. This script likely only works on Linux, sorry.</p> <p><code>scripts/files-modified-by-open-prs</code> is a hack to see what files are being proposed to change in the set of open pull requests. This might be useful if you're thinking about radically changing a file, to be aware of what merge conflicts might result. This could probably be a rake task.</p> <p>There's a <code>Vagrantfile</code> in the project root which I've used once or twice to try to reproduce problems non-Linux systems (like OpenBSD). It's not well-maintained so YMMV.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#bumping-java-dependencies","level":2,"title":"Bumping Java dependencies","text":"<p>Java dependencies, in the form of <code>.jar</code> files, are all vendored as part of the <code>java</code> platform gem.</p> <p>We use <code>jar-dependencies</code> as a development dependency to manage the project's Java dependencies. Note, however, that we use our own fork of NekoDTD that lives at https://github.com/sparklemotion/nekodtd</p> <p>To modify or add a dependency, a few things needs to be in sync:</p> <ul> <li><code>nokogiri.gemspec</code>: <code>spec.requirements</code> need to specify the maven group Id, artifact ID, and version</li> <li><code>nokogiri.gemspec</code>: <code>spec.files</code> need to include the jar files</li> <li>git: the jar files under <code>lib/nokogiri/jruby/</code> need to be committed to git</li> <li><code>lib/nokogiri/jruby/nokogiri_jars.rb</code>: needs to include all the jars</li> </ul> <p>A quick summary of what this looks like for you, the developer:</p> <ol> <li>edit the <code>requirements</code> in the gemspec</li> <li>run <code>bundle exec rake vendor_jars</code> which updates everything under <code>lib/nokogiri/jruby</code></li> <li>run <code>bundle exec rake check_manifest</code> and if necessary update the gemspec <code>files</code></li> <li>make sure to check everything under <code>lib/nokogiri/jruby</code> into git, including the jar files</li> </ol>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#rake-tasks","level":2,"title":"Rake tasks","text":"<p>The <code>Rakefile</code> used to be a big fat mess. It's now decomposed into a small set of files in <code>/rakelib</code>. If you've got a new rake task you'd like to introduce, please consider whether it belongs in one of the existing concerns, or needs a new file. Please don't add it to <code>Rakefile</code> without compelling reasons.</p>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"CONTRIBUTING.html#making-a-release","level":2,"title":"Making a release","text":"<p>A quick checklist for releasing Nokogiri:</p> <ul> <li>Prechecks</li> <li>[ ] make sure CI is green!</li> <li>[ ] update <code>CHANGELOG.md</code> and <code>lib/nokogiri/version/constant.rb</code></li> <li>[ ] commit and create a git tag</li> <li>[ ] run <code>scripts/build-gems</code> and make sure it completes and all the tests pass</li> <li>Release</li> <li>[ ] <code>git push &amp;&amp; git push --tags</code></li> <li>[ ] <code>for g in gems/*.gem ; do gem push $g ; done</code></li> <li>[ ] create a release at https://github.com/sparklemotion/nokogiri/releases and provide sha2 checksums</li> <li>If the release has security fixes ...</li> <li>[ ] publish a GHSA</li> <li>[ ] email ruby-security-ann@googlegroups.com and ruby-talk@ruby-lang.org</li> <li>Post-release</li> <li>[ ] update nokogiri.org</li> <li>[ ] bump <code>lib/nokogiri/version/constant.rb</code> to a prerelease version like <code>v1.14.0.dev</code></li> </ul>","path":["About","Contributing to Nokogiri"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html","level":1,"title":"Vendored Dependency Licenses","text":"<p>Nokogiri ships with some third party dependencies, which are listed here along with their licenses.</p> <p>Note that this document is broken into multiple sections, each of which describes the dependencies of a different \"platform release\" of Nokogiri.</p> <ul> <li>Platform Releases</li> <li>Default platform release (\"ruby\")</li> <li>Native Linux\u24c7 platform releases (\"x86_64-linux\", \"aarch64-linux\", and \"arm-linux\")</li> <li>Native Darwin (macOS\u24c7) platform releases (\"x86_64-darwin\" and \"arm64-darwin\")</li> <li>Native Windows\u24c7 platform releases (\"x64-mingw-ucrt\")</li> <li>Java\u24c7 (JRuby) platform release (\"java\")</li> <li>Appendix: Dependencies' License Texts</li> <li>libgumbo</li> <li>libxml2</li> <li>libxslt</li> <li>zlib</li> <li>libiconv</li> <li>isorelax:isorelax</li> <li>net.sf.saxon:Saxon-HE</li> <li>net.sourceforge.htmlunit:neko-htmlunit</li> <li>nu.validator:jing</li> <li>org.nokogiri:nekodtd</li> <li>xalan:serializer and xalan:xalan</li> <li>xerces:xercesImpl</li> <li>xml-apis:xml-apis</li> </ul> <p>Anyone consuming this file via license-tracking software should endeavor to understand which gem file you're downloading and using, so as not to misinterpret the contents of this file and the licenses of the software being distributed.</p> <p>You can double-check the dependencies in your gem file by examining the output of <code>nokogiri -v</code> after installation, which will emit the complete set of libraries in use (for versions <code>&gt;= 1.11.0.rc4</code>).</p> <p>In particular, I'm sure somebody's lawyer, somewhere, is going to freak out that the LGPL appears in this file; and so I'd like to take special note that the dependency covered by LGPL, <code>libiconv</code>, is only being redistributed in the native Windows and native Darwin platform releases. It's not present in default, Java\u24c7, or native Linux\u24c7 releases.</p>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#platform-releases","level":2,"title":"Platform Releases","text":"","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#default-platform-release-ruby","level":3,"title":"Default platform release (\"ruby\")","text":"<p>The default platform release distributes the following dependencies in source form:</p> <ul> <li>libxml2</li> <li>libxslt</li> <li>libgumbo</li> </ul> <p>This distribution can be identified by inspecting the included Gem::Specification, which will have the value \"ruby\" for its \"platform\" attribute.</p>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#native-linuxr-platform-releases-x86_64-linux-aarch64-linux-and-arm-linux","level":3,"title":"Native Linux\u24c7 platform releases (\"x86_64-linux\", \"aarch64-linux\", and \"arm-linux\")","text":"<p>The native Linux\u24c7 platform release distributes the following dependencies in source form:</p> <ul> <li>libxml2</li> <li>libxslt</li> <li>libgumbo</li> <li>zlib</li> </ul> <p>This distribution can be identified by inspecting the included Gem::Specification, which will have a value similar to \"x86_64-linux\" or \"aarch64-linux\" for its \"platform.cpu\" attribute.</p>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#native-darwin-macosr-platform-releases-x86_64-darwin-and-arm64-darwin","level":3,"title":"Native Darwin (macOS\u24c7) platform releases (\"x86_64-darwin\" and \"arm64-darwin\")","text":"<p>The native Darwin platform release distributes the following dependencies in source form:</p> <ul> <li>libxml2</li> <li>libxslt</li> <li>libgumbo</li> <li>zlib</li> <li>libiconv</li> </ul> <p>This distribution can be identified by inspecting the included Gem::Specification, which will have a value similar to \"x86_64-darwin\" or \"arm64-darwin\" for its \"platform.cpu\" attribute. Darwin is also known more familiarly as \"OSX\" or \"macOS\u24c7\" and is the operating system for many Apple\u24c7 computers.</p>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#native-windowsr-platform-releases-x64-mingw-ucrt","level":3,"title":"Native Windows\u24c7 platform releases (\"x64-mingw-ucrt\")","text":"<p>The native Windows\u24c7 platform release distributes the following dependencies in source form:</p> <ul> <li>libxml2</li> <li>libxslt</li> <li>libgumbo</li> <li>zlib</li> <li>libiconv</li> </ul> <p>This distribution can be identified by inspecting the included Gem::Specification, which will have a value similar to \"x64-mingw-ucrt\" for its \"platform.cpu\" attribute.</p>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#javar-jruby-platform-release-java","level":3,"title":"Java\u24c7 (JRuby) platform release (\"java\")","text":"<p>The Java platform release distributes the following dependencies as compiled jar files:</p> <ul> <li>isorelax:isorelax</li> <li>net.sf.saxon:Saxon-HE</li> <li>net.sourceforge.htmlunit:neko-htmlunit</li> <li>nu.validator:jing</li> <li>org.nokogiri:nekodtd</li> <li>xalan:serializer and xalan:xalan</li> <li>xerces:xercesImpl</li> <li>xml-apis:xml-apis</li> </ul> <p>This distribution can be identified by inspecting the included Gem::Specification, which will have the value \"java\" for its \"platform.os\" attribute.</p>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#appendix-dependencies-license-texts","level":2,"title":"Appendix: Dependencies' License Texts","text":"<p>This section contains a subsection for each potentially-distributed dependency, which includes the name of the license and the license text.</p> <p>Please see previous sections to understand which of these potential dependencies is actually distributed in the gem file you're downloading and using.</p>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#libgumbo","level":3,"title":"libgumbo","text":"<p>Apache 2.0</p> <p>https://github.com/sparklemotion/nokogiri/blob/main/gumbo-parser/src/README.md</p> <pre><code>                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n</code></pre>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#libxml2","level":3,"title":"libxml2","text":"<p>MIT</p> <p>http://xmlsoft.org/</p> <pre><code>Except where otherwise noted in the source code (e.g. the files hash.c,\nlist.c and the trio files, which are covered by a similar licence but\nwith different Copyright notices) all the files are:\n\n Copyright (C) 1998-2012 Daniel Veillard.  All Rights Reserved.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is fur-\nnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FIT-\nNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n</code></pre>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#libxslt","level":3,"title":"libxslt","text":"<p>MIT</p> <p>http://xmlsoft.org/libxslt/</p> <pre><code>Licence for libxslt except libexslt\n----------------------------------------------------------------------\n Copyright (C) 2001-2002 Daniel Veillard.  All Rights Reserved.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is fur-\nnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FIT-\nNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\nDANIEL VEILLARD BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CON-\nNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nExcept as contained in this notice, the name of Daniel Veillard shall not\nbe used in advertising or otherwise to promote the sale, use or other deal-\nings in this Software without prior written authorization from him.\n\n----------------------------------------------------------------------\n\nLicence for libexslt\n----------------------------------------------------------------------\n Copyright (C) 2001-2002 Thomas Broyer, Charlie Bozeman and Daniel Veillard.\n All Rights Reserved.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is fur-\nnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FIT-\nNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\nAUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CON-\nNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nExcept as contained in this notice, the name of the authors shall not\nbe used in advertising or otherwise to promote the sale, use or other deal-\nings in this Software without prior written authorization from him.\n----------------------------------------------------------------------\n</code></pre>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#zlib","level":3,"title":"zlib","text":"<p>zlib license</p> <p>http://www.zlib.net/zlib_license.html</p> <pre><code>  Copyright (C) 1995-2017 Jean-loup Gailly and Mark Adler\n\n  This software is provided 'as-is', without any express or implied\n  warranty.  In no event will the authors be held liable for any damages\n  arising from the use of this software.\n\n  Permission is granted to anyone to use this software for any purpose,\n  including commercial applications, and to alter it and redistribute it\n  freely, subject to the following restrictions:\n\n  1. The origin of this software must not be misrepresented; you must not\n     claim that you wrote the original software. If you use this software\n     in a product, an acknowledgment in the product documentation would be\n     appreciated but is not required.\n  2. Altered source versions must be plainly marked as such, and must not be\n     misrepresented as being the original software.\n  3. This notice may not be removed or altered from any source distribution.\n\n  Jean-loup Gailly        Mark Adler\n  jloup@gzip.org          madler@alumni.caltech.edu\n</code></pre>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#libiconv","level":3,"title":"libiconv","text":"<p>LGPL</p> <p>https://www.gnu.org/software/libiconv/</p> <pre><code>          GNU LIBRARY GENERAL PUBLIC LICENSE\n               Version 2, June 1991\n\n Copyright (C) 1991 Free Software Foundation, Inc.\n 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA\n Everyone is permitted to copy and distribute verbatim copies\n of this license document, but changing it is not allowed.\n\n[This is the first released version of the library GPL.  It is\n numbered 2 because it goes with version 2 of the ordinary GPL.]\n\n                Preamble\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicenses are intended to guarantee your freedom to share and change\nfree software--to make sure the software is free for all its users.\n\n  This license, the Library General Public License, applies to some\nspecially designated Free Software Foundation software, and to any\nother libraries whose authors decide to use it.  You can use it for\nyour libraries, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if\nyou distribute copies of the library, or if you modify it.\n\n  For example, if you distribute copies of the library, whether gratis\nor for a fee, you must give the recipients all the rights that we gave\nyou.  You must make sure that they, too, receive or can get the source\ncode.  If you link a program with the library, you must provide\ncomplete object files to the recipients so that they can relink them\nwith the library, after making changes to the library and recompiling\nit.  And you must show them these terms so they know their rights.\n\n  Our method of protecting your rights has two steps: (1) copyright\nthe library, and (2) offer you this license which gives you legal\npermission to copy, distribute and/or modify the library.\n\n  Also, for each distributor's protection, we want to make certain\nthat everyone understands that there is no warranty for this free\nlibrary.  If the library is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original\nversion, so that any problems introduced by others will not reflect on\nthe original authors' reputations.\n\f\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that companies distributing free\nsoftware will individually obtain patent licenses, thus in effect\ntransforming the program into proprietary software.  To prevent this,\nwe have made it clear that any patent must be licensed for everyone's\nfree use or not licensed at all.\n\n  Most GNU software, including some libraries, is covered by the ordinary\nGNU General Public License, which was designed for utility programs.  This\nlicense, the GNU Library General Public License, applies to certain\ndesignated libraries.  This license is quite different from the ordinary\none; be sure to read it in full, and don't assume that anything in it is\nthe same as in the ordinary license.\n\n  The reason we have a separate public license for some libraries is that\nthey blur the distinction we usually make between modifying or adding to a\nprogram and simply using it.  Linking a program with a library, without\nchanging the library, is in some sense simply using the library, and is\nanalogous to running a utility program or application program.  However, in\na textual and legal sense, the linked executable is a combined work, a\nderivative of the original library, and the ordinary General Public License\ntreats it as such.\n\n  Because of this blurred distinction, using the ordinary General\nPublic License for libraries did not effectively promote software\nsharing, because most developers did not use the libraries.  We\nconcluded that weaker conditions might promote sharing better.\n\n  However, unrestricted linking of non-free programs would deprive the\nusers of those programs of all benefit from the free status of the\nlibraries themselves.  This Library General Public License is intended to\npermit developers of non-free programs to use free libraries, while\npreserving your freedom as a user of such programs to change the free\nlibraries that are incorporated in them.  (We have not seen how to achieve\nthis as regards changes in header files, but we have achieved it as regards\nchanges in the actual functions of the Library.)  The hope is that this\nwill lead to faster development of free libraries.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.  Pay close attention to the difference between a\n\"work based on the library\" and a \"work that uses the library\".  The\nformer contains code derived from the library, while the latter only\nworks together with the library.\n\n  Note that it is possible for a library to be covered by the ordinary\nGeneral Public License rather than by this special one.\n\f\n          GNU LIBRARY GENERAL PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. This License Agreement applies to any software library which\ncontains a notice placed by the copyright holder or other authorized\nparty saying it may be distributed under the terms of this Library\nGeneral Public License (also called \"this License\").  Each licensee is\naddressed as \"you\".\n\n  A \"library\" means a collection of software functions and/or data\nprepared so as to be conveniently linked with application programs\n(which use some of those functions and data) to form executables.\n\n  The \"Library\", below, refers to any such software library or work\nwhich has been distributed under these terms.  A \"work based on the\nLibrary\" means either the Library or any derivative work under\ncopyright law: that is to say, a work containing the Library or a\nportion of it, either verbatim or with modifications and/or translated\nstraightforwardly into another language.  (Hereinafter, translation is\nincluded without limitation in the term \"modification\".)\n\n  \"Source code\" for a work means the preferred form of the work for\nmaking modifications to it.  For a library, complete source code means\nall the source code for all modules it contains, plus any associated\ninterface definition files, plus the scripts used to control compilation\nand installation of the library.\n\n  Activities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning a program using the Library is not restricted, and output from\nsuch a program is covered only if its contents constitute a work based\non the Library (independent of the use of the Library in a tool for\nwriting it).  Whether that is true depends on what the Library does\nand what the program that uses the Library does.\n\n  1. You may copy and distribute verbatim copies of the Library's\ncomplete source code as you receive it, in any medium, provided that\nyou conspicuously and appropriately publish on each copy an\nappropriate copyright notice and disclaimer of warranty; keep intact\nall the notices that refer to this License and to the absence of any\nwarranty; and distribute a copy of this License along with the\nLibrary.\n\n  You may charge a fee for the physical act of transferring a copy,\nand you may at your option offer warranty protection in exchange for a\nfee.\n\f\n  2. You may modify your copy or copies of the Library or any portion\nof it, thus forming a work based on the Library, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) The modified work must itself be a software library.\n\n    b) You must cause the files modified to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    c) You must cause the whole of the work to be licensed at no\n    charge to all third parties under the terms of this License.\n\n    d) If a facility in the modified Library refers to a function or a\n    table of data to be supplied by an application program that uses\n    the facility, other than as an argument passed when the facility\n    is invoked, then you must make a good faith effort to ensure that,\n    in the event an application does not supply such function or\n    table, the facility still operates, and performs whatever part of\n    its purpose remains meaningful.\n\n    (For example, a function in a library to compute square roots has\n    a purpose that is entirely well-defined independent of the\n    application.  Therefore, Subsection 2d requires that any\n    application-supplied function or table used by this function must\n    be optional: if the application does not supply it, the square\n    root function must still compute square roots.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Library,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Library, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote\nit.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Library.\n\nIn addition, mere aggregation of another work not based on the Library\nwith the Library (or with a work based on the Library) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may opt to apply the terms of the ordinary GNU General Public\nLicense instead of this License to a given copy of the Library.  To do\nthis, you must alter all the notices that refer to this License, so\nthat they refer to the ordinary GNU General Public License, version 2,\ninstead of to this License.  (If a newer version than version 2 of the\nordinary GNU General Public License has appeared, then you can specify\nthat version instead if you wish.)  Do not make any other change in\nthese notices.\n\f\n  Once this change is made in a given copy, it is irreversible for\nthat copy, so the ordinary GNU General Public License applies to all\nsubsequent copies and derivative works made from that copy.\n\n  This option is useful when you wish to copy part of the code of\nthe Library into a program that is not a library.\n\n  4. You may copy and distribute the Library (or a portion or\nderivative of it, under Section 2) in object code or executable form\nunder the terms of Sections 1 and 2 above provided that you accompany\nit with the complete corresponding machine-readable source code, which\nmust be distributed under the terms of Sections 1 and 2 above on a\nmedium customarily used for software interchange.\n\n  If distribution of object code is made by offering access to copy\nfrom a designated place, then offering equivalent access to copy the\nsource code from the same place satisfies the requirement to\ndistribute the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  5. A program that contains no derivative of any portion of the\nLibrary, but is designed to work with the Library by being compiled or\nlinked with it, is called a \"work that uses the Library\".  Such a\nwork, in isolation, is not a derivative work of the Library, and\ntherefore falls outside the scope of this License.\n\n  However, linking a \"work that uses the Library\" with the Library\ncreates an executable that is a derivative of the Library (because it\ncontains portions of the Library), rather than a \"work that uses the\nlibrary\".  The executable is therefore covered by this License.\nSection 6 states terms for distribution of such executables.\n\n  When a \"work that uses the Library\" uses material from a header file\nthat is part of the Library, the object code for the work may be a\nderivative work of the Library even though the source code is not.\nWhether this is true is especially significant if the work can be\nlinked without the Library, or if the work is itself a library.  The\nthreshold for this to be true is not precisely defined by law.\n\n  If such an object file uses only numerical parameters, data\nstructure layouts and accessors, and small macros and small inline\nfunctions (ten lines or less in length), then the use of the object\nfile is unrestricted, regardless of whether it is legally a derivative\nwork.  (Executables containing this object code plus portions of the\nLibrary will still fall under Section 6.)\n\n  Otherwise, if the work is a derivative of the Library, you may\ndistribute the object code for the work under the terms of Section 6.\nAny executables containing that work also fall under Section 6,\nwhether or not they are linked directly with the Library itself.\n\f\n  6. As an exception to the Sections above, you may also compile or\nlink a \"work that uses the Library\" with the Library to produce a\nwork containing portions of the Library, and distribute that work\nunder terms of your choice, provided that the terms permit\nmodification of the work for the customer's own use and reverse\nengineering for debugging such modifications.\n\n  You must give prominent notice with each copy of the work that the\nLibrary is used in it and that the Library and its use are covered by\nthis License.  You must supply a copy of this License.  If the work\nduring execution displays copyright notices, you must include the\ncopyright notice for the Library among them, as well as a reference\ndirecting the user to the copy of this License.  Also, you must do one\nof these things:\n\n    a) Accompany the work with the complete corresponding\n    machine-readable source code for the Library including whatever\n    changes were used in the work (which must be distributed under\n    Sections 1 and 2 above); and, if the work is an executable linked\n    with the Library, with the complete machine-readable \"work that\n    uses the Library\", as object code and/or source code, so that the\n    user can modify the Library and then relink to produce a modified\n    executable containing the modified Library.  (It is understood\n    that the user who changes the contents of definitions files in the\n    Library will not necessarily be able to recompile the application\n    to use the modified definitions.)\n\n    b) Accompany the work with a written offer, valid for at\n    least three years, to give the same user the materials\n    specified in Subsection 6a, above, for a charge no more\n    than the cost of performing this distribution.\n\n    c) If distribution of the work is made by offering access to copy\n    from a designated place, offer equivalent access to copy the above\n    specified materials from the same place.\n\n    d) Verify that the user has already received a copy of these\n    materials or that you have already sent this user a copy.\n\n  For an executable, the required form of the \"work that uses the\nLibrary\" must include any data and utility programs needed for\nreproducing the executable from it.  However, as a special exception,\nthe source code distributed need not include anything that is normally\ndistributed (in either source or binary form) with the major\ncomponents (compiler, kernel, and so on) of the operating system on\nwhich the executable runs, unless that component itself accompanies\nthe executable.\n\n  It may happen that this requirement contradicts the license\nrestrictions of other proprietary libraries that do not normally\naccompany the operating system.  Such a contradiction means you cannot\nuse both them and the Library together in an executable that you\ndistribute.\n\f\n  7. You may place library facilities that are a work based on the\nLibrary side-by-side in a single library together with other library\nfacilities not covered by this License, and distribute such a combined\nlibrary, provided that the separate distribution of the work based on\nthe Library and of the other library facilities is otherwise\npermitted, and provided that you do these two things:\n\n    a) Accompany the combined library with a copy of the same work\n    based on the Library, uncombined with any other library\n    facilities.  This must be distributed under the terms of the\n    Sections above.\n\n    b) Give prominent notice with the combined library of the fact\n    that part of it is a work based on the Library, and explaining\n    where to find the accompanying uncombined form of the same work.\n\n  8. You may not copy, modify, sublicense, link with, or distribute\nthe Library except as expressly provided under this License.  Any\nattempt otherwise to copy, modify, sublicense, link with, or\ndistribute the Library is void, and will automatically terminate your\nrights under this License.  However, parties who have received copies,\nor rights, from you under this License will not have their licenses\nterminated so long as such parties remain in full compliance.\n\n  9. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Library or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Library (or any work based on the\nLibrary), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Library or works based on it.\n\n  10. Each time you redistribute the Library (or any work based on the\nLibrary), the recipient automatically receives a license from the\noriginal licensor to copy, distribute, link with or modify the Library\nsubject to these terms and conditions.  You may not impose any further\nrestrictions on the recipients' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\f\n  11. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Library at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Library by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Library.\n\nIf any portion of this section is held invalid or unenforceable under any\nparticular circumstance, the balance of the section is intended to apply,\nand the section as a whole is intended to apply in other circumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  12. If the distribution and/or use of the Library is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Library under this License may add\nan explicit geographical distribution limitation excluding those countries,\nso that distribution is permitted only in or among countries not thus\nexcluded.  In such case, this License incorporates the limitation as if\nwritten in the body of this License.\n\n  13. The Free Software Foundation may publish revised and/or new\nversions of the Library General Public License from time to time.\nSuch new versions will be similar in spirit to the present version,\nbut may differ in detail to address new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Library\nspecifies a version number of this License which applies to it and\n\"any later version\", you have the option of following the terms and\nconditions either of that version or of any later version published by\nthe Free Software Foundation.  If the Library does not specify a\nlicense version number, you may choose any version ever published by\nthe Free Software Foundation.\n\f\n  14. If you wish to incorporate parts of the Library into other free\nprograms whose distribution conditions are incompatible with these,\nwrite to the author to ask for permission.  For software which is\ncopyrighted by the Free Software Foundation, write to the Free\nSoftware Foundation; we sometimes make exceptions for this.  Our\ndecision will be guided by the two goals of preserving the free status\nof all derivatives of our free software and of promoting the sharing\nand reuse of software generally.\n\n                NO WARRANTY\n\n  15. BECAUSE THE LIBRARY IS LICENSED FREE OF CHARGE, THERE IS NO\nWARRANTY FOR THE LIBRARY, TO THE EXTENT PERMITTED BY APPLICABLE LAW.\nEXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR\nOTHER PARTIES PROVIDE THE LIBRARY \"AS IS\" WITHOUT WARRANTY OF ANY\nKIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\nPURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE\nLIBRARY IS WITH YOU.  SHOULD THE LIBRARY PROVE DEFECTIVE, YOU ASSUME\nTHE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.\n\n  16. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN\nWRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY\nAND/OR REDISTRIBUTE THE LIBRARY AS PERMITTED ABOVE, BE LIABLE TO YOU\nFOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR\nCONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE\nLIBRARY (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING\nRENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A\nFAILURE OF THE LIBRARY TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF\nSUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH\nDAMAGES.\n\n             END OF TERMS AND CONDITIONS\n</code></pre>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#isorelaxisorelax","level":3,"title":"isorelax:isorelax","text":"<p>MIT</p> <p>http://iso-relax.sourceforge.net/</p> <pre><code>Copyright (c) 2001-2002, SourceForge ISO-RELAX Project (ASAMI\nTomoharu, Daisuke Okajima, Kohsuke Kawaguchi, and MURATA Makoto)\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n</code></pre>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#netsfsaxonsaxon-he","level":3,"title":"net.sf.saxon:Saxon-HE","text":"<p>MPL 2.0</p> <p>http://www.saxonica.com/</p> <pre><code>Mozilla Public License Version 2.0\n==================================\n\n1. Definitions\n--------------\n\n1.1. \"Contributor\"\n    means each individual or legal entity that creates, contributes to\n    the creation of, or owns Covered Software.\n\n1.2. \"Contributor Version\"\n    means the combination of the Contributions of others (if any) used\n    by a Contributor and that particular Contributor's Contribution.\n\n1.3. \"Contribution\"\n    means Covered Software of a particular Contributor.\n\n1.4. \"Covered Software\"\n    means Source Code Form to which the initial Contributor has attached\n    the notice in Exhibit A, the Executable Form of such Source Code\n    Form, and Modifications of such Source Code Form, in each case\n    including portions thereof.\n\n1.5. \"Incompatible With Secondary Licenses\"\n    means\n\n    (a) that the initial Contributor has attached the notice described\n        in Exhibit B to the Covered Software; or\n\n    (b) that the Covered Software was made available under the terms of\n        version 1.1 or earlier of the License, but not also under the\n        terms of a Secondary License.\n\n1.6. \"Executable Form\"\n    means any form of the work other than Source Code Form.\n\n1.7. \"Larger Work\"\n    means a work that combines Covered Software with other material, in\n    a separate file or files, that is not Covered Software.\n\n1.8. \"License\"\n    means this document.\n\n1.9. \"Licensable\"\n    means having the right to grant, to the maximum extent possible,\n    whether at the time of the initial grant or subsequently, any and\n    all of the rights conveyed by this License.\n\n1.10. \"Modifications\"\n    means any of the following:\n\n    (a) any file in Source Code Form that results from an addition to,\n        deletion from, or modification of the contents of Covered\n        Software; or\n\n    (b) any new file in Source Code Form that contains any Covered\n        Software.\n\n1.11. \"Patent Claims\" of a Contributor\n    means any patent claim(s), including without limitation, method,\n    process, and apparatus claims, in any patent Licensable by such\n    Contributor that would be infringed, but for the grant of the\n    License, by the making, using, selling, offering for sale, having\n    made, import, or transfer of either its Contributions or its\n    Contributor Version.\n\n1.12. \"Secondary License\"\n    means either the GNU General Public License, Version 2.0, the GNU\n    Lesser General Public License, Version 2.1, the GNU Affero General\n    Public License, Version 3.0, or any later versions of those\n    licenses.\n\n1.13. \"Source Code Form\"\n    means the form of the work preferred for making modifications.\n\n1.14. \"You\" (or \"Your\")\n    means an individual or a legal entity exercising rights under this\n    License. For legal entities, \"You\" includes any entity that\n    controls, is controlled by, or is under common control with You. For\n    purposes of this definition, \"control\" means (a) the power, direct\n    or indirect, to cause the direction or management of such entity,\n    whether by contract or otherwise, or (b) ownership of more than\n    fifty percent (50%) of the outstanding shares or beneficial\n    ownership of such entity.\n\n2. License Grants and Conditions\n--------------------------------\n\n2.1. Grants\n\nEach Contributor hereby grants You a world-wide, royalty-free,\nnon-exclusive license:\n\n(a) under intellectual property rights (other than patent or trademark)\n    Licensable by such Contributor to use, reproduce, make available,\n    modify, display, perform, distribute, and otherwise exploit its\n    Contributions, either on an unmodified basis, with Modifications, or\n    as part of a Larger Work; and\n\n(b) under Patent Claims of such Contributor to make, use, sell, offer\n    for sale, have made, import, and otherwise transfer either its\n    Contributions or its Contributor Version.\n\n2.2. Effective Date\n\nThe licenses granted in Section 2.1 with respect to any Contribution\nbecome effective for each Contribution on the date the Contributor first\ndistributes such Contribution.\n\n2.3. Limitations on Grant Scope\n\nThe licenses granted in this Section 2 are the only rights granted under\nthis License. No additional rights or licenses will be implied from the\ndistribution or licensing of Covered Software under this License.\nNotwithstanding Section 2.1(b) above, no patent license is granted by a\nContributor:\n\n(a) for any code that a Contributor has removed from Covered Software;\n    or\n\n(b) for infringements caused by: (i) Your and any other third party's\n    modifications of Covered Software, or (ii) the combination of its\n    Contributions with other software (except as part of its Contributor\n    Version); or\n\n(c) under Patent Claims infringed by Covered Software in the absence of\n    its Contributions.\n\nThis License does not grant any rights in the trademarks, service marks,\nor logos of any Contributor (except as may be necessary to comply with\nthe notice requirements in Section 3.4).\n\n2.4. Subsequent Licenses\n\nNo Contributor makes additional grants as a result of Your choice to\ndistribute the Covered Software under a subsequent version of this\nLicense (see Section 10.2) or under the terms of a Secondary License (if\npermitted under the terms of Section 3.3).\n\n2.5. Representation\n\nEach Contributor represents that the Contributor believes its\nContributions are its original creation(s) or it has sufficient rights\nto grant the rights to its Contributions conveyed by this License.\n\n2.6. Fair Use\n\nThis License is not intended to limit any rights You have under\napplicable copyright doctrines of fair use, fair dealing, or other\nequivalents.\n\n2.7. Conditions\n\nSections 3.1, 3.2, 3.3, and 3.4 are conditions of the licenses granted\nin Section 2.1.\n\n3. Responsibilities\n-------------------\n\n3.1. Distribution of Source Form\n\nAll distribution of Covered Software in Source Code Form, including any\nModifications that You create or to which You contribute, must be under\nthe terms of this License. You must inform recipients that the Source\nCode Form of the Covered Software is governed by the terms of this\nLicense, and how they can obtain a copy of this License. You may not\nattempt to alter or restrict the recipients' rights in the Source Code\nForm.\n\n3.2. Distribution of Executable Form\n\nIf You distribute Covered Software in Executable Form then:\n\n(a) such Covered Software must also be made available in Source Code\n    Form, as described in Section 3.1, and You must inform recipients of\n    the Executable Form how they can obtain a copy of such Source Code\n    Form by reasonable means in a timely manner, at a charge no more\n    than the cost of distribution to the recipient; and\n\n(b) You may distribute such Executable Form under the terms of this\n    License, or sublicense it under different terms, provided that the\n    license for the Executable Form does not attempt to limit or alter\n    the recipients' rights in the Source Code Form under this License.\n\n3.3. Distribution of a Larger Work\n\nYou may create and distribute a Larger Work under terms of Your choice,\nprovided that You also comply with the requirements of this License for\nthe Covered Software. If the Larger Work is a combination of Covered\nSoftware with a work governed by one or more Secondary Licenses, and the\nCovered Software is not Incompatible With Secondary Licenses, this\nLicense permits You to additionally distribute such Covered Software\nunder the terms of such Secondary License(s), so that the recipient of\nthe Larger Work may, at their option, further distribute the Covered\nSoftware under the terms of either this License or such Secondary\nLicense(s).\n\n3.4. Notices\n\nYou may not remove or alter the substance of any license notices\n(including copyright notices, patent notices, disclaimers of warranty,\nor limitations of liability) contained within the Source Code Form of\nthe Covered Software, except that You may alter any license notices to\nthe extent required to remedy known factual inaccuracies.\n\n3.5. Application of Additional Terms\n\nYou may choose to offer, and to charge a fee for, warranty, support,\nindemnity or liability obligations to one or more recipients of Covered\nSoftware. However, You may do so only on Your own behalf, and not on\nbehalf of any Contributor. You must make it absolutely clear that any\nsuch warranty, support, indemnity, or liability obligation is offered by\nYou alone, and You hereby agree to indemnify every Contributor for any\nliability incurred by such Contributor as a result of warranty, support,\nindemnity or liability terms You offer. You may include additional\ndisclaimers of warranty and limitations of liability specific to any\njurisdiction.\n\n4. Inability to Comply Due to Statute or Regulation\n---------------------------------------------------\n\nIf it is impossible for You to comply with any of the terms of this\nLicense with respect to some or all of the Covered Software due to\nstatute, judicial order, or regulation then You must: (a) comply with\nthe terms of this License to the maximum extent possible; and (b)\ndescribe the limitations and the code they affect. Such description must\nbe placed in a text file included with all distributions of the Covered\nSoftware under this License. Except to the extent prohibited by statute\nor regulation, such description must be sufficiently detailed for a\nrecipient of ordinary skill to be able to understand it.\n\n5. Termination\n--------------\n\n5.1. The rights granted under this License will terminate automatically\nif You fail to comply with any of its terms. However, if You become\ncompliant, then the rights granted under this License from a particular\nContributor are reinstated (a) provisionally, unless and until such\nContributor explicitly and finally terminates Your grants, and (b) on an\nongoing basis, if such Contributor fails to notify You of the\nnon-compliance by some reasonable means prior to 60 days after You have\ncome back into compliance. Moreover, Your grants from a particular\nContributor are reinstated on an ongoing basis if such Contributor\nnotifies You of the non-compliance by some reasonable means, this is the\nfirst time You have received notice of non-compliance with this License\nfrom such Contributor, and You become compliant prior to 30 days after\nYour receipt of the notice.\n\n5.2. If You initiate litigation against any entity by asserting a patent\ninfringement claim (excluding declaratory judgment actions,\ncounter-claims, and cross-claims) alleging that a Contributor Version\ndirectly or indirectly infringes any patent, then the rights granted to\nYou by any and all Contributors for the Covered Software under Section\n2.1 of this License shall terminate.\n\n5.3. In the event of termination under Sections 5.1 or 5.2 above, all\nend user license agreements (excluding distributors and resellers) which\nhave been validly granted by You or Your distributors under this License\nprior to termination shall survive termination.\n\n************************************************************************\n*                                                                      *\n*  6. Disclaimer of Warranty                                           *\n*  -------------------------                                           *\n*                                                                      *\n*  Covered Software is provided under this License on an \"as is\"       *\n*  basis, without warranty of any kind, either expressed, implied, or  *\n*  statutory, including, without limitation, warranties that the       *\n*  Covered Software is free of defects, merchantable, fit for a        *\n*  particular purpose or non-infringing. The entire risk as to the     *\n*  quality and performance of the Covered Software is with You.        *\n*  Should any Covered Software prove defective in any respect, You     *\n*  (not any Contributor) assume the cost of any necessary servicing,   *\n*  repair, or correction. This disclaimer of warranty constitutes an   *\n*  essential part of this License. No use of any Covered Software is   *\n*  authorized under this License except under this disclaimer.         *\n*                                                                      *\n************************************************************************\n\n************************************************************************\n*                                                                      *\n*  7. Limitation of Liability                                          *\n*  --------------------------                                          *\n*                                                                      *\n*  Under no circumstances and under no legal theory, whether tort      *\n*  (including negligence), contract, or otherwise, shall any           *\n*  Contributor, or anyone who distributes Covered Software as          *\n*  permitted above, be liable to You for any direct, indirect,         *\n*  special, incidental, or consequential damages of any character      *\n*  including, without limitation, damages for lost profits, loss of    *\n*  goodwill, work stoppage, computer failure or malfunction, or any    *\n*  and all other commercial damages or losses, even if such party      *\n*  shall have been informed of the possibility of such damages. This   *\n*  limitation of liability shall not apply to liability for death or   *\n*  personal injury resulting from such party's negligence to the       *\n*  extent applicable law prohibits such limitation. Some               *\n*  jurisdictions do not allow the exclusion or limitation of           *\n*  incidental or consequential damages, so this exclusion and          *\n*  limitation may not apply to You.                                    *\n*                                                                      *\n************************************************************************\n\n8. Litigation\n-------------\n\nAny litigation relating to this License may be brought only in the\ncourts of a jurisdiction where the defendant maintains its principal\nplace of business and such litigation shall be governed by laws of that\njurisdiction, without reference to its conflict-of-law provisions.\nNothing in this Section shall prevent a party's ability to bring\ncross-claims or counter-claims.\n\n9. Miscellaneous\n----------------\n\nThis License represents the complete agreement concerning the subject\nmatter hereof. If any provision of this License is held to be\nunenforceable, such provision shall be reformed only to the extent\nnecessary to make it enforceable. Any law or regulation which provides\nthat the language of a contract shall be construed against the drafter\nshall not be used to construe this License against a Contributor.\n\n10. Versions of the License\n---------------------------\n\n10.1. New Versions\n\nMozilla Foundation is the license steward. Except as provided in Section\n10.3, no one other than the license steward has the right to modify or\npublish new versions of this License. Each version will be given a\ndistinguishing version number.\n\n10.2. Effect of New Versions\n\nYou may distribute the Covered Software under the terms of the version\nof the License under which You originally received the Covered Software,\nor under the terms of any subsequent version published by the license\nsteward.\n\n10.3. Modified Versions\n\nIf you create software not governed by this License, and you want to\ncreate a new license for such software, you may create and use a\nmodified version of this License if you rename the license and remove\nany references to the name of the license steward (except to note that\nsuch modified license differs from this License).\n\n10.4. Distributing Source Code Form that is Incompatible With Secondary\nLicenses\n\nIf You choose to distribute Source Code Form that is Incompatible With\nSecondary Licenses under the terms of this version of the License, the\nnotice described in Exhibit B of this License must be attached.\n</code></pre>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#netsourceforgehtmlunitneko-htmlunit","level":3,"title":"net.sourceforge.htmlunit:neko-htmlunit","text":"<p>Apache 2.0</p> <p>https://github.com/HtmlUnit/htmlunit-neko</p> <pre><code>                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n</code></pre>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#nuvalidatorjing","level":3,"title":"nu.validator:jing","text":"<p>BSD-3-Clause</p> <p>http://www.thaiopensource.com/relaxng/jing.html</p> <pre><code>Copyright (c) 2001-2003 Thai Open Source Software Center Ltd\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions\nare met:\n\n* Redistributions of source code must retain the above copyright\n  notice, this list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above\n  copyright notice, this list of conditions and the following\n  disclaimer in the documentation and/or other materials provided\n  with the distribution.\n\n* Neither the name of the Thai Open Source Software Center Ltd nor\n  the names of its contributors may be used to endorse or promote\n  products derived from this software without specific prior\n  written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND\nCONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\nINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE\nLIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,\nOR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\nPROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\nPROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR\nTORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF\nTHE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\nSUCH DAMAGE.\n</code></pre>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#orgnokogirinekodtd","level":3,"title":"org.nokogiri:nekodtd","text":"<p>Apache 2.0</p> <p>https://github.com/sparklemotion/nekodtd</p> <pre><code>                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n</code></pre>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#xalanserializer-and-xalanxalan","level":3,"title":"xalan:serializer and xalan:xalan","text":"<p>Apache 2.0</p> <p>https://xml.apache.org/xalan-j/</p> <pre><code>                                Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n</code></pre>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#xercesxercesimpl","level":3,"title":"xerces:xercesImpl","text":"<p>Apache 2.0</p> <p>https://xerces.apache.org/xerces2-j/</p> <pre><code>                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n</code></pre>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE-DEPENDENCIES.html#xml-apisxml-apis","level":3,"title":"xml-apis:xml-apis","text":"<p>Apache 2.0</p> <p>https://xerces.apache.org/xml-commons/</p> <pre><code>Unless otherwise noted all files in XML Commons are covered under the\nApache License Version 2.0. Please read the LICENSE and NOTICE files.\n\nXML Commons contains some software and documentation that is covered\nunder a number of different licenses. This applies particularly to the\nxml-commons/java/external/ directory. Most files under\nxml-commons/java/external/ are covered under their respective\nLICENSE.*.txt files; see the matching README.*.txt files for\ndescriptions.\n\n\n                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n</code></pre>","path":["About","Vendored Dependency Licenses"],"tags":[]},{"location":"LICENSE.html","level":1,"title":"LICENSE","text":"<p>The MIT License</p> <p>Copyright 2008 -- 2023 by Mike Dalessio, Aaron Patterson, Yoko Harada, Akinori MUSHA, John Shahid, Karol Bucek, Sam Ruby, Craig Barnes, Stephen Checkoway, Lars Kanis, Sergio Arbeo, Timothy Elliott, Nobuyoshi Nakada, Charles Nutter, Patrick Mahoney.</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>","path":["About","LICENSE"],"tags":[]},{"location":"ROADMAP.html","level":1,"title":"Roadmap for API Changes","text":"","path":["About","Roadmap for API Changes"],"tags":[]},{"location":"ROADMAP.html#overhaul-serializepretty-printing-api","level":2,"title":"overhaul serialize/pretty printing API","text":"<ul> <li> <p>#530   XHTML formatting can't be turned off</p> </li> <li> <p>#415   XML formatting should be no formatting</p> </li> </ul>","path":["About","Roadmap for API Changes"],"tags":[]},{"location":"ROADMAP.html#overhaul-and-optimize-the-sax-parsing","level":2,"title":"overhaul and optimize the SAX parsing","text":"<ul> <li>see fairy wing throwdown - SAX parsing is wicked slow.</li> </ul>","path":["About","Roadmap for API Changes"],"tags":[]},{"location":"ROADMAP.html#node-should-not-be-enumerable-and-should-have-a-better-attributes-api","level":2,"title":"Node should not be Enumerable; and should have a better attributes API","text":"<ul> <li> <p>#679   Mixing in Enumerable has some unintended consequences; plus we want to improve the attributes API</p> </li> <li> <p>Some ideas for a better attributes API?</p> <ul> <li>(closed) #666</li> <li>#765</li> </ul> </li> </ul>","path":["About","Roadmap for API Changes"],"tags":[]},{"location":"ROADMAP.html#improve-css-query-parsing","level":2,"title":"improve CSS query parsing","text":"<ul> <li> <p>#528   support <code>:not()</code> with a nontrivial argument, like <code>:not(div p.c)</code></p> </li> <li> <p>#451   chained :not pseudoselectors</p> </li> <li> <p>better jQuery selector and CSS pseudo-selector support:</p> <ul> <li>#621</li> <li>#342</li> <li>#628</li> <li>#652</li> <li>#688</li> </ul> </li> <li> <p>#394   nth-of-type is wrong, and possibly other selectors as well</p> </li> <li> <p>#309   incorrect query being executed</p> </li> <li> <p>#350   :has is wrong?</p> </li> </ul>","path":["About","Roadmap for API Changes"],"tags":[]},{"location":"ROADMAP.html#documentfragment","level":2,"title":"DocumentFragment","text":"<ul> <li>there are a few tickets about searches not working properly if you   use or do not use the context node as part of the search.<ul> <li>#213</li> <li>#370</li> <li>#454</li> <li>#572   could we fix this by making DocumentFragment be a subclass of NodeSet?</li> </ul> </li> </ul>","path":["About","Roadmap for API Changes"],"tags":[]},{"location":"ROADMAP.html#better-syntax-for-custom-xpath-function-handler","level":2,"title":"Better Syntax for custom XPath function handler","text":"<ul> <li>PR#464</li> </ul>","path":["About","Roadmap for API Changes"],"tags":[]},{"location":"ROADMAP.html#better-syntax-around-nodexpath-and-nodesetxpath","level":2,"title":"Better Syntax around Node#xpath and NodeSet#xpath","text":"<ul> <li>look at those methods, and use of Node#extract_params in Node#{css,search}<ul> <li>we should standardize on a hash of options for these and other calls</li> </ul> </li> <li>what should NodeSet#xpath return?<ul> <li>#656</li> </ul> </li> </ul>","path":["About","Roadmap for API Changes"],"tags":[]},{"location":"ROADMAP.html#encoding","level":2,"title":"Encoding","text":"<p>We have a lot of issues open around encoding. How bad are things? Somebody who knows encoding well should head this up.</p> <ul> <li>Extract EncodingReader as a real object that can be injected   https://groups.google.com/forum/#!msg/nokogiri-talk/arJeAtMqvkg/tGihB-iBRSAJ</li> </ul>","path":["About","Roadmap for API Changes"],"tags":[]},{"location":"ROADMAP.html#reader","level":2,"title":"Reader","text":"<p>It's fundamentally broken, in that we can't stop people from crashing their application if they want to use object reference unsafely.</p>","path":["About","Roadmap for API Changes"],"tags":[]},{"location":"ROADMAP.html#class-methods-that-require-document","level":2,"title":"Class methods that require Document","text":"<p>There are a few methods, like <code>Nokogiri::XML::Comment.new</code> that require a Document object.</p> <p>We should probably make Document instance methods to wrap this, since it's a non-obvious expectation and thus fails as a convention.</p> <p>So, instead, let's make alternative methods like <code>Nokogiri::XML::Document#new_comment</code>, and recommend those as the proper convention.</p>","path":["About","Roadmap for API Changes"],"tags":[]},{"location":"ROADMAP.html#collect_namespaces-is-just-broken","level":2,"title":"<code>collect_namespaces</code> is just broken","text":"<p><code>collect_namespaces</code> is returning a hash, which means it can't return namespaces with the same prefix. See this issue for background:</p> <p>#885</p> <p>Do we care? This seems like a useless method, but then again I hate XML, so what do I know?</p>","path":["About","Roadmap for API Changes"],"tags":[]},{"location":"ROADMAP.html#overhaul-parseoptions","level":2,"title":"Overhaul <code>ParseOptions</code>","text":"<p>Currently we mirror libxml2's parse options, and then retrofit those options on top of Xerces-J for JRuby.</p> <ul> <li>I'd like to identify which options work across both parsers,</li> <li>And overhaul the parse methods so that these options are easier to use.</li> </ul> <p>By \"easier to use\" I mean:</p> <ul> <li>it's unwieldy to create a block to set/unset parse options</li> <li>it's unwieldy to create a constant like <code>MY_PARSE_OPTIONS = Nokogiri::XML::ParseOptions::STRICT | Nokogiri::XML::ParseOptions::RECOVER ...</code></li> <li>some options are named dangerously poorly, like <code>NOENT</code> which does the opposite of what it says</li> <li>semantically some options should be set/unset together, specifically \"this is a trusted document\" or \"this is an untrusted document\" should flip the senses of <code>NONET</code> and <code>NOENT</code> and <code>DTDLOAD</code> together.</li> <li>we need the ability to invent new parse options, like the one suggested in #1582 that would allow local entities but not external entities.</li> </ul>","path":["About","Roadmap for API Changes"],"tags":[]},{"location":"SECURITY.html","level":1,"title":"Security and Vulnerability Reporting","text":"<p>The Nokogiri Core Contributors take security very seriously and investigate all reported vulnerabilities.</p> <p>If you would like to report a vulnerability or have a security concern regarding Nokogiri or how Nokogiri is using any of its underlying platform-specific libraries (such as libxml2 or xerces), please report it via HackerOne.</p> <p>Your report will be acknowledged within 24 hours, and you'll receive a more detailed response within 72 hours indicating next steps in handling your report.</p> <p>If you have not received a reply to your submission within 48 hours, there are a few steps you can take:</p> <ul> <li>Contact the current security coordinator (Mike Dalessio mike.dalessio@gmail.com)</li> <li>Contact the core contributor mailing list (nokogiri-core@googlegroups.com)</li> <li>Join the nokogiri-talk group</li> </ul> <p>Please note, the nokogiri-talk list is a public area. When escalating in that venue, please do not discuss your issue. Simply say that you're trying to get a hold of someone from the core team.</p> <p>The information you share with the Nokogiri Core Contributors as part of this process will be kept confidential within the team, unless or until we need to share information upstream with our dependent libraries' core teams, at which point we will notify you.</p> <p>If a vulnerability is first reported by you, we will credit you with the discovery in the public disclosure.</p>","path":["About","Security and Vulnerability Reporting"],"tags":[]},{"location":"privacy-policy.html","level":1,"title":"Privacy policy","text":"<p>This site uses cookies to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <p>Click here to modify your cookie settings.</p>","path":["About","Privacy policy"],"tags":[]},{"location":"tidelift-landing.html","level":1,"title":"Nokogiri for Enterprise","text":"","path":["Support","Nokogiri for Enterprise"],"tags":[]},{"location":"tidelift-landing.html#available-as-part-of-the-tidelift-subscription","level":2,"title":"Available as part of the Tidelift Subscription","text":"<p>Tidelift is working with the maintainers of Nokogiri and thousands of other open source projects to deliver commercial support and maintenance for the open source dependencies you use to build your applications. Save time, reduce risk, and improve code health, while paying the maintainers of the exact dependencies you use.</p> Learn More Request a Demo","path":["Support","Nokogiri for Enterprise"],"tags":[]},{"location":"tidelift-landing.html#enterprise-ready-open-source-software-managed-for-you","level":2,"title":"Enterprise-ready open source software \u2014 managed for you","text":"<p>The Tidelift Subscription is a managed open source subscription for application dependencies covering millions of open source projects across JavaScript, Python, Java, PHP, Ruby, .NET, and more.</p> <p>Your subscription includes:</p>","path":["Support","Nokogiri for Enterprise"],"tags":[]},{"location":"tidelift-landing.html#security-updates","level":3,"title":"Security updates","text":"<p>Tidelift\u2019s security response team coordinates patches for new breaking security vulnerabilities and alerts immediately through a private channel, so your software supply chain is always secure.</p>","path":["Support","Nokogiri for Enterprise"],"tags":[]},{"location":"tidelift-landing.html#licensing-verification-and-indemnification","level":3,"title":"Licensing verification and indemnification","text":"<p>Tidelift verifies license information to enable easy policy enforcement and adds intellectual property indemnification to cover creators and users in case something goes wrong. You always have a 100% up-to-date bill of materials for your dependencies to share with your legal team, customers, or partners.</p>","path":["Support","Nokogiri for Enterprise"],"tags":[]},{"location":"tidelift-landing.html#maintenance-and-code-improvement","level":3,"title":"Maintenance and code improvement","text":"<p>Tidelift ensures the software you rely on keeps working as long as you need it to work. Your managed dependencies are actively maintained and we recruit additional maintainers where required.</p>","path":["Support","Nokogiri for Enterprise"],"tags":[]},{"location":"tidelift-landing.html#package-selection-and-version-guidance","level":3,"title":"Package selection and version guidance","text":"<p>We help you choose the best open source packages from the start\u2014and then guide you through updates to stay on the best releases as new issues arise.</p>","path":["Support","Nokogiri for Enterprise"],"tags":[]},{"location":"tidelift-landing.html#roadmap-input","level":3,"title":"Roadmap input","text":"<p>Take a seat at the table with the creators behind the software you use. Tidelift\u2019s participating maintainers earn more income as their software is used by more subscribers, so they\u2019re interested in knowing what you need.</p>","path":["Support","Nokogiri for Enterprise"],"tags":[]},{"location":"tidelift-landing.html#tooling-and-cloud-integration","level":3,"title":"Tooling and cloud integration","text":"<p>Tidelift works with GitHub, GitLab, BitBucket, and more. We support every cloud platform (and other deployment targets, too).</p>","path":["Support","Nokogiri for Enterprise"],"tags":[]},{"location":"tidelift-landing.html#the-end-result","level":2,"title":"The end result?","text":"<p>All of the capabilities you expect from commercial-grade software, for the full breadth of open source you use. That means less time grappling with esoteric open source trivia, and more time building your own applications\u2014and your business.</p> Learn More Request a Demo <p> </p>","path":["Support","Nokogiri for Enterprise"],"tags":[]},{"location":"adr/2022-12-darwin-symbol-resolution.html","level":1,"title":"2022-12 Hide libxml2 and libxslt symbols on Darwin in Ruby 3.2 native gem","text":"","path":["Changelog","2022-12 Hide libxml2 and libxslt symbols on Darwin in Ruby 3.2 native gem"],"tags":[]},{"location":"adr/2022-12-darwin-symbol-resolution.html#status","level":2,"title":"Status","text":"<p>Accepted, but reversible if an alternative technical solution can be found.</p>","path":["Changelog","2022-12 Hide libxml2 and libxslt symbols on Darwin in Ruby 3.2 native gem"],"tags":[]},{"location":"adr/2022-12-darwin-symbol-resolution.html#context","level":2,"title":"Context","text":"<p>In the final days of shipping Nokogiri v1.14.0 with native (precompiled) support for Ruby 3.2, we're struggling a bit with symbol resolution.</p> <p>Ruby 3.2, when compiling on Darwin, uses the <code>-bundle_loader</code> linker flag to resolve symbols against the Ruby executable as if it were a shared library. (This means that, when running a Ruby compiled with the <code>--enable-shared</code> flag, that the extension will fail to resolve Ruby symbols like <code>rb_cObject</code>.)</p> <p>We can work around that with the <code>-flat_namespace</code> linker flag, which mimics the behavior we already see on Linux and allows us to resolve these symbols at runtime. But for reasons I don't fully understand, many Rubies on Darwin seem to load the libxml2 and libxslt dylibs that ship with XCode commandline tools (\"CLT\"), and so every libxml2 symbol is a collision and resolves to the wrong libxml2 (not the version we've patched and statically linked into the extension).</p> <p>To work around this last problem, the best solution we know of right now seems to be to avoid exporting those symbols by using the <code>-load_hidden</code> flag (or a similar mechanism, there are several we could choose from).</p>","path":["Changelog","2022-12 Hide libxml2 and libxslt symbols on Darwin in Ruby 3.2 native gem"],"tags":[]},{"location":"adr/2022-12-darwin-symbol-resolution.html#decision","level":2,"title":"Decision","text":"<p>Nokogiri v1.14.0's precompiled native gem for Darwin (MacOS) Ruby 3.2 will be built with:</p> <ul> <li>the <code>-flat_namespace</code> flag to ensure the extension can be used by both <code>--enable-shared</code> and <code>--disable-shared</code> Rubies,</li> <li>and the <code>-load_hidden</code> flag for both <code>libxml2</code> and <code>libxslt</code> to avoid accidentally resolving to non-vendored versions of those libraries</li> </ul>","path":["Changelog","2022-12 Hide libxml2 and libxslt symbols on Darwin in Ruby 3.2 native gem"],"tags":[]},{"location":"adr/2022-12-darwin-symbol-resolution.html#consequences","level":2,"title":"Consequences","text":"<p>This would prevent accidental symbol collisions such as the https://github.com/sparklemotion/nokogiri/pull/2106 on Linux, and would ensure that we always pull in the desired version of libxml2, avoiding problems like the ones we're currently experiencing with Ruby 3.2 (see https://github.com/rake-compiler/rake-compiler-dock/issues/87 for extended discussion and more links).</p> <p>This would also, however, prevent a small but non-zero number of downstream gems from integrating with Nokogiri's C API, or the C API of libxml2, libxslt, or libgumbo. A notable gem that did this was https://github.com/rubys/nokogumbo (now merged into Nokogiri itself). Another notable gem that I know that does this is <code>nokogiri-xmlsec</code> (and the various forks of it, the most popular seems to be https://github.com/instructure/nokogiri-xmlsec-instructure). So this may prevent experimentation and innovation (see Nokogumbo) as well as putting hurdles in front of useful integrations like xmlsec.</p>","path":["Changelog","2022-12 Hide libxml2 and libxslt symbols on Darwin in Ruby 3.2 native gem"],"tags":[]},{"location":"adr/2022-12-darwin-symbol-resolution.html#alternatives-considered","level":2,"title":"Alternatives considered","text":"<p>Remove the <code>-bundle_loader</code> flag from the link line. Although this works, it feels a bit like fighting the toolchain and the Ruby core team. It's a bit more complicated of a solution, it's harder for me to reason about, and I'm not positive we won't discover some weird side effect later on.</p> <p>Fully hide all symbols everywhere is taking the chosen solution to the extreme, and may be what we decide to do in the future (see RFC: Stop exporting symbols \u00b7 Discussion #2746 \u00b7 sparklemotion/nokogiri). For now, though, I'd like to keep our options open and not break compatibility completely in this v1.14.0 release. By only doing this where we're forced to, we have a chance to learn about how the API is being used, and also buy some time to hear feedback and to find an alternative solution.</p> <p>Stop precompiling or Stop vendoring libraries should always be options we consider, because offering native gems and vendoring libraries introduces complexity. However, I covered many of the reasons I think it's good for Nokogiri to do this in my RubyConf 2021 talk titled \"Building Native Extensions. This Could Take A While...\" and those reasons are still valid, notably our ability to patch libxml2 for performance (see #2144), functional (see #2403), or security (see #2294) reasons.</p>","path":["Changelog","2022-12 Hide libxml2 and libxslt symbols on Darwin in Ruby 3.2 native gem"],"tags":[]},{"location":"adr/2022-12-darwin-symbol-resolution.html#references","level":2,"title":"References","text":"<ul> <li>Ruby commit introducing <code>-bundle_loader</code>: https://github.com/ruby/ruby/commit/50d81bf</li> <li>The PR implementing this decision is dep: add ruby 3.2 support by flavorjones \u00b7 Pull Request #2732 \u00b7 sparklemotion/nokogiri</li> <li>Future symbol visibility decision will be made at RFC: Stop exporting symbols \u00b7 Discussion #2746 \u00b7 sparklemotion/nokogiri</li> <li>Background context and solution details at</li> <li>[Ruby 3.2] having runtime issues on darwin \u00b7 Issue #87 \u00b7 rake-compiler/rake-compiler-dock</li> <li>https://github.com/stevecheckoway/bundle_test</li> <li>explore whether `-load_hidden` will work around flat namespace by flavorjones \u00b7 Pull Request #1 \u00b7 stevecheckoway/bundle_test</li> <li>Video from Apple explaining the Darwin toolchain changes</li> </ul>","path":["Changelog","2022-12 Hide libxml2 and libxslt symbols on Darwin in Ruby 3.2 native gem"],"tags":[]},{"location":"adr/2023-04-libxml-memory-management.html","level":1,"title":"2023-04 Sticking with <code>ruby_xmalloc</code> and <code>ruby_xfree</code> functions in libxml2","text":"","path":["Changelog","2023-04 Sticking with ruby_xmalloc and ruby_xfree functions in libxml2"],"tags":[]},{"location":"adr/2023-04-libxml-memory-management.html#status","level":2,"title":"Status","text":"<p>Affirming the status quo since 2009 -- to use <code>ruby_xmalloc</code> et al -- but alternative behavior can be opted into by setting an environment variable:</p> <pre><code># \"default\" here means \"libxml2's default\" which is system malloc\nNOKOGIRI_LIBXML_MEMORY_MANAGEMENT=default\n</code></pre>","path":["Changelog","2023-04 Sticking with ruby_xmalloc and ruby_xfree functions in libxml2"],"tags":[]},{"location":"adr/2023-04-libxml-memory-management.html#context","level":2,"title":"Context","text":"","path":["Changelog","2023-04 Sticking with ruby_xmalloc and ruby_xfree functions in libxml2"],"tags":[]},{"location":"adr/2023-04-libxml-memory-management.html#why-nokogiri-originally-configured-libxml2-with-ruby_xmalloc-and-ruby_xfree","level":3,"title":"Why Nokogiri originally configured libxml2 with <code>ruby_xmalloc</code> and <code>ruby_xfree</code>","text":"<p>Since 2009, (0dbe1f82), Nokogiri has configured libxml2 to use <code>ruby_xmalloc</code> et al for memory operations by making this call in <code>Init_nokogiri</code>:</p> <pre><code>  xmlMemSetup(\n    (xmlFreeFunc)ruby_xfree,\n    (xmlMallocFunc)ruby_xmalloc,\n    (xmlReallocFunc)ruby_xrealloc,\n    ruby_strdup);\n</code></pre> <p>The reason for doing this is so that Ruby's garbage collection (\"GC\") subsystem can track the total heap size, including <code>malloc</code> calls by C extensions, and is then able to trigger a GC cycle if the total amount of allocated memory exceeds a limit.</p> <p>@SamSaffron has a great post that explains how this works, and the antipatterns that can emerge if Ruby is not aware of large amount of allocated memory, and I highly recommend that you read it for context:</p> <p>Ruby's external malloc problem - ruby - Sam Saffron's Blog</p>","path":["Changelog","2023-04 Sticking with ruby_xmalloc and ruby_xfree functions in libxml2"],"tags":[]},{"location":"adr/2023-04-libxml-memory-management.html#problems","level":2,"title":"Problems","text":"","path":["Changelog","2023-04 Sticking with ruby_xmalloc and ruby_xfree functions in libxml2"],"tags":[]},{"location":"adr/2023-04-libxml-memory-management.html#problem-memory-edge-cases","level":3,"title":"Problem: Memory edge cases","text":"<p>We've recently run into a few situations where using <code>ruby_xmalloc</code> et al was problematic.</p> <ul> <li>https://github.com/sparklemotion/nokogiri/issues/2059 and https://github.com/sparklemotion/nokogiri/issues/2241 describe situations where libxml2's <code>atexit</code> handler called <code>ruby_xfree</code> after ObjectSpace was torn down, causing a segfault</li> <li>https://github.com/sparklemotion/nokogiri/pull/2807 and https://github.com/sparklemotion/nokogiri/issues/2822 describe a situation where Nokogiri's node lifecycle handling causes libxml2 to merge text nodes (calling <code>ruby_xmalloc</code> and <code>ruby_xfree</code>) while finalizing a Document, preventing the use of <code>RUBY_TYPED_FREE_IMMEDIATELY</code> for Documents</li> <li>https://github.com/sparklemotion/nokogiri/issues/2785 describes a situation where libxml2's pthread cleanup code can call <code>ruby_xfree</code> after ObjectSpace was torn down, causing a segfault</li> </ul> <p>All the issues have the same root cause: calling <code>ruby_xfree</code> in an inappropriate situation, either:</p> <ul> <li>during GC, or</li> <li>after Ruby's object space has been torn down</li> </ul> <p>These situations would not be inappropriate for using system <code>malloc</code> and <code>free</code>.</p>","path":["Changelog","2023-04 Sticking with ruby_xmalloc and ruby_xfree functions in libxml2"],"tags":[]},{"location":"adr/2023-04-libxml-memory-management.html#problem-libxml2-performance","level":3,"title":"Problem: libxml2 performance","text":"<p>Using <code>ruby_xmalloc</code> and <code>ruby_xfree</code> has a real performance penalty, as well. Benchmarks at https://github.com/sparklemotion/nokogiri/pull/2843 indicate this penalty can make document parsing up to 34% slower than when the system <code>malloc</code> and <code>free</code> are used.</p>","path":["Changelog","2023-04 Sticking with ruby_xmalloc and ruby_xfree functions in libxml2"],"tags":[]},{"location":"adr/2023-04-libxml-memory-management.html#alternatives-considered","level":2,"title":"Alternatives considered","text":"","path":["Changelog","2023-04 Sticking with ruby_xmalloc and ruby_xfree functions in libxml2"],"tags":[]},{"location":"adr/2023-04-libxml-memory-management.html#system-malloc","level":3,"title":"System <code>malloc</code>","text":"<p>The primary alternative considered is defaulting to using the system <code>malloc</code> and <code>free</code>.</p> <p>However, Sam's blog post (as well as other anecdotal data) makes a great case for being extremely careful about the choice of memory management functions.</p> <p>Without more data, we're declining to change this behavior. But we are introducing the ability to collect some data by providing a runtime option for selecting the memory management suite.</p>","path":["Changelog","2023-04 Sticking with ruby_xmalloc and ruby_xfree functions in libxml2"],"tags":[]},{"location":"adr/2023-04-libxml-memory-management.html#frankenstein-malloc","level":3,"title":"Frankenstein <code>malloc</code>","text":"<p>Maybe it's possible to build custom memory management functions that perform better but have some of the benefits of the ruby allocator? This feels well beyond the scope of a C extension.</p> <p>After an inspection of the ruby memory management functions, it wasn't obvious to the author that there's an obvious performance win by eliminating one or the other of a) conditionally invoking GC if <code>malloc</code> fails, or b) tracking the number of bytes allocated using <code>rb_gc_adjust_memory_usage</code>.</p> <p>We would welcome experimental results if other people are motivated to try something like this, though.</p>","path":["Changelog","2023-04 Sticking with ruby_xmalloc and ruby_xfree functions in libxml2"],"tags":[]},{"location":"adr/2023-04-libxml-memory-management.html#decision","level":2,"title":"Decision","text":"<p>We're sticking with <code>ruby_xmalloc</code> et al for now. But we're also introducing an environment variable to allow people to experiment with the system <code>malloc</code> if they wish.</p>","path":["Changelog","2023-04 Sticking with ruby_xmalloc and ruby_xfree functions in libxml2"],"tags":[]},{"location":"adr/2023-04-libxml-memory-management.html#consequences","level":2,"title":"Consequences","text":"<p>No changes to the status quo.</p>","path":["Changelog","2023-04 Sticking with ruby_xmalloc and ruby_xfree functions in libxml2"],"tags":[]},{"location":"adr/2023-04-libxml-memory-management.html#references","level":2,"title":"References","text":"<p>Memory-related issues:</p> <ul> <li>https://github.com/sparklemotion/nokogiri/issues/2059 (2020)</li> <li>https://github.com/sparklemotion/nokogiri/issues/2241 (2021)</li> <li>https://github.com/sparklemotion/nokogiri/issues/2785 (2023)</li> <li>https://github.com/sparklemotion/nokogiri/pull/2807 (2023)</li> <li>https://github.com/sparklemotion/nokogiri/issues/2822 (2023)</li> </ul> <p>Upstream libxml2 exit-time issues, commits, and discussion:</p> <ul> <li>Fix memory leak when shared libxml.dll is unloaded (!66)</li> <li>dlclosing libxml2 with threads crashes (#153)</li> <li>Call xmlCleanupParser on ELF destruction (!72)</li> <li>Check for custom free function in global destructor (956534e0)</li> </ul> <p>Performance-related discussion:</p> <ul> <li>https://github.com/sparklemotion/nokogiri/issues/2722</li> <li>https://github.com/sparklemotion/nokogiri/pull/2734</li> <li>https://github.com/sparklemotion/nokogiri/pull/2843</li> </ul>","path":["Changelog","2023-04 Sticking with ruby_xmalloc and ruby_xfree functions in libxml2"],"tags":[]},{"location":"misc/CHANGELOG-archive.html","level":1,"title":"Nokogiri Changelog Archive","text":"<p>These are the release notes for older versions. For current releases, see CHANGELOG.md.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1157-2024-12-02","level":2,"title":"1.15.7 / 2024-12-02","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] When serializing HTML5 documents, properly escape foreign content \"style\" elements. Normally, a \"style\" tag contains  raw text that does not need entity-escaping, but when it appears in either SVG or MathML foreign content, the \"style\" tag is now correctly escaped when serialized. @flavorjones</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1156-2024-03-16","level":2,"title":"1.15.6 / 2024-03-16","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security","level":3,"title":"Security","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to address CVE-2024-25062. See GHSA-xc9x-jj77-9p9j for more information.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.11.7 from v2.11.6. For details please see https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.7</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1155-2023-11-17","level":2,"title":"1.15.5 / 2023-11-17","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_1","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.11.6 from v2.11.5. For details please see https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.6</li> <li>[CRuby] Vendored libxslt is updated to v1.1.39 from v1.1.38. For details please see https://gitlab.gnome.org/GNOME/libxslt/-/releases/v1.1.39</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1154-2023-08-11","level":2,"title":"1.15.4 / 2023-08-11","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_2","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.11.5 from v2.11.4. For details please see https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.5</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_1","level":3,"title":"Fixed","text":"<ul> <li>Fixed a typo in a HTML5 parser error message. [#2927] (@anishathalye)</li> <li>[CRuby] <code>ObjectSpace.memsize_of</code> is now safe to call on <code>Document</code>s with complex DTDs. In previous versions, this debugging method could result in a segfault. [#2923, #2924]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1153-2023-07-05","level":2,"title":"1.15.3 / 2023-07-05","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_2","level":3,"title":"Fixed","text":"<ul> <li>Passing an object that is not a kind of <code>XML::Node</code> as the first parameter to <code>CDATA.new</code> now raises a <code>TypeError</code>. Previously this would result in either a segfault (CRuby) or a Java exception (JRuby). [#2920]</li> <li>Passing an object that is not a kind of <code>XML::Node</code> as the first parameter to <code>Schema.from_document</code> now raises a <code>TypeError</code>. Previously this would result in either a segfault (CRuby) or a Java exception (JRuby). [#2920]</li> <li>[CRuby] Passing an object that is not a kind of <code>XML::Node</code> as the second parameter to <code>Text.new</code> now raises a <code>TypeError</code>. Previously this would result in a segfault. [#2920]</li> <li>[CRuby] Replacing a node's children via methods like <code>Node#inner_html=</code>, <code>#children=</code>, and <code>#replace</code> no longer defensively dups the node's next sibling if it is a Text node. This behavior was originally adopted to work around libxml2's memory management (see #283 and #595) but should not have included operations involving <code>xmlAddChild()</code>. [#2916]</li> <li>[JRuby] Fixed NPE when serializing an unparented HTML node. [#2559, #2895] (@cbasguti)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1152-2023-05-24","level":2,"title":"1.15.2 / 2023-05-24","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_3","level":3,"title":"Dependencies","text":"<ul> <li>[JRuby] Vendored org.nokogiri:nekodtd is updated to v0.1.11.noko2. This is functionally equivalent to v0.1.11.noko1 but restores support for Java 8.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_3","level":3,"title":"Fixed","text":"<ul> <li>[JRuby] Java 8 support is restored, fixing a regression present in v1.14.0..v1.14.4 and v1.15.0..v1.15.1. [#2887]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1151-2023-05-19","level":2,"title":"1.15.1 / 2023-05-19","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_4","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.11.4 from v2.11.3. For details please see https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.4</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_4","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] The libxml2 update fixes an encoding regression when push-parsing UTF-8 sequences. [#2882, upstream issue and commit]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1150-2023-05-15","level":2,"title":"1.15.0 / 2023-05-15","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notes","level":3,"title":"Notes","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#ability-to-opt-into-system-malloc-and-free","level":4,"title":"Ability to opt into system <code>malloc</code> and <code>free</code>","text":"<p>Since 2009, Nokogiri has configured libxml2 to use <code>ruby_xmalloc</code> et al for memory management. This has provided benefits for memory management, but comes with a performance penalty.</p> <p>Users can now opt into using system <code>malloc</code> for libxml2 memory management by setting an environment variable:</p> <pre><code># \"default\" here means \"libxml2's default\" which is system malloc\nNOKOGIRI_LIBXML_MEMORY_MANAGEMENT=default\n</code></pre> <p>Benchmarks show that this setting will significantly improve performance, but be aware that the tradeoff may involve poorer memory management including bloated heap sizes and/or OOM conditions.</p> <p>You can read more about this in the decision record at <code>adr/2023-04-libxml-memory-management.md</code>.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_5","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.11.3 from v2.10.4. For details please see:</li> <li>https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.0</li> <li>https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.1</li> <li>https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.2</li> <li>https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.3</li> <li>[CRuby] Vendored libxslt is updated to v1.1.38 from v1.1.37. For details please see:</li> <li>https://gitlab.gnome.org/GNOME/libxslt/-/releases/v1.1.38</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added","level":3,"title":"Added","text":"<ul> <li><code>Encoding</code> objects may now be passed to serialization methods like <code>#to_xml</code>, <code>#to_html</code>, <code>#serialize</code>, and <code>#write_to</code> to specify the output encoding. Previously only encoding names (strings) were accepted. [#2774, #2798] (@ellaklara)</li> <li>[CRuby] Users may opt into using system <code>malloc</code> for libxml2 memory management. For more detail, see note above or <code>adr/2023-04-libxml-memory-management.md</code>.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#changed","level":3,"title":"Changed","text":"<ul> <li>[CRuby] <code>Schema.from_document</code> now makes a defensive copy of the document if it has blank text nodes with Ruby objects instantiated for them. This prevents unsafe behavior in libxml2 from causing a segfault. There is a small performance cost, but we think this has the virtue of being \"what the user meant\" since modifying the original is surprising behavior for most users. Previously this was addressed in v1.10.9 by raising an exception.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_5","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] <code>XSLT.transform</code> now makes a defensive copy of the document if it has blank text nodes with Ruby objects instantiated for them and the template uses <code>xsl:strip-spaces</code>. This prevents unsafe behavior in libxslt from causing a segfault. There is a small performance cost, but we think this has the virtue of being \"what the user meant\" since modifying the original is surprising behavior for most users. Previously this would allow unsafe memory access and potentially segfault. [#2800]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#improved","level":3,"title":"Improved","text":"<ul> <li><code>Nokogiri::XML::Node::SaveOptions#inspect</code> now shows the names of the options set in the bitmask, similar to <code>ParseOptions</code>. [#2767]</li> <li><code>#inspect</code> and pretty-printing are improved for <code>AttributeDecl</code>, <code>ElementContent</code>, <code>ElementDecl</code>, and <code>EntityDecl</code>.</li> <li>[CRuby] The C extension now uses Ruby's TypedData API for managing all the libxml2 structs. Write barriers may improve GC performance in some extreme cases. [#2808] (@etiennebarrie and @byroot)</li> <li>[CRuby] <code>ObjectSpace.memsize_of</code> reports a pretty good guess of memory usage when called on <code>Nokogiri::XML::Document</code> objects. [#2807] (@etiennebarrie and @byroot)</li> <li>[CRuby] Users installing the \"ruby\" platform gem and compiling libxml2 and libxslt from source will now be using a modern <code>config.guess</code> and <code>config.sub</code> that supports new architectures like <code>loongarch64</code>. [#2831] (@zhangwenlong8911)</li> <li>[CRuby] HTML5 parser:</li> <li>adjusts the specified attributes, adding <code>xlink:arcrole</code> and removing <code>xml:base</code> [#2841, #2842]</li> <li>allows <code>&lt;hr&gt;</code> in <code>&lt;select&gt;</code> [whatwg/html#3410, whatwg/html#9124]</li> <li>[JRuby] <code>Node#first_element_child</code> now returns <code>nil</code> if there are only non-element children. Previously a null pointer exception was raised. [#2808, #2844]</li> <li>Documentation for <code>Nokogiri::XSLT</code> now has usage examples including custom function handlers.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#deprecated","level":3,"title":"Deprecated","text":"<ul> <li>Passing a <code>Nokogiri::XML::Node</code> as the first parameter to <code>CDATA.new</code> is deprecated and will generate a warning. This parameter should be a kind of <code>Nokogiri::XML::Document</code>. This will become an error in a future version of Nokogiri.</li> <li>Passing a <code>Nokogiri::XML::Node</code> as the first parameter to <code>Schema.from_document</code> is deprecated and will generate a warning. This parameter should be a kind of <code>Nokogiri::XML::Document</code>. This will become an error in a future version of Nokogiri.</li> <li>Passing a <code>Nokogiri::XML::Node</code> as the second parameter to <code>Text.new</code> is deprecated and will generate a warning. This parameter should be a kind of <code>Nokogiri::XML::Document</code>. This will become an error in a future version of Nokogiri.</li> <li>[CRuby] Calling a custom XPath function without the <code>nokogiri</code> namespace is deprecated and will generate a warning. Support for non-namespaced functions will be removed in a future version of Nokogiri. (Note that JRuby has never supported non-namespaced custom XPath functions.)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#thank-you","level":3,"title":"Thank you!","text":"<p>The following people and organizations were kind enough to sponsor @flavorjones or the Nokogiri project during the development of v1.15.0:</p> <ul> <li>G\u00f6tz G\u00f6risch (@GoetzGoerisch)</li> <li>Airbnb (@airbnb)</li> <li>Kyohei Nanba (@kyo-nanba)</li> <li>Maxime Gauthier (@biximilien)</li> <li>@renuo</li> <li>@dbootyfvrt</li> <li>YOSHIDA Katsuhiko (@kyoshidajp)</li> <li>Homebrew (@Homebrew)</li> <li>Hiroshi SHIBATA (@hsbt)</li> <li>PuLLi (@the-pulli)</li> <li>SiteLog GmbH (@sitelog-gmbh)</li> <li>@zzak</li> <li>Evil Martians (@evilmartians)</li> <li>Ajaya Agrawalla (@ajaya)</li> <li>Modern Treasury (@Modern-Treasury)</li> <li>Danilo Lessa Bernardineli (@danlessa)</li> </ul> <p>We'd also like to thank @github who donate a ton of compute time for our CI pipelines!</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1145-2023-05-24","level":2,"title":"1.14.5 / 2023-05-24","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#note","level":3,"title":"Note","text":"<p>To ensure that JRuby users on Java 8 can apply the security changes from v1.14.4, we're cutting this release on the v1.14.x branch. We don't expect to make any more v1.14.x releases.</p> <p>(The changes in this release are incorporated into the v1.15.x release branch at v1.15.2.)</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_6","level":3,"title":"Dependencies","text":"<ul> <li>[JRuby] Vendored org.nokogiri:nekodtd is updated to v0.1.11.noko2. This is functionally equivalent to v0.1.11.noko1 but restores support for Java 8.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_6","level":3,"title":"Fixed","text":"<ul> <li>[JRuby] Java 8 support is restored, fixing a regression introduced in v1.14.0. [#2887]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1144-2023-05-11","level":2,"title":"1.14.4 / 2023-05-11","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_7","level":3,"title":"Dependencies","text":"<ul> <li>[JRuby] Vendored Xalan-J is updated to v2.7.3. This is the first Xalan release in nine years, and it was done to address CVE-2022-34169.</li> </ul> <p>The Nokogiri maintainers wish to stress that Nokogiri users were not vulnerable to this CVE, as we explained in GHSA-qwq9-89rg-ww72, and so upgrading is really at the discretion of users.</p> <p>This release was cut primarily so that JRuby users of v1.14.x can avoid vulnerability scanner alerts on earlier versions of Xalan-J.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1143-2023-04-11","level":2,"title":"1.14.3 / 2023-04-11","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_1","level":3,"title":"Security","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to address CVE-2023-29469, CVE-2023-28484, and one other security-related issue. See GHSA-pxvg-2qj5-37jqGHSA-pxvg-2qj5-37jq for more information.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_8","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.10.4 from v2.10.3.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1142-2023-02-13","level":2,"title":"1.14.2 / 2023-02-13","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_7","level":3,"title":"Fixed","text":"<ul> <li>Calling <code>NodeSet#to_html</code> on an empty node set no longer raises an encoding-related exception. This bug was introduced in v1.14.0 while fixing #2649. [#2784]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1141-2023-01-30","level":2,"title":"1.14.1 / 2023-01-30","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_8","level":3,"title":"Fixed","text":"<ul> <li>Serializing documents now works again with pseudo-IO objects that don't support IO's encoding API (like rubyzip's <code>Zip::OutputStream</code>). This was a regression in v1.14.0 due to the fix for #752 in #2434, and was not completely fixed by #2753. [#2773]</li> <li>[CRuby] Address compiler warnings about <code>void*</code> casting and old-style C function definitions.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1140-2023-01-12","level":2,"title":"1.14.0 / 2023-01-12","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notable-changes","level":3,"title":"Notable Changes","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#ruby","level":4,"title":"Ruby","text":"<p>This release introduces native gem support for Ruby 3.2. (Also see \"Technical note\" under \"Changed\" below.)</p> <p>This release ends support for:</p> <ul> <li>Ruby 2.6, for which upstream support ended 2022-04-12.</li> <li>JRuby 9.3, which is not fully compatible with Ruby 2.7+</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#faster-more-reliable-installation-native-gem-for-aarch64-linux-aka-linuxarm64v8","level":4,"title":"Faster, more reliable installation: Native Gem for <code>aarch64-linux</code> (aka <code>linux/arm64/v8</code>)","text":"<p>This version of Nokogiri ships official native gem support for the <code>aarch64-linux</code> platform, which should support AWS Graviton and other ARM64 Linux platforms. Please note that glibc &gt;= 2.29 is required for aarch64-linux systems, see Supported Platforms for more information.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#faster-more-reliable-installation-native-gem-for-arm-linux-aka-linuxarmv7","level":4,"title":"Faster, more reliable installation: Native Gem for <code>arm-linux</code> (aka <code>linux/arm/v7</code>)","text":"<p>This version of Nokogiri ships experimental native gem support for the <code>arm-linux</code> platform. Please note that glibc &gt;= 2.29 is required for arm-linux systems, see Supported Platforms for more information.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#pattern-matching","level":4,"title":"Pattern matching","text":"<p>This version introduces an experimental pattern matching API for <code>XML::Attr</code>, <code>XML::Document</code>, <code>XML::DocumentFragment</code>, <code>XML::Namespace</code>, <code>XML::Node</code>, and <code>XML::NodeSet</code> (and their subclasses).</p> <p>Some documentation on what can be matched:</p> <ul> <li><code>XML::Attr#deconstruct_keys</code></li> <li><code>XML::Document#deconstruct_keys</code></li> <li><code>XML::Namespace#deconstruct_keys</code></li> <li><code>XML::Node#deconstruct_keys</code></li> <li><code>XML::DocumentFragment#deconstruct</code></li> <li><code>XML::NodeSet#deconstruct</code></li> </ul> <p>We welcome feedback on this API at #2360.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_9","level":3,"title":"Dependencies","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#cruby","level":4,"title":"CRuby","text":"<ul> <li>Vendored libiconv is updated to v1.17</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#jruby","level":4,"title":"JRuby","text":"<ul> <li>This version of Nokogiri uses <code>jar-dependencies</code> to manage most of the vendored Java dependencies. <code>nokogiri -v</code> now outputs maven metadata for all Java dependencies, and <code>Nokogiri::VERSION_INFO</code> also contains this metadata. [#2432]</li> <li>HTML parsing is now provided by <code>net.sourceforge.htmlunit:neko-htmlunit:2.61.0</code> (previously Nokogiri used a fork of <code>org.cyberneko.html:nekohtml</code>)</li> <li>Vendored Jing is updated from <code>com.thaiopensource:jing:20091111</code> to <code>nu.validator:jing:20200702VNU</code>.</li> <li>New dependency on <code>net.sf.saxon:Saxon-HE:9.6.0-4</code> (via <code>nu.validator:jing:20200702VNU</code>).</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_1","level":3,"title":"Added","text":"<ul> <li><code>Node#wrap</code> and <code>NodeSet#wrap</code> now also accept a <code>Node</code> type argument, which will be <code>dup</code>ed for each wrapper. For cases where many nodes are being wrapped, creating a <code>Node</code> once using <code>Document#create_element</code> and passing that <code>Node</code> multiple times is significantly faster than re-parsing markup on each call. [#2657]</li> <li>[CRuby] Invocation of custom XPath or CSS handler functions may now use the <code>nokogiri</code> namespace prefix. Historically, the JRuby implementation required this namespace but the CRuby implementation did not support it. It's recommended that all XPath and CSS queries use the <code>nokogiri</code> namespace going forward. Invocation without the namespace is planned for deprecation in v1.15.0 and removal in a future release. [#2147]</li> <li><code>HTML5::Document#quirks_mode</code> and <code>HTML5::DocumentFragment#quirks_mode</code> expose the quirks mode used by the parser.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#improved_1","level":3,"title":"Improved","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#functional","level":4,"title":"Functional","text":"<ul> <li>HTML5 parser update to reflect changes to the living specification:</li> <li>Add the &lt;search&gt; element by domenic \u00b7 whatwg/html</li> <li>Remove parse error for &lt;template&gt;&lt;tr&gt;&lt;/tr&gt; &lt;/template&gt; by zcorpan \u00b7 whatwg/html</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#performance","level":4,"title":"Performance","text":"<ul> <li>Serialization of HTML5 documents and fragments has been re-implemented and is ~10x faster than previous versions. [#2596, #2569]</li> <li>Parsing of HTML5 documents is ~90% faster thanks to additional compiler optimizations being applied. [#2639]</li> <li>Compare <code>Encoding</code> objects rather than compare their names. This is a slight performance improvement and is future-proof. [#2454] (@casperisfine)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#error-handling","level":4,"title":"Error handling","text":"<ul> <li><code>Document#canonicalize</code> now raises an exception if <code>inclusive_namespaces</code> is non-nil and the mode is inclusive, i.e. <code>XML_C14N_1_0</code> or <code>XML_C14N_1_1</code>. <code>inclusive_namespaces</code> can only be passed with exclusive modes, and previously this silently failed.</li> <li>Empty CSS selectors now raise a clearer <code>Nokogiri::CSS::SyntaxError</code> message, \"empty CSS selector\". Previously the exception raised from the bowels of <code>racc</code> was \"unexpected '$' after ''\". [#2700]</li> <li>[CRuby] <code>XML::Reader</code> parsing errors encountered during <code>Reader#attribute_hash</code> and <code>Reader#namespaces</code> now raise an <code>XML::SyntaxError</code>. Previously these methods would return <code>nil</code> and users would generally experience <code>NoMethodErrors</code> from elsewhere in the code.</li> <li>Prefer <code>ruby_xmalloc</code> to <code>malloc</code> within the C extension. [#2480] (@Garfield96)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#installation","level":4,"title":"Installation","text":"<ul> <li>Avoid compile-time conflict with system-installed <code>gumbo.h</code> on OpenBSD. [#2464]</li> <li>Remove calls to <code>vasprintf</code> in favor of platform-independent <code>rb_vsprintf</code></li> <li>Installation from source on systems missing libiconv will once again generate a helpful error message (broken since v1.11.0). [#2505]</li> <li>[CRuby+OSX] Compiling from source on MacOS will use the clang option <code>-Wno-unknown-warning-option</code> to avoid errors when Ruby injects options that clang doesn't know about. [#2689]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_9","level":3,"title":"Fixed","text":"<ul> <li><code>SAX::Parser</code>'s <code>encoding</code> attribute will not be clobbered when an alternative encoding is passed into <code>SAX::Parser#parse_io</code>. [#1942] (@kp666)</li> <li>Serialized <code>HTML4::DocumentFragment</code> will now be properly encoded. Previously this empty string was encoded as <code>US-ASCII</code>. [#2649]</li> <li><code>Node#wrap</code> now uses the parent as the context node for parsing wrapper markup, falling back to the document for unparented nodes. Previously the document was always used.</li> <li>[CRuby] UTF-16-encoded documents longer than ~4000 code points now serialize properly. Previously the serialized document was corrupted when it exceeded the length of libxml2's internal string buffer. [#752]</li> <li>[CRuby] The HTML5 parser now correctly handles text at the end of <code>form</code> elements.</li> <li>[CRuby] <code>HTML5::Document#fragment</code> now always uses <code>body</code> as the parsing context. Previously, fragments were parsed in the context of the associated document's root node, which allowed for inconsistent parsing. [#2553]</li> <li>[CRuby] <code>Nokogiri::HTML5::Document#url</code> now correctly returns the URL passed to the constructor method. Previously it always returned <code>nil</code>. [#2583]</li> <li>[CRuby] <code>HTML5</code> encoding detection is now case-insensitive with respect to <code>meta</code> tag charset declaration. [#2693]</li> <li>[CRuby] <code>HTML5</code> fragment parsing in context of an annotation-xml node now works. Previously this rarely-used path invoked rb_funcall with incorrect parameters, resulting in an exception, a fatal error, or potentially a segfault. [#2692]</li> <li>[CRuby] <code>HTML5</code> quirks mode during fragment parsing more closely matches document parsing. [#2646]</li> <li>[JRuby] Fixed a bug with adding the same namespace to multiple nodes via <code>#add_namespace_definition</code>. [#1247]</li> <li>[JRuby] <code>NodeSet#[]</code> now raises a TypeError if passed an invalid parameter type. [#2211]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#deprecated_1","level":3,"title":"Deprecated","text":"<ul> <li><code>Nokogiri.install_default_aliases</code> is deprecated in favor of <code>Nokogiri::EncodingHandler.install_default_aliases</code>. This is part of a private API and is probably not called by anybody, but we'll go through a deprecation cycle before removal anyway. [#2643, #2446]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#changed_1","level":3,"title":"Changed","text":"<ul> <li>[CRuby+OSX] Technical note: On MacOS Ruby 3.2, the symbols from libxml2 and libxslt are no longer exported. Ruby 3.2 adopted new features from the Darwin toolchain that make it challenging to continue to support this rarely-used binary API. A future minor release of Nokogiri may remove these symbols (and others) entirely. Feedback from downstream gem maintainers is welcome at #2746, where you'll also be able to read deeper context on this decision.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#thank-you_1","level":3,"title":"Thank you!","text":"<p>The following people and organizations were kind enough to sponsor @flavorjones or the Nokogiri project during the development of v1.14.0:</p> <ul> <li>G\u00f6tz G\u00f6risch (@GoetzGoerisch)</li> <li>Airbnb (@airbnb)</li> <li>Kyohei Nanba (@kyo-nanba)</li> <li>Maxime Gauthier (@biximilien)</li> <li>@renuo</li> <li>@dbootyfvrt</li> <li>YOSHIDA Katsuhiko (@kyoshidajp)</li> <li>Homebrew (@Homebrew)</li> <li>David Vrensk (@dvrensk)</li> <li>Alex Daragiu (@daragiu)</li> <li>Github (@github)</li> <li>Julian Joseph (@Julian88Tex)</li> <li>Charles Simon-Meunier (@csimonmeunier)</li> <li>Ben Slaughter (@benSlaughter)</li> <li>Garen Torikian (@gjtorikian)</li> <li>Frank Groeneveld (@frenkel)</li> <li>Hiroshi SHIBATA (@hsbt)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#11310-2022-12-07","level":2,"title":"1.13.10 / 2022-12-07","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_2","level":3,"title":"Security","text":"<ul> <li>[CRuby] Address CVE-2022-23476, unchecked return value from <code>xmlTextReaderExpand</code>. See GHSA-qv4q-mr5r-qprj for more information.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#improvements","level":3,"title":"Improvements","text":"<ul> <li>[CRuby] <code>XML::Reader#attribute_hash</code> now returns <code>nil</code> on parse errors. This restores the behavior of <code>#attributes</code> from v1.13.7 and earlier. [#2715]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1139-2022-10-18","level":2,"title":"1.13.9 / 2022-10-18","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_3","level":3,"title":"Security","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to address CVE-2022-2309, CVE-2022-40304, and CVE-2022-40303. See GHSA-2qc6-mcvw-92cw for more information.</li> <li>[CRuby] Vendored zlib is updated to address CVE-2022-37434. Nokogiri was not affected by this vulnerability, but this version of zlib was being flagged up by some vulnerability scanners, see #2626 for more information.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_10","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to v2.10.3 from v2.9.14.</li> <li>[CRuby] Vendored libxslt is updated to v1.1.37 from v1.1.35.</li> <li>[CRuby] Vendored zlib is updated from 1.2.12 to 1.2.13. (See LICENSE-DEPENDENCIES.md for details on which packages redistribute this library.)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_10","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] <code>Nokogiri::XML::Namespace</code> objects, when compacted, update their internal struct's reference to the Ruby object wrapper. Previously, with GC compaction enabled, a segmentation fault was possible after compaction was triggered. [#2658] (@eightbitraptor and @peterzhu2118)</li> <li>[CRuby] <code>Document#remove_namespaces!</code> now defers freeing the underlying <code>xmlNs</code> struct until the <code>Document</code> is GCed. Previously, maintaining a reference to a <code>Namespace</code> object that was removed in this way could lead to a segfault. [#2658]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1138-2022-07-23","level":2,"title":"1.13.8 / 2022-07-23","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#deprecated_2","level":3,"title":"Deprecated","text":"<ul> <li><code>XML::Reader#attribute_nodes</code> is deprecated due to incompatibility between libxml2's <code>xmlReader</code> memory semantics and Ruby's garbage collector. Although this method continues to exist for backwards compatibility, it is unsafe to call and may segfault. This method will be removed in a future version of Nokogiri, and callers should use <code>#attribute_hash</code> instead. [#2598]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#improvements_1","level":3,"title":"Improvements","text":"<ul> <li><code>XML::Reader#attribute_hash</code> is a new method to safely retrieve the attributes of a node from <code>XML::Reader</code>. [#2598, #2599]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_11","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] Calling <code>XML::Reader#attributes</code> is now safe to call. In Nokogiri &lt;= 1.13.7 this method may segfault. [#2598, #2599]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1137-2022-07-12","level":2,"title":"1.13.7 / 2022-07-12","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_12","level":3,"title":"Fixed","text":"<p><code>XML::Node</code> objects, when compacted, update their internal struct's reference to the Ruby object wrapper. Previously, with GC compaction enabled, a segmentation fault was possible after compaction was triggered. [#2578] (@eightbitraptor)</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1136-2022-05-08","level":2,"title":"1.13.6 / 2022-05-08","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_4","level":3,"title":"Security","text":"<ul> <li>[CRuby] Address CVE-2022-29181, improper handling of unexpected data types, related to untrusted inputs to the SAX parsers. See GHSA-xh29-r2w5-wx8m for more information.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#improvements_2","level":3,"title":"Improvements","text":"<ul> <li><code>{HTML4,XML}::SAX::{Parser,ParserContext}</code> constructor methods now raise <code>TypeError</code> instead of segfaulting when an incorrect type is passed.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1135-2022-05-04","level":2,"title":"1.13.5 / 2022-05-04","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_5","level":3,"title":"Security","text":"<ul> <li>[CRuby] Vendored libxml2 is updated to address CVE-2022-29824. See GHSA-cgx6-hpwq-fhv5 for more information.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_11","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated from v2.9.13 to v2.9.14.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#improvements_3","level":3,"title":"Improvements","text":"<ul> <li>[CRuby] The libxml2 HTML parser no longer exhibits quadratic behavior when recovering some broken markup related to start-of-tag and bare <code>&lt;</code> characters.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#changed_2","level":3,"title":"Changed","text":"<ul> <li>[CRuby] The libxml2 HTML parser in v2.9.14 recovers from some broken markup differently. Notably, the XML CDATA escape sequence <code>&lt;![CDATA[</code> and incorrectly-opened comments will result in HTML text nodes starting with <code>&amp;lt;!</code> instead of skipping the invalid tag. This behavior is a direct result of the quadratic-behavior fix noted above. The behavior of downstream sanitizers relying on this behavior will also change. Some tests describing the changed behavior are in <code>test/html4/test_comments.rb</code>.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1134-2022-04-11","level":2,"title":"1.13.4 / 2022-04-11","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_6","level":3,"title":"Security","text":"<ul> <li>Address CVE-2022-24836, a regular expression denial-of-service vulnerability. See GHSA-crjr-9rc5-ghw8 for more information.</li> <li>[CRuby] Vendored zlib is updated to address CVE-2018-25032. See GHSA-v6gp-9mmm-c6p5 for more information.</li> <li>[JRuby] Vendored Xerces-J (<code>xerces:xercesImpl</code>) is updated to address CVE-2022-23437. See GHSA-xxx9-3xcr-gjj3 for more information.</li> <li>[JRuby] Vendored nekohtml (<code>org.cyberneko.html</code>) is updated to address CVE-2022-24839. See GHSA-gx8x-g87m-h5q6 for more information.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_12","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored zlib is updated from 1.2.11 to 1.2.12. (See LICENSE-DEPENDENCIES.md for details on which packages redistribute this library.)</li> <li>[JRuby] Vendored Xerces-J (<code>xerces:xercesImpl</code>) is updated from 2.12.0 to 2.12.2.</li> <li>[JRuby] Vendored nekohtml (<code>org.cyberneko.html</code>) is updated from a fork of 1.9.21 to 1.9.22.noko2. This fork is now publicly developed at https://github.com/sparklemotion/nekohtml</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1133-2022-02-21","level":2,"title":"1.13.3 / 2022-02-21","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_13","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] Revert a HTML4 parser bug in libxml 2.9.13 (introduced in Nokogiri v1.13.2). The bug causes libxml2's HTML4 parser to fail to recover when encountering a bare <code>&lt;</code> character in some contexts. This version of Nokogiri restores the earlier behavior, which is to recover from the parse error and treat the <code>&lt;</code> as normal character data (which will be serialized as <code>&amp;lt;</code> in a text node). The bug (and the fix) is only relevant when the <code>RECOVER</code> parse option is set, as it is by default. [#2461]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1132-2022-02-21","level":2,"title":"1.13.2 / 2022-02-21","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_7","level":3,"title":"Security","text":"<ul> <li>[CRuby] Vendored libxml2 is updated from 2.9.12 to 2.9.13. This update addresses CVE-2022-23308.</li> <li>[CRuby] Vendored libxslt is updated from 1.1.34 to 1.1.35. This update addresses CVE-2021-30560.</li> </ul> <p>Please see GHSA-fq42-c5rg-92c2 for more information about these CVEs.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_13","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libxml2 is updated from 2.9.12 to 2.9.13. Full changelog is available at https://download.gnome.org/sources/libxml2/2.9/libxml2-2.9.13.news</li> <li>[CRuby] Vendored libxslt is updated from 1.1.34 to 1.1.35. Full changelog is available at https://download.gnome.org/sources/libxslt/1.1/libxslt-1.1.35.news</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1131-2022-01-13","level":2,"title":"1.13.1 / 2022-01-13","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_14","level":3,"title":"Fixed","text":"<ul> <li>Fix <code>Nokogiri::XSLT.quote_params</code> regression in v1.13.0 that raised an exception when non-string stylesheet parameters were passed. Non-string parameters (e.g., integers and symbols) are now explicitly supported and both keys and values will be stringified with <code>#to_s</code>. [#2418]</li> <li>Fix CSS selector query regression in v1.13.0 that raised an <code>Nokogiri::XML::XPath::SyntaxError</code> when parsing XPath attributes mixed into the CSS query. Although this mash-up of XPath and CSS syntax previously worked unintentionally, it is now an officially supported feature and is documented as such. [#2419]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1130-2022-01-06","level":2,"title":"1.13.0 / 2022-01-06","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notes_1","level":3,"title":"Notes","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#ruby_1","level":4,"title":"Ruby","text":"<p>This release introduces native gem support for Ruby 3.1. Please note that Windows users should use the <code>x64-mingw-ucrt</code> platform gem for Ruby 3.1, and <code>x64-mingw32</code> for Ruby 2.6\u20133.0 (see RubyInstaller 3.1.0 release notes).</p> <p>This release ends support for:</p> <ul> <li>Ruby 2.5, for which official support ended 2021-03-31.</li> <li>JRuby 9.2, which is a Ruby 2.5-compatible release.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#faster-more-reliable-installation-native-gem-for-arm64-linux","level":4,"title":"Faster, more reliable installation: Native Gem for ARM64 Linux","text":"<p>This version of Nokogiri ships experimental native gem support for the <code>aarch64-linux</code> platform, which should support AWS Graviton and other ARM Linux platforms. We don't yet have CI running for this platform, and so we're interested in hearing back from y'all whether this is working, and what problems you're seeing. Please send us feedback here: Feedback: Have you used the <code>aarch64-linux</code> native gem?</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#publishing","level":4,"title":"Publishing","text":"<p>This version of Nokogiri opts-in to the \"MFA required to publish\" setting on Rubygems.org. This and all future Nokogiri gem files must be published to Rubygems by an account with multi-factor authentication enabled. This should provide some additional protection against supply-chain attacks.</p> <p>A related discussion about Trust exists at #2357 in which I invite you to participate if you have feelings or opinions on this topic.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_14","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Vendored libiconv is updated from 1.15 to 1.16. (Note that libiconv is only redistributed in the native windows and native darwin gems, see <code>LICENSE-DEPENDENCIES.md</code> for more information.) [#2206]</li> <li>[CRuby] Upgrade mini_portile2 dependency from <code>~&gt; 2.6.1</code> to <code>~&gt; 2.7.0</code>. (\"ruby\" platform gem only.)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#improved_2","level":3,"title":"Improved","text":"<ul> <li><code>{XML,HTML4}::DocumentFragment</code> constructors all now take an optional parse options parameter or block (similar to Document constructors). [#1692] (@JackMc)</li> <li><code>Nokogiri::CSS.xpath_for</code> allows an <code>XPathVisitor</code> to be injected, for finer-grained control over how CSS queries are translated into XPath.</li> <li>[CRuby] <code>XML::Reader#encoding</code> will return the encoding detected by the parser when it's not passed to the constructor. [#980]</li> <li>[CRuby] Handle abruptly-closed HTML comments as recommended by WHATWG. (Thanks to tehryanx for reporting)</li> <li>[CRuby] <code>Node#line</code> is no longer capped at 65535. libxml v2.9.0 and later support a new parse option, exposed as <code>Nokogiri::XML::ParseOptions::PARSE_BIG_LINES</code>, which is turned on by default in <code>ParseOptions::DEFAULT_{XML,XSLT,HTML,SCHEMA}</code> (Note that JRuby already supported large line numbers.) [#1764, #1493, #1617, #1505, #1003, #533]</li> <li>[CRuby] If a cycle is introduced when reparenting a node (i.e., the node becomes its own ancestor), a <code>RuntimeError</code> is raised. libxml2 does no checking for this, which means cycles would otherwise result in infinite loops on subsequent operations. (Note that JRuby already did this.) [#1912]</li> <li>[CRuby] Source builds will download zlib and libiconv via HTTPS. (\"ruby\" platform gem only.) [#2391] (@jmartin-r7)</li> <li>[JRuby] <code>Node#line</code> behavior has been modified to return the line number of the node in the final DOM structure. This behavior is different from CRuby, which returns the node's position in the input string. Ideally the two implementations would be the same, but at least is now officially documented and tested. The real-world impact of this change is that the value returned in JRuby is greater by 1 to account for the XML prolog in the output. [#2380] (@dabdine)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_15","level":3,"title":"Fixed","text":"<ul> <li>CSS queries on HTML5 documents now correctly match foreign elements (SVG, MathML) when namespaces are not specified in the query. [#2376]</li> <li><code>XML::Builder</code> blocks restore context properly when exceptions are raised. [#2372] (@ric2b and @rinthedev)</li> <li>The <code>Nokogiri::CSS::Parser</code> cache now uses the <code>XPathVisitor</code> configuration as part of the cache key, preventing incorrect cache results from being returned when multiple <code>XPathVisitor</code> options are being used.</li> <li>Error recovery from in-context parsing (e.g., <code>Node#parse</code>) now always uses the correct <code>DocumentFragment</code> class. Previously <code>Nokogiri::HTML4::DocumentFragment</code> was always used, even for XML documents. [#1158]</li> <li><code>DocumentFragment#&gt;</code> now works properly, matching a CSS selector against only the fragment roots. [#1857]</li> <li><code>XML::DocumentFragment#errors</code> now correctly contains any parsing errors encountered. Previously this was always empty. (Note that <code>HTML::DocumentFragment#errors</code> already did this.)</li> <li>[CRuby] Fix memory leak in <code>Document#canonicalize</code> when inclusive namespaces are passed in. [#2345]</li> <li>[CRuby] Fix memory leak in <code>Document#canonicalize</code> when an argument type error is raised. [#2345]</li> <li>[CRuby] Fix memory leak in <code>EncodingHandler</code> where iconv handlers were not being cleaned up. [#2345]</li> <li>[CRuby] Fix memory leak in XPath custom handlers where string arguments were not being cleaned up. [#2345]</li> <li>[CRuby] Fix memory leak in <code>Reader#base_uri</code> where the string returned by libxml2 was not freed. [#2347]</li> <li>[JRuby] Deleting a <code>Namespace</code> from a <code>NodeSet</code> no longer modifies the <code>href</code> to be the default namespace URL.</li> <li>[JRuby] Fix XHTML formatting of closing tags for non-container elements. [#2355]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#deprecated_3","level":3,"title":"Deprecated","text":"<ul> <li>Passing a <code>Nokogiri::XML::Node</code> as the second parameter to <code>Node.new</code> is deprecated and will generate a warning. This parameter should be a kind of <code>Nokogiri::XML::Document</code>. This will become an error in a future version of Nokogiri. [#975]</li> <li><code>Nokogiri::CSS::Parser</code>, <code>Nokogiri::CSS::Tokenizer</code>, and <code>Nokogiri::CSS::Node</code> are now internal-only APIs that are no longer documented, and should not be considered stable. With the introduction of <code>XPathVisitor</code> injection into <code>Nokogiri::CSS.xpath_for</code> there should be no reason to rely on these internal APIs.</li> <li>CSS-to-XPath utility classes <code>Nokogiri::CSS::XPathVisitorAlwaysUseBuiltins</code> and <code>XPathVisitorOptimallyUseBuiltins</code> are deprecated. Prefer <code>Nokogiri::CSS::XPathVisitor</code> with appropriate constructor arguments. These classes will be removed in a future version of Nokogiri.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1125-2021-09-27","level":2,"title":"1.12.5 / 2021-09-27","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_8","level":3,"title":"Security","text":"<p>[JRuby] Address CVE-2021-41098 (GHSA-2rr5-8q37-2w7h).</p> <p>In Nokogiri v1.12.4 and earlier, on JRuby only, the SAX parsers resolve external entities (XXE) by default. This fix turns off entity-resolution-by-default in the JRuby SAX parsers to match the CRuby SAX parsers' behavior.</p> <p>CRuby users are not affected by this CVE.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_16","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] <code>Document#to_xhtml</code> properly serializes self-closing tags in libxml &gt; 2.9.10. A behavior change introduced in libxml 2.9.11 resulted in emitting start and and tags (e.g., <code>&lt;br&gt;&lt;/br&gt;</code>) instead of a self-closing tag (e.g., <code>&lt;br/&gt;</code>) in previous Nokogiri versions. [#2324]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1124-2021-08-29","level":2,"title":"1.12.4 / 2021-08-29","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notable-fix-namespace-inheritance","level":3,"title":"Notable fix: Namespace inheritance","text":"<p>Namespace behavior when reparenting nodes has historically been poorly specified and the behavior diverged between CRuby and JRuby. As a result, making this behavior consistent in v1.12.0 introduced a breaking change.</p> <p>This patch release reverts the Builder behavior present in v1.12.0..v1.12.3 but keeps the Document behavior. This release also introduces a Document attribute to allow affected users to easily change this behavior for their legacy code without invasive changes.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#compensating-feature-in-xmldocument","level":4,"title":"Compensating Feature in XML::Document","text":"<p>This release of Nokogiri introduces a new <code>Document</code> boolean attribute, <code>namespace_inheritance</code>, which controls whether children should inherit a namespace when they are reparented. <code>Nokogiri::XML:Document</code> defaults this attribute to <code>false</code> meaning \"do not inherit,\" thereby making explicit the behavior change introduced in v1.12.0.</p> <p>CRuby users who desire the pre-v1.12.0 behavior may set <code>document.namespace_inheritance = true</code> before reparenting nodes.</p> <p>See https://nokogiri.org/rdoc/Nokogiri/XML/Document.html#namespace_inheritance-instance_method for example usage.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fix-for-xmlbuilder","level":4,"title":"Fix for XML::Builder","text":"<p>However, recognizing that we want <code>Builder</code>-created children to inherit namespaces, Builder now will set <code>namespace_inheritance=true</code> on the underlying document for both JRuby and CRuby. This means that, on CRuby, the pre-v1.12.0 behavior is restored.</p> <p>Users who want to turn this behavior off may pass a keyword argument to the Builder constructor like so:</p> <pre><code>Nokogiri::XML::Builder.new(namespace_inheritance: false)\n</code></pre> <p>See https://nokogiri.org/rdoc/Nokogiri/XML/Builder.html#label-Namespace+inheritance for example usage.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#downstream-gem-maintainers","level":4,"title":"Downstream gem maintainers","text":"<p>Note that any downstream gems may want to specifically omit Nokogiri v1.12.0--v1.12.3 from their dependency specification if they rely on child namespace inheritance:</p> <pre><code>Gem::Specification.new do |gem|\n  # ...\n  gem.add_runtime_dependency 'nokogiri', '!=1.12.3', '!=1.12.2', '!=1.12.1', '!=1.12.0'\n  # ...\nend\n</code></pre>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_17","level":3,"title":"Fixed","text":"<ul> <li>[JRuby] Fix NPE in Schema parsing when an imported resource doesn't have a <code>systemId</code>. [#2296] (@pepijnve)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1123-2021-08-10","level":2,"title":"1.12.3 / 2021-08-10","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_18","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] Fix compilation of libgumbo on older systems with versions of GCC that give errors on C99-isms. Affected systems include RHEL6, RHEL7, and SLES12. [#2302]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1122-2021-08-04","level":2,"title":"1.12.2 / 2021-08-04","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_19","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] Ensure that C extension files in non-native gem installations are loaded using <code>require</code> and rely on <code>$LOAD_PATH</code> instead of using <code>require_relative</code>. This issue only exists when deleting shared libraries that exist outside the extensions directory, something users occasionally do to conserve disk space. [#2300]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1121-2021-08-03","level":2,"title":"1.12.1 / 2021-08-03","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_20","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] Fix compilation of libgumbo on BSD systems by avoiding GNU-isms. [#2298]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1120-2021-08-02","level":2,"title":"1.12.0 / 2021-08-02","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notable-addition-html5-support-cruby-only","level":3,"title":"Notable Addition: HTML5 Support (CRuby only)","text":"<p>HTML5 support has been added (to CRuby only) by merging Nokogumbo into Nokogiri. The Nokogumbo public API has been preserved, so this functionality is available under the <code>Nokogiri::HTML5</code> namespace. [#2204]</p> <p>Please note that HTML5 support is not available for JRuby in this version. However, we feel it is important to think about JRuby and we hope to work on this in the future. If you're interested in helping with HTML5 support on JRuby, please reach out to the maintainers by commenting on issue #2227.</p> <p>Many thanks to Sam Ruby, Steve Checkoway, and Craig Barnes for creating and maintaining Nokogumbo and supporting the Gumbo HTML5 parser. They're now Nokogiri core contributors with all the powers and privileges pertaining thereto. \ud83d\ude4c</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notable-change-nokogirihtml4-module-and-namespace","level":3,"title":"Notable Change: <code>Nokogiri::HTML4</code> module and namespace","text":"<p><code>Nokogiri::HTML</code> has been renamed to <code>Nokogiri::HTML4</code>, and <code>Nokogiri::HTML</code> is aliased to preserve backwards-compatibility. <code>Nokogiri::HTML</code> and <code>Nokogiri::HTML4</code> parse methods still use libxml2's (or NekoHTML's) HTML4 parser in the v1.12 release series.</p> <p>Take special note that if you rely on the class name of an object in your code, objects will now report a class of <code>Nokogiri::HTML4::Foo</code> where they previously reported <code>Nokogiri::HTML::Foo</code>. Instead of relying on the string returned by <code>Object#class</code>, prefer <code>Class#===</code> or <code>Object#is_a?</code> or <code>Object#instance_of?</code>.</p> <p>Future releases of Nokogiri may deprecate <code>HTML</code> methods or otherwise change this behavior, so please start using <code>HTML4</code> in place of <code>HTML</code>.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_2","level":3,"title":"Added","text":"<ul> <li>[CRuby] <code>Nokogiri::VERSION_INFO[\"libxslt\"][\"datetime_enabled\"]</code> is a new boolean value which describes whether libxslt (or, more properly, libexslt) has compiled-in datetime support. This generally going to be <code>true</code>, but some distros ship without this support (e.g., some mingw UCRT-based packages, see https://github.com/msys2/MINGW-packages/pull/8957). See #2272 for more details.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#changed_3","level":3,"title":"Changed","text":"<ul> <li>Introduce a new constant, <code>Nokogiri::XML::ParseOptions::DEFAULT_XSLT</code>, which adds the libxslt-preferred options of <code>NOENT | DTDLOAD | DTDATTR | NOCDATA</code> to <code>ParseOptions::DEFAULT_XML</code>.</li> <li><code>Nokogiri.XSLT</code> parses stylesheets using <code>ParseOptions::DEFAULT_XSLT</code>, which should make some edge-case XSL transformations match libxslt's default behavior. [#1940]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_21","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] Namespaced attributes are handled properly when their parent node is reparented into another document. Previously, the namespace may have gotten dropped. [#2228]</li> <li>[CRuby] Reparented nodes no longer inherit their parent's namespace. Previously, a node without a namespace was forced to adopt its parent's namespace. [#1712, #425]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#improved_3","level":3,"title":"Improved","text":"<ul> <li>[CRuby] Speed up (slightly) the compile time of packaged libraries <code>libiconv</code>, <code>libxml2</code>, and <code>libxslt</code> by using autoconf's <code>--disable-dependency-tracking</code> option. (\"ruby\" platform gem only.)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#deprecated_4","level":3,"title":"Deprecated","text":"<ul> <li>Deprecating Nokogumbo's <code>Nokogiri::HTML5.get</code>. This method will be removed in a future version of Nokogiri.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_15","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] Upgrade mini_portile2 dependency from <code>~&gt; 2.5.0</code> to <code>~&gt; 2.6.1</code>. (\"ruby\" platform gem only.)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1117-2021-06-02","level":2,"title":"1.11.7 / 2021-06-02","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_22","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] Backporting an upstream fix to XPath recursion depth limits which impacted some users of complex XPath queries. This issue is present in libxml 2.9.11 and 2.9.12. [#2257]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1116-2021-05-26","level":2,"title":"1.11.6 / 2021-05-26","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_23","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] <code>DocumentFragment#path</code> now does proper error-checking to handle behavior introduced in libxml &gt; 2.9.10. In v1.11.4 and v1.11.5, calling <code>DocumentFragment#path</code> could result in a segfault.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1115-2021-05-19","level":2,"title":"1.11.5 / 2021-05-19","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_24","level":3,"title":"Fixed","text":"<p>[Windows CRuby] Work around segfault at process exit on Windows when using libxml2 system DLLs.</p> <p>libxml 2.9.12 introduced new behavior to avoid memory leaks when unloading libxml2 shared libraries (see libxml/!66). Early testing caught this segfault on non-Windows platforms (see #2059 and libxml@956534e) but it was incompletely fixed and is still an issue on Windows platforms that are using system DLLs.</p> <p>We work around this by configuring libxml2 in this situation to use its default memory management functions. Note that if Nokogiri is not on Windows, or is not using shared system libraries, it will will continue to configure libxml2 to use Ruby's memory management functions. <code>Nokogiri::VERSION_INFO[\"libxml\"][\"memory_management\"]</code> will allow you to verify when the default memory management functions are being used. [#2241]</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_3","level":3,"title":"Added","text":"<p><code>Nokogiri::VERSION_INFO[\"libxml\"]</code> now contains the key <code>\"memory_management\"</code> to declare whether libxml2 is using its <code>default</code> memory management functions, or whether it uses the memory management functions from <code>ruby</code>. See above for more details.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1114-2021-05-14","level":2,"title":"1.11.4 / 2021-05-14","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_9","level":3,"title":"Security","text":"<p>[CRuby] Vendored libxml2 upgraded to v2.9.12 which addresses:</p> <ul> <li>CVE-2019-20388</li> <li>CVE-2020-24977</li> <li>CVE-2021-3517</li> <li>CVE-2021-3518</li> <li>CVE-2021-3537</li> <li>CVE-2021-3541</li> </ul> <p>Note that two additional CVEs were addressed upstream but are not relevant to this release. CVE-2021-3516 via <code>xmllint</code> is not present in Nokogiri, and CVE-2020-7595 has been patched in Nokogiri since v1.10.8 (see #1992).</p> <p>Please see nokogiri/GHSA-7rrm-v45f-jp64  or #2233 for a more complete analysis of these CVEs and patches.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_16","level":3,"title":"Dependencies","text":"<ul> <li>[CRuby] vendored libxml2 is updated from 2.9.10 to 2.9.12. (Note that 2.9.11 was skipped because it was superseded by 2.9.12 a few hours after its release.)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1113-2021-04-07","level":2,"title":"1.11.3 / 2021-04-07","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_25","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] Passing non-<code>Node</code> objects to <code>Document#root=</code> now raises an <code>ArgumentError</code> exception. Previously this likely segfaulted. [#1900]</li> <li>[JRuby] Passing non-<code>Node</code> objects to <code>Document#root=</code> now raises an <code>ArgumentError</code> exception. Previously this raised a <code>TypeError</code> exception.</li> <li>[CRuby] arm64/aarch64 systems (like Apple's M1) can now compile libxml2 and libxslt from source (though we continue to strongly advise users to install the native gems for the best possible experience)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1112-2021-03-11","level":2,"title":"1.11.2 / 2021-03-11","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_26","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] <code>NodeSet</code> may now safely contain <code>Node</code> objects from multiple documents. Previously the GC lifecycle of the parent <code>Document</code> objects could lead to nodes being GCed while still in scope. [#1952]</li> <li>[CRuby] Patch libxml2 to avoid \"huge input lookup\" errors on large CDATA elements. (See upstream GNOME/libxml2#200 and GNOME/libxml2!100.) [#2132].</li> <li>[CRuby+Windows] Enable Nokogumbo (and other downstream gems) to compile and link against <code>nokogiri.so</code> by including <code>LDFLAGS</code> in <code>Nokogiri::VERSION_INFO</code>. [#2167]</li> <li>[CRuby] <code>{XML,HTML}::Document.parse</code> now invokes <code>#initialize</code> exactly once. Previously <code>#initialize</code> was invoked twice on each object.</li> <li>[JRuby] <code>{XML,HTML}::Document.parse</code> now invokes <code>#initialize</code> exactly once. Previously <code>#initialize</code> was not called, which was a problem for subclassing such as done by <code>Loofah</code>.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#improved_4","level":3,"title":"Improved","text":"<ul> <li>Reduce the number of object allocations needed when parsing an <code>HTML::DocumentFragment</code>. [#2087] (@ashmaroli)</li> <li>[JRuby] Update the algorithm used to calculate <code>Node#line</code> to be wrong less-often. The underlying parser, Xerces, does not track line numbers, and so we've always used a hacky solution for this method. [#1223, #2177]</li> <li>Introduce <code>--enable-system-libraries</code> and <code>--disable-system-libraries</code> flags to <code>extconf.rb</code>. These flags provide the same functionality as <code>--use-system-libraries</code> and the <code>NOKOGIRI_USE_SYSTEM_LIBRARIES</code> environment variable, but are more idiomatic. [#2193] (@eregon)</li> <li>[TruffleRuby] <code>--disable-static</code> is now the default on TruffleRuby when the packaged libraries are used. This is more flexible and compiles faster. (Note, though, that the default on TR is still to use system libraries.) [#2191, #2193] (@eregon)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#changed_4","level":3,"title":"Changed","text":"<ul> <li><code>Nokogiri::XML::Path</code> is now a Module (previously it has been a Class). It has been acting solely as a Module since v1.0.0. See 8461c74.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1111-2021-01-06","level":2,"title":"1.11.1 / 2021-01-06","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_27","level":3,"title":"Fixed","text":"<ul> <li>[CRuby] If <code>libxml-ruby</code> is loaded before <code>nokogiri</code>, the SAX and Push parsers no longer call <code>libxml-ruby</code>'s handlers. Instead, they defensively override the libxml2 global handler before parsing. [#2168]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1110-2021-01-03","level":2,"title":"1.11.0 / 2021-01-03","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notes_2","level":3,"title":"Notes","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#faster-more-reliable-installation-native-gems-for-linux-and-osxdarwin","level":4,"title":"Faster, more reliable installation: Native Gems for Linux and OSX/Darwin","text":"<p>\"Native gems\" contain pre-compiled libraries for a specific machine architecture. On supported platforms, this removes the need for compiling the C extension and the packaged libraries. This results in much faster installation and more reliable installation, which as you probably know are the biggest headaches for Nokogiri users.</p> <p>We've been shipping native Windows gems since 2009, but starting in v1.11.0 we are also shipping native gems for these platforms:</p> <ul> <li>Linux: <code>x86-linux</code> and <code>x86_64-linux</code> -- including musl platforms like alpine</li> <li>OSX/Darwin: <code>x86_64-darwin</code> and <code>arm64-darwin</code></li> </ul> <p>We'd appreciate your thoughts and feedback on this work at #2075.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_17","level":3,"title":"Dependencies","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#ruby_2","level":4,"title":"Ruby","text":"<p>This release introduces support for Ruby 2.7 and 3.0 in the precompiled native gems.</p> <p>This release ends support for:</p> <ul> <li>Ruby 2.3, for which official support ended on 2019-03-31 [#1886] (@ashmaroli)</li> <li>Ruby 2.4, for which official support ended on 2020-04-05</li> <li>JRuby 9.1, which is the Ruby 2.3-compatible release.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#gems","level":4,"title":"Gems","text":"<ul> <li>Explicitly add racc as a runtime dependency. [#1988] (@voxik)</li> <li>[MRI] Upgrade mini_portile2 dependency from <code>~&gt; 2.4.0</code> to <code>~&gt; 2.5.0</code> [#2005] (@alejandroperea)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_10","level":3,"title":"Security","text":"<p>See note below about CVE-2020-26247 in the \"Changed\" subsection entitled \"XML::Schema parsing treats input as untrusted by default\".</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_4","level":3,"title":"Added","text":"<ul> <li>Add Node methods for manipulating \"keyword attributes\" (for example, <code>class</code> and <code>rel</code>): <code>#kwattr_values</code>, <code>#kwattr_add</code>, <code>#kwattr_append</code>, and <code>#kwattr_remove</code>. [#2000]</li> <li>Add support for CSS queries <code>a:has(&gt; b)</code>, <code>a:has(~ b)</code>, and <code>a:has(+ b)</code>. [#688] (@jonathanhefner)</li> <li>Add <code>Node#value?</code> to better match expected semantics of a Hash-like object. [#1838, #1840] (@MatzFan)</li> <li>[CRuby] Add <code>Nokogiri::XML::Node#line=</code> for use by downstream libs like nokogumbo. [#1918] (@stevecheckoway)</li> <li><code>nokogiri.gemspec</code> is back after a 10-year hiatus. We still prefer you use the official releases, but <code>main</code> is pretty stable these days, and YOLO.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#performance_1","level":3,"title":"Performance","text":"<ul> <li>[CRuby] The CSS <code>~=</code> operator and class selector <code>.</code> are about 2x faster. [#2137, #2135]</li> <li>[CRuby] Patch libxml2 to call <code>strlen</code> from <code>xmlStrlen</code> rather than the naive implementation, because <code>strlen</code> is generally optimized for the architecture. [#2144] (@ilyazub)</li> <li>Improve performance of some namespace operations. [#1916] (@ashmaroli)</li> <li>Remove unnecessary array allocations from Node serialization methods [#1911] (@ashmaroli)</li> <li>Avoid creation of unnecessary zero-length String objects. [#1970] (@ashmaroli)</li> <li>Always compile libxml2 and libxslt with '-O2' [#2022, #2100] (@ilyazub)</li> <li>[JRuby] Lots of code cleanup and performance improvements. [#1934] (@kares)</li> <li>[CRuby] <code>RelaxNG.from_document</code> no longer leaks memory. [#2114]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#improved_5","level":3,"title":"Improved","text":"<ul> <li>[CRuby] Handle incorrectly-closed HTML comments as WHATWG recommends for browsers. [#2058] (Thanks to HackerOne user mayflower for reporting this)</li> <li><code>{HTML,XML}::Document#parse</code> now accept <code>Pathname</code> objects. Previously this worked only if the referenced file was less than 4096 bytes long; longer files resulted in undefined behavior because the <code>read</code> method would be repeatedly invoked. [#1821, #2110] (@doriantaylor and @phokz)</li> <li>[CRuby] Nokogumbo builds faster because it can now use header files provided by Nokogiri. [#1788] (@stevecheckoway)</li> <li>Add <code>frozen_string_literal: true</code> magic comment to all <code>lib</code> files. [#1745] (@oniofchaos)</li> <li>[JRuby] Clean up deprecated calls into JRuby. [#2027] (@headius)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_28","level":3,"title":"Fixed","text":"<ul> <li>HTML Parsing in \"strict\" mode (i.e., the <code>RECOVER</code> parse option not set) now correctly raises a <code>XML::SyntaxError</code> exception. Previously the value of the <code>RECOVER</code> bit was being ignored by CRuby and was misinterpreted by JRuby. [#2130]</li> <li>The CSS <code>~=</code> operator now correctly handles non-space whitespace in the <code>class</code> attribute. commit e45dedd</li> <li>The switch to turn off the CSS-to-XPath cache is now thread-local, rather than being shared mutable state. [#1935]</li> <li>The Node methods <code>add_previous_sibling</code>, <code>previous=</code>, <code>before</code>, <code>add_next_sibling</code>, <code>next=</code>, <code>after</code>, <code>replace</code>, and <code>swap</code> now correctly use their parent as the context node for parsing markup. These methods now also raise a <code>RuntimeError</code> if they are called on a node with no parent. [nokogumbo#160]</li> <li>[JRuby] <code>XML::Schema</code> XSD validation errors are captured in <code>XML::Schema#errors</code>. These errors were previously ignored.</li> <li>[JRuby] Standardize reading from IO like objects, including StringIO. [#1888, #1897]</li> <li>[JRuby] Fix how custom XPath function namespaces are inferred to be less naive. [#1890, #2148]</li> <li>[JRuby] Clarify exception message when custom XPath functions can't be resolved.</li> <li>[JRuby] Comparison of Node to Document with <code>Node#&lt;=&gt;</code> now matches CRuby/libxml2 behavior.</li> <li>[CRuby] Syntax errors are now correctly captured in <code>Document#errors</code> for short HTML documents. Previously the SAX parser used for encoding detection was clobbering libxml2's global error handler.</li> <li>[CRuby] Fixed installation on AIX with respect to <code>vasprintf</code>. [#1908]</li> <li>[CRuby] On some platforms, avoid symbol name collision with glibc's <code>canonicalize</code>. [#2105]</li> <li>[Windows Visual C++] Fixed compiler warnings and errors. [#2061, #2068]</li> <li>[CRuby] Fixed Nokogumbo integration which broke in the v1.11.0 release candidates. [#1788] (@stevecheckoway)</li> <li>[JRuby] Fixed document encoding regression in v1.11.0 release candidates. [#2080, #2083] (@thbar)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#removed","level":3,"title":"Removed","text":"<ul> <li>The internal method <code>Nokogiri::CSS::Parser.cache_on=</code> has been removed. Use <code>.set_cache</code> if you need to muck with the cache internals.</li> <li>The class method <code>Nokogiri::CSS::Parser.parse</code> has been removed. This was originally deprecated in 2009 in 13db61b. Use <code>Nokogiri::CSS.parse</code> instead.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#changed_5","level":3,"title":"Changed","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#xmlschema-input-is-now-untrusted-by-default","level":4,"title":"<code>XML::Schema</code> input is now \"untrusted\" by default","text":"<p>Address CVE-2020-26247.</p> <p>In Nokogiri versions &lt;= 1.11.0.rc3, XML Schemas parsed by <code>Nokogiri::XML::Schema</code> were trusted by default, allowing external resources to be accessed over the network, potentially enabling XXE or SSRF attacks.</p> <p>This behavior is counter to the security policy intended by Nokogiri maintainers, which is to treat all input as untrusted by default whenever possible.</p> <p>Please note that this security fix was pushed into a new minor version, 1.11.x, rather than a patch release to the 1.10.x branch, because it is a breaking change for some schemas and the risk was assessed to be \"Low Severity\".</p> <p>More information and instructions for enabling \"trusted input\" behavior in v1.11.0.rc4 and later is available at the public advisory.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#html-parser-now-obeys-the-strict-or-norecover-parsing-option","level":4,"title":"HTML parser now obeys the <code>strict</code> or <code>norecover</code> parsing option","text":"<p>(Also noted above in the \"Fixed\" section) HTML Parsing in \"strict\" mode (i.e., the <code>RECOVER</code> parse option not set) now correctly raises a <code>XML::SyntaxError</code> exception. Previously the value of the <code>RECOVER</code> bit was being ignored by CRuby and was misinterpreted by JRuby.</p> <p>If you're using the default parser options, you will be unaffected by this fix. If you're passing <code>strict</code> or <code>norecover</code> to your HTML parser call, you may be surprised to see that the parser now fails to recover and raises a <code>XML::SyntaxError</code> exception. Given the number of HTML documents on the internet that libxml2 would consider to be ill-formed, this is probably not what you want, and you can omit setting that parse option to restore the behavior that you have been relying upon.</p> <p>Apologies to anyone inconvenienced by this breaking bugfix being present in a minor release, but I felt it was appropriate to introduce this fix because it's straightforward to fix any code that has been relying on this buggy behavior.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#versioninfo-the-output-of-nokogiri-v-and-related-constants","level":4,"title":"<code>VersionInfo</code>, the output of <code>nokogiri -v</code>, and related constants","text":"<p>This release changes the metadata provided in <code>Nokogiri::VersionInfo</code> which also affects the output of <code>nokogiri -v</code>. Some related constants have also been changed. If you're using <code>VersionInfo</code> programmatically, or relying on constants related to underlying library versions, please read the detailed changes for <code>Nokogiri::VersionInfo</code> at #2139 and accept our apologies for the inconvenience.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#11010-2020-07-06","level":2,"title":"1.10.10 / 2020-07-06","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#features","level":3,"title":"Features","text":"<ul> <li>[MRI] Cross-built Windows gems now support Ruby 2.7 [#2029]. Note that prior to this release, the v1.11.x prereleases provided this support.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1109-2020-03-01","level":2,"title":"1.10.9 / 2020-03-01","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_29","level":3,"title":"Fixed","text":"<ul> <li>[MRI] Raise an exception when Nokogiri detects a specific libxml2 edge case involving blank Schema nodes wrapped by Ruby objects that would cause a segfault. Currently no fix is available upstream, so we're preventing a dangerous operation and informing users to code around it if possible. [#1985, #2001]</li> <li>[JRuby] Change <code>NodeSet#to_a</code> to return a RubyArray instead of Object, for compilation under JRuby 9.2.9 and later. [#1968, #1969] (@headius)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1108-2020-02-10","level":2,"title":"1.10.8 / 2020-02-10","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_11","level":3,"title":"Security","text":"<p>[MRI] Pulled in upstream patch from libxml that addresses CVE-2020-7595. Full details are available in #1992. Note that this patch is not yet (as of 2020-02-10) in an upstream release of libxml.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1107-2019-12-03","level":2,"title":"1.10.7 / 2019-12-03","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_30","level":3,"title":"Fixed","text":"<ul> <li>[MRI] Ensure the patch applied in v1.10.6 works with GNU <code>patch</code>. [#1954]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1106-2019-12-03","level":2,"title":"1.10.6 / 2019-12-03","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_31","level":3,"title":"Fixed","text":"<ul> <li>[MRI] Fix FreeBSD installation of vendored libxml2. [#1941, #1953] (@nurse)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1105-2019-10-31","level":2,"title":"1.10.5 / 2019-10-31","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_12","level":3,"title":"Security","text":"<p>[MRI] Vendored libxslt upgraded to v1.1.34 which addresses three CVEs for libxslt:</p> <ul> <li>CVE-2019-13117</li> <li>CVE-2019-13118</li> <li>CVE-2019-18197</li> <li>CVE-2019-19956</li> </ul> <p>More details are available at #1943.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_18","level":3,"title":"Dependencies","text":"<ul> <li>[MRI] vendored libxml2 is updated from 2.9.9 to 2.9.10</li> <li>[MRI] vendored libxslt is updated from 1.1.33 to 1.1.34</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1104-2019-08-11","level":2,"title":"1.10.4 / 2019-08-11","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_13","level":3,"title":"Security","text":"<p>Address CVE-2019-5477 [#1915].</p> <p>A command injection vulnerability in Nokogiri v1.10.3 and earlier allows commands to be executed in a subprocess by Ruby's <code>Kernel.open</code> method. Processes are vulnerable only if the undocumented method <code>Nokogiri::CSS::Tokenizer#load_file</code> is being passed untrusted user input.</p> <p>This vulnerability appears in code generated by the Rexical gem versions v1.0.6 and earlier. Rexical is used by Nokogiri to generate lexical scanner code for parsing CSS queries. The underlying vulnerability was addressed in Rexical v1.0.7 and Nokogiri upgraded to this version of Rexical in Nokogiri v1.10.4.</p> <p>This CVE's public notice is #1915</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1103-2019-04-22","level":2,"title":"1.10.3 / 2019-04-22","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_14","level":3,"title":"Security","text":"<p>[MRI] Pulled in upstream patch from libxslt that addresses CVE-2019-11068. Full details are available in #1892. Note that this patch is not yet (as of 2019-04-22) in an upstream release of libxslt.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1102-2019-03-24","level":2,"title":"1.10.2 / 2019-03-24","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_15","level":3,"title":"Security","text":"<ul> <li>[MRI] Remove support from vendored libxml2 for future script macros. [#1871]</li> <li>[MRI] Remove support from vendored libxml2 for server-side includes within attributes. [#1877]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_32","level":3,"title":"Fixed","text":"<ul> <li>[JRuby] Fix node ownership in duplicated documents. [#1060]</li> <li>[JRuby] Rethrow exceptions caught by Java SAX handler. [#1847, #1872] (@adjam)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1101-2019-01-13","level":2,"title":"1.10.1 / 2019-01-13","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_5","level":3,"title":"Added","text":"<ul> <li>[MRI] During installation, handle Xcode 10's new library path. [#1801, #1851] (@mlj and @deepj)</li> <li>Avoid unnecessary creation of <code>Proc</code>s in many methods. [#1776] (@chopraanmol1)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_33","level":3,"title":"Fixed","text":"<ul> <li>CSS selector <code>:has()</code> now correctly matches against any descendant. Previously this selector matched against only direct children). [#350] (@Phrogz)</li> <li><code>NodeSet#attr</code> now returns <code>nil</code> if it's empty. Previously this raised a NoMethodError.</li> <li>[MRI] XPath errors are no longer suppressed during <code>XSLT::Stylesheet#transform</code>. Previously these errors were suppressed which led to silent failures and a subsequent segfault. [#1802]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1100-2019-01-04","level":2,"title":"1.10.0 / 2019-01-04","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_6","level":3,"title":"Added","text":"<ul> <li>[MRI] Cross-built Windows gems now support Ruby 2.6 [#1842, #1850]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_19","level":3,"title":"Dependencies","text":"<ul> <li>This release ends support for Ruby 2.2, for which official support ended on 2018-03-31 [#1841]</li> <li>This release ends support for JRuby 1.7, for which official support ended on 2017-11-21 [#1741]</li> <li>[MRI] libxml2 is updated from 2.9.8 to 2.9.9</li> <li>[MRI] libxslt is updated from 1.1.32 to 1.1.33</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#191-2018-12-17","level":2,"title":"1.9.1 / 2018-12-17","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_34","level":3,"title":"Fixed","text":"<ul> <li>Fix a bug introduced in v1.9.0 where <code>XML::DocumentFragment#dup</code> no longer returned an instance of the callee's class, instead always returning an <code>XML::DocumentFragment</code>. This notably broke any subclass of <code>XML::DocumentFragment</code> including <code>HTML::DocumentFragment</code> as well as the Loofah gem's <code>Loofah::HTML::DocumentFragment</code>. [#1846]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#190-2018-12-17","level":2,"title":"1.9.0 / 2018-12-17","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_16","level":3,"title":"Security","text":"<ul> <li>[JRuby] Upgrade Xerces dependency from 2.11.0 to 2.12.0 to address upstream vulnerability CVE-2012-0881 [#1831] (Thanks @grajagandev for reporting.)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#improved_6","level":3,"title":"Improved","text":"<ul> <li>Decrease installation size by removing many unneeded files (e.g., <code>/test</code>) from the packaged gems. [#1719] (@stevecrozz)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_7","level":3,"title":"Added","text":"<ul> <li><code>XML::Attr#value=</code> allows HTML node attribute values to be set to either a blank string or an empty boolean attribute. [#1800]</li> <li>Introduce <code>XML::Node#wrap</code> which does what <code>XML::NodeSet#wrap</code> has always done, but for a single node. [#1531] (@ethirajsrinivasan)</li> <li>[MRI] Improve installation experience on macOS High Sierra (Darwin). [#1812, #1813] (@gpakosz and @nurse)</li> <li>[MRI] <code>Node#dup</code> supports copying a node directly to a new document. See the method documentation for details.</li> <li>[MRI] <code>DocumentFragment#dup</code> is now more memory-efficient, avoiding making unnecessary copies. [#1063]</li> <li>[JRuby] <code>NodeSet</code> has been rewritten to improve performance! [#1795]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_35","level":3,"title":"Fixed","text":"<ul> <li><code>NodeSet#each</code> now returns <code>self</code> instead of zero. [#1822] (@olehif)</li> <li>[MRI] Address a memory leak when using <code>XML::Builder</code> to create nodes with namespaces. [#1810]</li> <li>[MRI] Address a memory leak when unparenting a DTD. [#1784] (@stevecheckoway)</li> <li>[MRI] Use <code>RbConfig::CONFIG</code> instead of <code>::MAKEFILE_CONFIG</code> to fix installations that use Makefile macros. [#1820] (@nobu)</li> <li>[JRuby] Decrease large memory usage when making nested XPath queries. [#1749]</li> <li>[JRuby] Fix failing tests on JRuby 9.2.x</li> <li>[JRuby] Fix default namespaces in nodes reparented into a different document [#1774]</li> <li>[JRuby] Fix support for Java 9. [#1759] (@Taywee)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_20","level":3,"title":"Dependencies","text":"<ul> <li>[MRI] Upgrade mini_portile2 dependency from <code>~&gt; 2.3.0</code> to <code>~&gt; 2.4.0</code></li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#185-2018-10-04","level":2,"title":"1.8.5 / 2018-10-04","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_17","level":3,"title":"Security","text":"<p>[MRI] Pulled in upstream patches from libxml2 that address CVE-2018-14404 and CVE-2018-14567. Full details are available in #1785. Note that these patches are not yet (as of 2018-10-04) in an upstream release of libxml2.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_36","level":3,"title":"Fixed","text":"<ul> <li>[MRI] Fix regression in installation when building against system libraries, where some systems would not be able to find libxml2 or libxslt when present. (Regression introduced in v1.8.3.) [#1722]</li> <li>[JRuby] Fix node reparenting when the destination doc is empty. [#1773]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#184-2018-07-03","level":2,"title":"1.8.4 / 2018-07-03","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_37","level":3,"title":"Fixed","text":"<ul> <li>[MRI] Fix memory leak when creating nodes with namespaces. (Introduced in v1.5.7) [#1771]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#183-2018-06-16","level":2,"title":"1.8.3 / 2018-06-16","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_18","level":3,"title":"Security","text":"<p>[MRI] Behavior in libxml2 has been reverted which caused CVE-2018-8048 (loofah gem), CVE-2018-3740 (sanitize gem), and CVE-2018-3741 (rails-html-sanitizer gem). The commit in question is here:</p> <p>https://github.com/GNOME/libxml2/commit/960f0e2</p> <p>and more information is available about this commit and its impact here:</p> <p>https://github.com/flavorjones/loofah/issues/144</p> <p>This release simply reverts the libxml2 commit in question to protect users of Nokogiri's vendored libraries from similar vulnerabilities.</p> <p>If you're offended by what happened here, I'd kindly ask that you comment on the upstream bug report here:</p> <p>https://bugzilla.gnome.org/show_bug.cgi?id=769760</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#more-security","level":3,"title":"More Security","text":"<p>[MRI] Vendored libxml2 upgraded to v2.9.8 which addresses CVE-2016-9318 [#1582].</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_21","level":3,"title":"Dependencies","text":"<ul> <li>[MRI] libxml2 is updated from 2.9.7 to 2.9.8</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_8","level":3,"title":"Added","text":"<ul> <li><code>Node#classes</code>, <code>#add_class</code>, <code>#append_class</code>, and <code>#remove_class</code> are added.</li> <li><code>NodeSet#append_class</code> is added.</li> <li><code>NodeSet#remove_attribute</code> is a new alias for <code>NodeSet#remove_attr</code>.</li> <li><code>NodeSet#each</code> now returns an <code>Enumerator</code> when no block is passed (@park53kr)</li> <li>[JRuby] General improvements in JRuby implementation (@kares)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_38","level":3,"title":"Fixed","text":"<ul> <li>CSS attribute selectors now gracefully handle queries using integers. [#711]</li> <li>Handle ASCII-8BIT encoding on fragment input [#553]</li> <li>Handle non-string return values within <code>Reader</code> [#898]</li> <li>[JRuby] Allow <code>Node#replace</code> to insert Comment and CDATA nodes. [#1666]</li> <li>[JRuby] Stability and speed improvements to <code>Node</code>, <code>Sax::PushParser</code>, and the JRuby implementation [#1708, #1710, #1501]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#182-2018-01-29","level":2,"title":"1.8.2 / 2018-01-29","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_19","level":3,"title":"Security","text":"<p>[MRI] The update of vendored libxml2 from 2.9.5 to 2.9.7 addresses at least one published vulnerability, CVE-2017-15412. [#1714 has complete details]</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_22","level":3,"title":"Dependencies","text":"<ul> <li>[MRI] libxml2 is updated from 2.9.5 to 2.9.7</li> <li>[MRI] libxslt is updated from 1.1.30 to 1.1.32</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_9","level":3,"title":"Added","text":"<ul> <li>[MRI] OpenBSD installation should be a bit easier now. [#1685] (@jeremyevans)</li> <li>[MRI] Cross-built Windows gems now support Ruby 2.5</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_39","level":3,"title":"Fixed","text":"<ul> <li><code>Node#serialize</code> once again returns UTF-8-encoded strings. [#1659]</li> <li>[JRuby] made SAX parsing of characters consistent with C implementation [#1676] (@andrew-aladev)</li> <li>[MRI] Predefined entities, when inspected, no longer cause a segfault. [#1238]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#181-2017-09-19","level":2,"title":"1.8.1 / 2017-09-19","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_23","level":3,"title":"Dependencies","text":"<ul> <li>[MRI] libxml2 is updated from 2.9.4 to 2.9.5.</li> <li>[MRI] libxslt is updated from 1.1.29 to 1.1.30.</li> <li>[MRI] optional dependency on the pkg-config gem has had its constraint loosened to <code>~&gt; 1.1</code> (from <code>~&gt; 1.1.7</code>). [#1660]</li> <li>[MRI] Upgrade mini_portile2 dependency from <code>~&gt; 2.2.0</code> to <code>~&gt; 2.3.0</code>, which will validate checksums on the vendored libxml2 and libxslt tarballs before using them.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_40","level":3,"title":"Fixed","text":"<ul> <li><code>NodeSet#first</code> with an integer argument longer than the length of the <code>NodeSet</code> now correctly clamps the length of the returned <code>NodeSet</code> to the original length. [#1650] (@Derenge)</li> <li>[MRI] Ensure CData.new raises TypeError if the <code>content</code> argument is not implicitly convertible into a string. [#1669]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#180-2017-06-04","level":2,"title":"1.8.0 / 2017-06-04","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_24","level":3,"title":"Dependencies","text":"<p>This release ends support for Ruby 2.1 on Windows in the <code>x86-mingw32</code> and <code>x64-mingw32</code> platform gems (containing pre-compiled DLLs). Official support ended for Ruby 2.1 on 2017-04-01.</p> <p>Please note that this deprecation note only applies to the precompiled Windows gems. Ruby 2.1 continues to be supported (for now) in the default gem when compiled on installation.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_25","level":3,"title":"Dependencies","text":"<ul> <li>[Windows] Upgrade iconv from 1.14 to 1.15 (unless --use-system-libraries)</li> <li>[Windows] Upgrade zlib from 1.2.8 to 1.2.11 (unless --use-system-libraries)</li> <li>[MRI] Upgrade rake-compiler dependency from 0.9.2 to 1.0.3</li> <li>[MRI] Upgrade mini-portile2 dependency from <code>~&gt; 2.1.0</code> to <code>~&gt; 2.2.0</code></li> <li>[JRuby] Removed support for <code>jruby --1.8</code> code paths. [#1607] (@kares)</li> <li>[MRI Windows] Retrieve zlib source from http://zlib.net/fossils to avoid deprecation issues going forward. See #1632 for details around this problem.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_10","level":3,"title":"Added","text":"<ul> <li><code>NodeSet#clone</code> is now an alias for <code>NodeSet#dup</code> [#1503] (@stephankaag)</li> <li>Allow Processing Instructions and Comments as children of a document root. [#1033] (@windwiny)</li> <li>[MRI] <code>PushParser#replace_entities</code> and <code>#replace_entities=</code> will control whether entities are replaced or not. [#1017] (@spraints)</li> <li>[MRI] <code>SyntaxError#to_s</code> now includes line number, column number, and log level if made available by the parser. [#1304, #1637] (@spk and @ccarruitero)</li> <li>[MRI] Cross-built Windows gems now support Ruby 2.4</li> <li>[MRI] Support for frozen string literals. [#1413]</li> <li>[MRI] Support for installing Nokogiri on a machine in FIPS-enabled mode [#1544]</li> <li>[MRI] Vendored libraries are verified with SHA-256 hashes (formerly some MD5 hashes were used) [#1544]</li> <li>[JRuby] (performance) remove unnecessary synchronization of class-cache [#1563] (@kares)</li> <li>[JRuby] (performance) remove unnecessary cloning of objects in XPath searches [#1563] (@kares)</li> <li>[JRuby] (performance) more performance improvements, particularly in XPath, Reader, XmlNode, and XmlNodeSet [#1597] (@kares)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_41","level":3,"title":"Fixed","text":"<ul> <li><code>HTML::SAX::Parser#parse_io</code> now correctly parses HTML and not XML [#1577] (Thanks for the test case, @gregors)</li> <li>Support installation on systems with a <code>lib64</code> site config. [#1562]</li> <li>[MRI] on OpenBSD, do not require gcc if using system libraries [#1515] (@jeremyevans)</li> <li>[MRI] <code>XML::Attr.new</code> checks type of Document arg to prevent segfaults. [#1477]</li> <li>[MRI] Prefer xmlCharStrdup (and friends) to strdup (and friends), which can cause problems on some platforms. [#1517] (@jeremy)</li> <li>[JRuby] correctly append a text node before another text node [#1318] (@jkraemer)</li> <li>[JRuby] custom xpath functions returning an integer now work correctly [#1595] (@kares)</li> <li>[JRuby] serializing (<code>#to_html</code>, <code>#to_s</code>, et al) a document with explicit encoding now works correctly. [#1281, #1440] (@kares)</li> <li>[JRuby] <code>XML::Reader</code> now returns parse errors [#1586] (@kares)</li> <li>[JRuby] Empty <code>NodeSet</code>s are now decorated properly. [#1319] (@kares)</li> <li>[JRuby] Merged nodes no longer results in Java exceptions during XPath queries. [#1320] (@kares)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#172-2017-05-09","level":2,"title":"1.7.2 / 2017-05-09","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_20","level":3,"title":"Security","text":"<p>[MRI] Upstream libxslt patches are applied to the vendored libxslt 1.1.29 which address CVE-2017-5029 and CVE-2016-4738.</p> <p>For more information:</p> <ul> <li>https://github.com/sparklemotion/nokogiri/issues/1634</li> <li>http://people.canonical.com/~ubuntu-security/cve/2017/CVE-2017-5029.html</li> <li>http://people.canonical.com/~ubuntu-security/cve/2016/CVE-2016-4738.html</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#171-2017-03-19","level":2,"title":"1.7.1 / 2017-03-19","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_21","level":3,"title":"Security","text":"<p>[MRI] Upstream libxml2 patches are applied to the vendored libxml 2.9.4 which address CVE-2016-4658 and CVE-2016-5131.</p> <p>For more information:</p> <ul> <li>https://github.com/sparklemotion/nokogiri/issues/1615</li> <li>http://people.canonical.com/~ubuntu-security/cve/2016/CVE-2016-4658.html</li> <li>http://people.canonical.com/~ubuntu-security/cve/2016/CVE-2016-5131.html</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1701-2017-01-04","level":2,"title":"1.7.0.1 / 2017-01-04","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_42","level":3,"title":"Fixed","text":"<ul> <li>Fix OpenBSD support. [#1569] (related to #1543)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#170-2016-12-26","level":2,"title":"1.7.0 / 2016-12-26","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_11","level":3,"title":"Added","text":"<ul> <li>Remove deprecation warnings in Ruby 2.4.0 [#1545] (@matthewd)</li> <li>Support egcc compiler on OpenBSD [#1543] (@frenkel and @knu)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_26","level":3,"title":"Dependencies","text":"<p>This release ends support for:</p> <ul> <li>Ruby 1.9.2, for which official support ended on 2014-07-31</li> <li>Ruby 1.9.3, for which official support ended on 2015-02-23</li> <li>Ruby 2.0.0, for which official support ended on 2016-02-24</li> <li>MacRuby, which hasn't been actively supported since 2015-01-13 (see https://github.com/MacRuby/MacRuby/commit/f76b9d6e99c18236db617e8aceb12c27d593a483)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1681-2016-10-03","level":2,"title":"1.6.8.1 / 2016-10-03","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_27","level":3,"title":"Dependencies","text":"<p>Removes required dependency on the <code>pkg-config</code> gem. This dependency was introduced in v1.6.8 and, because it's distributed under LGPL, was objectionable to many Nokogiri users (#1488, #1496).</p> <p>This version makes <code>pkg-config</code> an optional dependency. If it's installed, it's used; but otherwise Nokogiri will attempt to work around its absence.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#168-2016-06-06","level":2,"title":"1.6.8 / 2016-06-06","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_22","level":3,"title":"Security","text":"<p>[MRI] Bundled libxml2 is upgraded to 2.9.4, which fixes many security issues. Many of these had previously been patched in the vendored libxml 2.9.2 in the 1.6.7.x branch, but some are newer.</p> <p>See these libxml2 email posts for more:</p> <ul> <li>https://mail.gnome.org/archives/xml/2015-November/msg00012.html</li> <li>https://mail.gnome.org/archives/xml/2016-May/msg00023.html</li> </ul> <p>For a more detailed analysis, you may care to read Canonical's take on these security issues:</p> <ul> <li>http://www.ubuntu.com/usn/usn-2994-1</li> </ul> <p>[MRI] Bundled libxslt is upgraded to 1.1.29, which fixes a security issue as well as many long-known outstanding bugs, some features, some portability improvements, and general cleanup.</p> <p>See this libxslt email post for more:</p> <ul> <li>https://mail.gnome.org/archives/xslt/2016-May/msg00004.html</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_12","level":3,"title":"Added","text":"<p>Several changes were made to improve performance:</p> <ul> <li>[MRI] Simplify <code>NodeSet#to_a</code> with a minor speed-up. [#1397]</li> <li><code>XML::Node#ancestors</code> optimization. [#1297] (Bruno Sutic)</li> <li>Use <code>Symbol#to_proc</code> where we weren't previously. [#1296] (Bruno Sutic)</li> <li><code>XML::DTD#each</code> uses implicit block calls. (@glaucocustodio)</li> <li>Fall back to the <code>pkg-config</code> gem if we're having trouble finding the system libxml2. This should help many FreeBSD users. [#1417]</li> <li>Set document encoding appropriately even on blank document. [#1043] (@batter)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_43","level":3,"title":"Fixed","text":"<ul> <li>[JRuby] fix slow add_child [#692]</li> <li>[JRuby] fix load errors when deploying to JRuby/Torquebox [#1114] (@atambo and @jvshahid)</li> <li>[JRuby] fix NPE when inspecting nodes returned by <code>NodeSet#drop</code> [#1042] (@mkristian)</li> <li>[JRuby] fix nil attribute node's namespace in reader [#1327] (@codekitchen)</li> <li>[JRuby] fix Nokogiri munging unicode characters that require more than 2 bytes [#1113] (@mkristian)</li> <li>[JRuby] allow unlinking an unparented node (#1112, #1152) (@esse)</li> <li>[JRuby] allow Fragment parsing on a frozen string (#444, #1077)</li> <li>[JRuby] HTML <code>style</code> tags are no longer encoded [#1316] (@tbeauvais)</li> <li>[MRI] fix assertion failure while accessing attribute node's namespace in reader [#843] (@2potatocakes)</li> <li>[MRI] fix issue with GCing namespace nodes returned in an xpath query. [#1155]</li> <li>[MRI] Ensure C strings are null-terminated. [#1381]</li> <li>[MRI] Ensure Rubygems is loaded before using mini_portile2 at installation. (#1393, #1411) (@JonRowe)</li> <li>[MRI] Handling another edge case where the <code>libxml-ruby</code> gem's global callbacks were smashing the heap. [#1426]. (Thanks to @bbergstrom for providing an isolated test case)</li> <li>[MRI] Ensure encodings are passed to <code>Sax::Parser</code> xmldecl callback. [#844]</li> <li>[MRI] Ensure default ns prefix is applied correctly when reparenting nodes to another document. [#391] (@ylecuyer)</li> <li>[MRI] Ensure Reader handles non-existent attributes as expected. [#1254] (@ccutrer)</li> <li>[MRI] Cleanup around namespace handling when reparenting nodes. (#1332, #1333, #1444) (@cuttrer and @bradleybeddoes)</li> <li>unescape special characters in CSS queries [#1303] (@twalpole)</li> <li>consistently handle empty documents [#1349]</li> <li>Update to mini_portile2 2.1.0 to address whitespace-handling during patching. [#1402]</li> <li>Fix encoding of xml node namespaces.</li> <li>Work around issue installing Nokogiri on overlayfs (commonly used in Docker containers). (#1370, #1405)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notes_3","level":3,"title":"Notes","text":"<ul> <li>Removed legacy code remaining from Ruby 1.8.x support.</li> <li>Removed legacy code remaining from REE support.</li> <li>Removing hacky workarounds for bugs in some older versions of libxml2.</li> <li>Handling C strings in a forward-compatible manner, see https://github.com/ruby/ruby/blob/v2_2_0/NEWS#L319</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1672-2016-01-20","level":2,"title":"1.6.7.2 / 2016-01-20","text":"<p>This version pulls in several upstream patches to the vendored libxml2 and libxslt to address:</p> <ul> <li>CVE-2015-7499</li> </ul> <p>Ubuntu classifies this as \"Priority: Low\", RedHat classifies this as \"Impact: Moderate\", and NIST classifies this as \"Severity: 5.0 (MEDIUM)\".</p> <p>MITRE record is https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-7499</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1671-2015-12-16","level":2,"title":"1.6.7.1 / 2015-12-16","text":"<p>This version pulls in several upstream patches to the vendored libxml2 and libxslt to address:</p> <ul> <li>CVE-2015-5312</li> <li>CVE-2015-7497</li> <li>CVE-2015-7498</li> <li>CVE-2015-7499</li> <li>CVE-2015-7500</li> <li>CVE-2015-8241</li> <li>CVE-2015-8242</li> <li>CVE-2015-8317</li> </ul> <p>See also http://www.ubuntu.com/usn/usn-2834-1/</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#167-2015-11-29","level":2,"title":"1.6.7 / 2015-11-29","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_13","level":3,"title":"Added","text":"<p>This version supports native builds on Windows using the RubyInstaller DevKit. It also supports Ruby 2.2.x on Windows, as well as making several other improvements to the installation process on various platforms.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_23","level":3,"title":"Security","text":"<p>This version also includes the security patches already applied in v1.6.6.3 and v1.6.6.4 to the vendored libxml2 and libxslt source. See #1374 and #1376 for details.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_14","level":3,"title":"Added","text":"<ul> <li>Cross-built gems now have a proper ruby version requirement. [#1266]</li> <li>Ruby 2.2.x is supported on Windows.</li> <li>Native build is supported on Windows.</li> <li>[MRI] libxml2 and libxslt <code>config.guess</code> files brought up to date. [#1326] (@hernan-erasmo)</li> <li>[JRuby] fix error in validating files with jruby (#1355, #1361) (@twalpole)</li> <li>[MRI, OSX] Patch to handle nonstandard location of <code>iconv.h</code>. (#1206, #1210, #1218, #1345) (@neonichu)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_44","level":3,"title":"Fixed","text":"<ul> <li>[JRuby] reset the namespace cache when replacing the document's innerHtml [#1265] (@mkristian)</li> <li>[JRuby] <code>Document#parse</code> should support IO objects that respond to <code>#read</code>. [#1124] (Jake Byman)</li> <li>[MRI] Duplicate-id errors when setting the <code>id</code> attribute on HTML documents are now silenced. [#1262]</li> <li>[JRuby] SAX parser cuts texts in pieces when square brackets exist. [#1261]</li> <li>[JRuby] Namespaced attributes aren't removed by remove_attribute. [#1299]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1664-2015-11-19","level":2,"title":"1.6.6.4 / 2015-11-19","text":"<p>This version pulls in an upstream patch to the vendored libxml2 to address:</p> <ul> <li>unclosed comment uninitialized access issue [#1376]</li> </ul> <p>This issue was assigned CVE-2015-8710 after the fact. See http://seclists.org/oss-sec/2015/q4/616 for details.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1663-2015-11-16","level":2,"title":"1.6.6.3 / 2015-11-16","text":"<p>This version pulls in several upstream patches to the vendored libxml2 and libxslt to address:</p> <ul> <li>CVE-2015-1819</li> <li>CVE-2015-7941_1</li> <li>CVE-2015-7941_2</li> <li>CVE-2015-7942</li> <li>CVE-2015-7942-2</li> <li>CVE-2015-8035</li> <li>CVE-2015-7995</li> </ul> <p>See #1374 for details.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1662-2015-01-23","level":2,"title":"1.6.6.2 / 2015-01-23","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_45","level":3,"title":"Fixed","text":"<ul> <li>Fixed installation issue affecting compiler arguments. [#1230]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1661-2015-01-22","level":2,"title":"1.6.6.1 / 2015-01-22","text":"<p>Note that 1.6.6.0 was not released.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_15","level":3,"title":"Added","text":"<ul> <li>Unified <code>Node</code> and <code>NodeSet</code> implementations of <code>#search</code>, <code>#xpath</code> and <code>#css</code>.</li> <li>Added <code>Node#lang</code> and <code>Node#lang=</code>.</li> <li><code>bin/nokogiri</code> passes the URI to <code>parse()</code> if an HTTP URL is given.</li> <li><code>bin/nokogiri</code> now loads <code>~/.nokogirirc</code> so user can define helper methods, etc.</li> <li><code>bin/nokogiri</code> can be configured to use Pry instead of IRB by adding a couple of lines to ~/.nokogirirc. [#1198]</li> <li><code>bin/nokogiri</code> can better handle urls from STDIN (aiding use of xargs). [#1065]</li> <li>JRuby 9K support.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_46","level":3,"title":"Fixed","text":"<ul> <li><code>DocumentFragment#search</code> now matches against root nodes. [#1205]</li> <li>(MRI) More fixes related to handling libxml2 parse errors during <code>DocumentFragment#dup</code>. [#1196]</li> <li>(JRuby) Builder now handles namespace hrefs properly when there is a default ns. [#1039]</li> <li>(JRuby) Clear the XPath cache on attr removal. [#1109]</li> <li><code>XML::Comment.new</code> argument types are now consistent and safe (and documented) across MRI and JRuby. [#1224]</li> <li>(MRI) Restoring support for Ruby 1.9.2 that was broken in v1.6.4.1 and v1.6.5. [#1207]</li> <li>Check if <code>zlib</code> is available before building <code>libxml2</code>. [#1188]</li> <li>(JRuby) HtmlSaxPushParser now exists. [#1147] (Piotr Szmielew)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#165-2014-11-26","level":2,"title":"1.6.5 / 2014-11-26","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_16","level":3,"title":"Added","text":"<ul> <li>Implement <code>Slop#respond_to_missing?</code>. [#1176]</li> <li>Optimized the XPath query generated by an <code>an+b</code> CSS query.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_47","level":3,"title":"Fixed","text":"<ul> <li>Capture non-parse errors from <code>Document#dup</code> in <code>Document#errors</code>. [#1196]</li> <li>(JRuby) <code>Document#canonicalize</code> parameters are now consistent with MRI. [#1189]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1641-2014-11-05","level":2,"title":"1.6.4.1 / 2014-11-05","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_48","level":3,"title":"Fixed","text":"<ul> <li>(MRI) Fix a bug where CFLAGS passed in are dropped. [#1188]</li> <li>Fix a bug where CSS selector :nth(n) did not work. [#1187]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#164-2014-11-04","level":2,"title":"1.6.4 / 2014-11-04","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_17","level":3,"title":"Added","text":"<ul> <li>(MRI) Bundled Libxml2 is upgraded to 2.9.2.</li> <li>(MRI) <code>nokogiri --version</code> will include a list of applied patches.</li> <li>(MRI) Nokogiri no longer prints messages directly to TTY while building the extension.</li> <li>(MRI) Detect and help user fix a missing /usr/include/iconv.h on OS X. [#1111]</li> <li>(MRI) Improve the iconv detection for building libxml2.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_49","level":3,"title":"Fixed","text":"<ul> <li>(MRI) Fix <code>DocumentFragment#element_children</code> [#1138].</li> <li>Fix a bug with CSS attribute selector without any prefix where \"foo [bar]\" was treated as \"foo[bar]\". [#1174]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1631-2014-07-21","level":2,"title":"1.6.3.1 / 2014-07-21","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_50","level":3,"title":"Fixed","text":"<ul> <li>Addressing an Apple Macintosh installation problem for GCC users. [#1130] (@zenspider)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#163-2014-07-20","level":2,"title":"1.6.3 / 2014-07-20","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_18","level":3,"title":"Added","text":"<ul> <li>Added <code>Node#document?</code> and <code>Node#processing_instruction?</code></li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_51","level":3,"title":"Fixed","text":"<ul> <li>[JRuby] Fix Ruby memory exhaustion vulnerability. [#1087] (@ocher)</li> <li>[MRI] Fix segfault during GC when using <code>libxml-ruby</code> and <code>nokogiri</code> together in multi-threaded environment. [#895] (@ender672)</li> <li>Building on OSX 10.9 stock ruby 2.0.0 now works. [#1101] (@zenspider)</li> <li><code>Node#parse</code> now works again for HTML document nodes (broken in 1.6.2+).</li> <li>Processing instructions can now be added via <code>Node#add_next_sibling</code>.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1621-2014-05-13","level":2,"title":"1.6.2.1 / 2014-05-13","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_52","level":3,"title":"Fixed","text":"<ul> <li>Fix statically-linked libxml2 installation when using universal builds of Ruby. [#1104]</li> <li>Patching <code>mini_portile</code> to address the git dependency detailed in [#1102].</li> <li>Library load fix to address segfault reported on some systems. [#1097]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#162-2014-05-12","level":2,"title":"1.6.2 / 2014-05-12","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_24","level":3,"title":"Security","text":"<p>A set of security and bugfix patches have been backported from the libxml2 and libxslt repositories onto the version of 2.8.0 packaged with Nokogiri, including these notable security fixes:</p> <ul> <li>https://git.gnome.org/browse/libxml2/commit/?id=4629ee02ac649c27f9c0cf98ba017c6b5526070f</li> <li>CVE-2013-2877 https://git.gnome.org/browse/libxml2/commit/?id=e50ba8164eee06461c73cd8abb9b46aa0be81869</li> <li>CVE-2014-0191 https://git.gnome.org/browse/libxml2/commit/?id=9cd1c3cfbd32655d60572c0a413e017260c854df</li> </ul> <p>It is recommended that you upgrade from 1.6.x to this version as soon as possible.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_28","level":3,"title":"Dependencies","text":"<p>Now requires libxml &gt;= 2.6.21 (was previously &gt;= 2.6.17).</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_19","level":3,"title":"Added","text":"<ul> <li>Add cross building of fat binary gems for 64-Bit Windows (x64-mingw32) and add support for native builds on Windows. [#864, #989, #1072]</li> <li>(MRI) Alias CP932 to Windows-31J if iconv does not support Windows-31J.</li> <li>(MRI) Nokogiri now links packaged libraries statically. To disable static linking, pass --disable-static to <code>extconf.rb</code>. [#923]</li> <li>(MRI) Fix a library path (LIBPATH) precedence problem caused by CRuby bug [#9760].</li> <li>(MRI) Nokogiri automatically deletes directories of packaged libraries only used during build. To keep them for debugging purposes, pass --disable-clean to <code>extconf.rb</code>. [#952]</li> <li>(MRI) Nokogiri now builds libxml2 properly with iconv support on platforms where libiconv is installed outside the system default directories, such as FreeBSD.</li> <li>Add support for an-b in nth selectors. [#886] (Magnus Bergmark)</li> <li>Add support for bare and multiple <code>:not()</code> functions in selectors. [#887] (Magnus Bergmark)</li> <li>(MRI) Add an <code>extconf.rb</code> option --use-system-libraries, alternative to setting the environment variable NOKOGIRI_USE_SYSTEM_LIBRARIES.</li> <li>(MRI) Update packaged libraries: libxslt to 1.1.28, zlib to 1.2.8, and libiconv to 1.14, respectively.</li> <li><code>Nokogiri::HTML::Document#title=</code> and <code>#meta_encoding</code>= now always add an element if not present, trying hard to find the best place to put it.</li> <li><code>Nokogiri::XML::DTD#html_dtd?</code> and <code>#html5_dtd?</code> are added.</li> <li><code>Nokogiri::XML::Node#prepend_child</code> is added. [#664]</li> <li><code>Nokogiri::XML::SAX::ParserContext#recovery</code> is added. [#453]</li> <li>Fix documentation for <code>XML::Node#namespace</code>. [#803, #802] (Hoylen Sue)</li> <li>Allow <code>Nokogiri::XML::Node#parse</code> from unparented non-element nodes. [#407]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_53","level":3,"title":"Fixed","text":"<ul> <li>Ensure :only-child pseudo class works within :not pseudo class. [#858] (Yamagishi Kazutoshi)</li> <li>Don't call pkg_config when using bundled libraries in <code>extconf.rb</code> [#931] (Shota Fukumori)</li> <li><code>Nokogiri.parse()</code> does not mistake a non-HTML document like a RSS document as HTML document. [#932] (Yamagishi Kazutoshi)</li> <li>(MRI) Perform a node type check before adding a child node to another. Previously adding a text node to another as a child could cause a SEGV. [#1092]</li> <li>(JRuby) XSD validation crashes in Java version. [#373]</li> <li>(JRuby) Document already has a root node error while using Builder. [#646]</li> <li>(JRuby) c14n tests are all passing on JRuby. [#226]</li> <li>Parsing empty documents raise <code>SyntaxError</code> in strict mode. [#1005]</li> <li>(JRuby) Make xpath faster by caching the xpath context. [#741]</li> <li>(JRuby) XML SAX push parser leaks memory on JRuby, but not on MRI. [#998]</li> <li>(JRuby) Inconsistent behavior aliasing the default namespace. [#940]</li> <li>(JRuby) Inconsistent behavior between parsing and adding namespaces. [#943]</li> <li>(JRuby) Xpath returns inconsistent result set on cloned document with namespaces and attributes. [#1034]</li> <li>(JRuby) Java-Implementation forgets element namespaces [#902]</li> <li>(JRuby) JRuby-Nokogiri does not recognise attributes inside namespaces [#1081]</li> <li>(JRuby) JRuby-Nokogiri has different comment node name [#1080]</li> <li>(JRuby) JAXPExtensionsProvider / Java 7 / Secure Processing [#1070]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#161-2013-12-14","level":2,"title":"1.6.1 / 2013-12-14","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_54","level":3,"title":"Fixed","text":"<ul> <li>(JRuby) Fix out of memory bug when certain invalid documents are parsed.</li> <li>(JRuby) Fix regression of billion-laughs vulnerability. [#586]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#160-2013-06-08","level":2,"title":"1.6.0 / 2013-06-08","text":"<p>This release was based on v1.5.10 and 1.6.0.rc1, and contains changes mentioned in both.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#deprecations","level":3,"title":"Deprecations","text":"<ul> <li>Remove pre 1.9 monitoring from Travis.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#160rc1-2013-04-14","level":2,"title":"1.6.0.rc1 / 2013-04-14","text":"<p>This release was based on v1.5.9, and so does not contain any fixes mentioned in the notes for v1.5.10.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notes_4","level":3,"title":"Notes","text":"<ul> <li>mini_portile is now a runtime dependency</li> <li>Ruby 1.9.2 and higher now required</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_20","level":3,"title":"Added","text":"<ul> <li>(MRI) Source code for libxml 2.8.0 and libxslt 1.2.26 is packaged with the gem. These libraries are compiled at gem install time unless the environment variable NOKOGIRI_USE_SYSTEM_LIBRARIES is set. VERSION_INFO (also <code>nokogiri -v</code>) exposes whether libxml was compiled from packaged source, or the system library was used.</li> <li>(Windows) libxml upgraded to 2.8.0</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_29","level":3,"title":"Dependencies","text":"<ul> <li>Support for Ruby 1.8.7 and prior has been dropped</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1511-2013-12-14","level":2,"title":"1.5.11 / 2013-12-14","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_55","level":3,"title":"Fixed","text":"<ul> <li>(JRuby) Fix out of memory bug when certain invalid documents are parsed.</li> <li>(JRuby) Fix regression of billion-laughs vulnerability. [#586]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#1510-2013-06-07","level":2,"title":"1.5.10 / 2013-06-07","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_56","level":3,"title":"Fixed","text":"<ul> <li>(JRuby) Fix \"null document\" error when parsing an empty IO in jruby 1.7.3. [#883]</li> <li>(JRuby) Fix schema validation when XSD has DOCTYPE set to DTD. [#912] (Patrick Cheng)</li> <li>(MRI) Fix segfault when there is no default subelement for an HTML node. [#917]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notes_5","level":3,"title":"Notes","text":"<ul> <li>Use rb_ary_entry instead of RARRAY_PTR (you know, for Rubinius). [#877] (Dirkjan Bussink)</li> <li>Fix TypeError when running tests. [#900] (C\u00e9dric Boutillier)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#159-2013-03-21","level":2,"title":"1.5.9 / 2013-03-21","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_57","level":3,"title":"Fixed","text":"<ul> <li>Ensure that prefixed attributes are properly namespaced when reparented. [#869]</li> <li>Fix for inconsistent namespaced attribute access for SVG nested in HTML. [#861]</li> <li>(MRI) Fixed a memory leak in fragment parsing if nodes are not all subsequently reparented. [#856]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#158-2013-03-19","level":2,"title":"1.5.8 / 2013-03-19","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_58","level":3,"title":"Fixed","text":"<ul> <li>(JRuby) Fix EmptyStackException thrown by elements with xlink:href attributes and no base_uri. [#534, #805] (Patrick Quinn and Brian Hoffman)</li> <li>Fixes duplicate attributes issue introduced in 1.5.7. [#865]</li> <li>Allow use of a prefixed namespace on a root node using <code>Nokogiri::XML::Builder</code> [#868]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#157-2013-03-18","level":2,"title":"1.5.7 / 2013-03-18","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_21","level":3,"title":"Added","text":"<ul> <li>Windows support for Ruby 2.0.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_59","level":3,"title":"Fixed","text":"<ul> <li><code>SAX::Parser.parse_io</code> throw an error when used with lower case encoding. [#828]</li> <li>(JRuby) Java Nokogiri is finally green (passes all tests) under 1.8 and 1.9 mode. High five everyone. [#798, #705]</li> <li>(JRuby) <code>Nokogiri::XML::Reader</code> broken (as a pull parser) on jruby - reads the whole XML document. [#831]</li> <li>(JRuby) JRuby hangs parsing \"&amp;\". [#837]</li> <li>(JRuby) JRuby NPE parsing an invalid XML instruction. [#838]</li> <li>(JRuby) <code>Node#content=</code> incompatibility. [#839]</li> <li>(JRuby) to_xhtml doesn't print the last slash for self-closing tags in JRuby. [#834]</li> <li>(JRuby) Adding an <code>EntityReference</code> after a Text node mangles the entity in JRuby. [#835]</li> <li>(JRuby) JRuby version inconsistency: nil for empty attributes. [#818]</li> <li>CSS queries for classes (e.g., \".foo\") now treat all whitespace identically. [#854]</li> <li>Namespace behavior cleaned up and made consistent between JRuby and MRI. [#846, #801] (Michael Klein)</li> <li>(MRI) SAX parser handles empty processing instructions. [#845]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#156-2012-12-19","level":2,"title":"1.5.6 / 2012-12-19","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_22","level":3,"title":"Added","text":"<ul> <li>Improved performance of <code>XML::Document#collect_namespaces</code>. [#761] (Juergen Mangler)</li> <li>New callback <code>SAX::Document#processing_instruction</code> (Kitaiti Makoto)</li> <li><code>Node#native_content=</code> allows setting unescaped node content. [#768]</li> <li>XPath lookup with namespaces supports symbol keys. [#729] (Ben Langfeld.)</li> <li><code>XML::Node#[]=</code> stringifies values. [#729] (Ben Langfeld.)</li> <li><code>bin/nokogiri</code> will process a document from $stdin</li> <li><code>bin/nokogiri -e</code> will execute a program from the command line</li> <li>(JRuby) <code>bin/nokogiri --version</code> will print the Xerces and NekoHTML versions.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_60","level":3,"title":"Fixed","text":"<ul> <li>Nokogiri now detects XSLT transform errors. [#731] (Justin Fitzsimmons)</li> <li>Don't throw an Error when trying to replace top-level text node in DocumentFragment. [#775]</li> <li>Raise an ArgumentError if an invalid encoding is passed to the SAX parser. [#756] (Bradley Schaefer)</li> <li>Prefixed element inconsistency between CRuby and JRuby. [#712]</li> <li>(JRuby) space prior to xml preamble causes nokogiri to fail parsing. (fixed along with #748) [#790]</li> <li>(JRuby) Fixed the bug <code>Nokogiri::XML::Node#content</code> inconsistency between Java and C. [#794, #797]</li> <li>(JRuby) raises INVALID_CHARACTER_ERR exception when EntityReference name starts with '#'. [#719]</li> <li>(JRuby) doesn't coerce namespaces out of strings on a direct subclass of Node. [#715]</li> <li>(JRuby) <code>Node#content</code> now renders newlines properly. [#737] (Piotr Szmielew)</li> <li>(JRuby) Unknown namespace are ignore when the recover option is used. [#748]</li> <li>(JRuby) XPath queries for namespaces should not throw exceptions when called twice in a row. [#764]</li> <li>(JRuby) More consistent (with libxml2) whitespace formatting when emitting XML. [#771]</li> <li>(JRuby) namespaced attributes broken when appending raw xml to builder. [#770]</li> <li>(JRuby) <code>Nokogiri::XML::Document#wrap</code> raises undefined method `length' for nil:NilClass when trying to &lt;&lt; to a node. [#781]</li> <li>(JRuby) Fixed \"bad file descriptor\" bug when closing open file descriptors. [#495]</li> <li>(JRuby) JRuby/CRuby incompatibility for attribute decorators. [#785]</li> <li>(JRuby) Issues parsing valid XML with no internal subset in the DTD. [#547, #811]</li> <li>(JRuby) Issues parsing valid node content when it contains colons. [#728]</li> <li>(JRuby) Correctly parse the doc type of html documents. [#733]</li> <li>(JRuby) Include dtd in the xml output when a builder is used with create_internal_subset. [#751]</li> <li>(JRuby) builder requires textwrappers for valid utf8 in jruby, not in mri. [#784]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#155-2012-06-24","level":2,"title":"1.5.5 / 2012-06-24","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_23","level":3,"title":"Added","text":"<ul> <li>Much-improved support for JRuby in 1.9 mode! Yay!</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_61","level":3,"title":"Fixed","text":"<ul> <li>Regression in JRuby Nokogiri add_previous_sibling (1.5.0 -&gt; 1.5.1) [#691] (John Shahid)</li> <li>JRuby unable to create HTML doc if URL arg provided [#674] (John Shahid)</li> <li>JRuby raises NullPointerException when given HTML document is nil or empty string. [#699]</li> <li>JRuby 1.9 error, uncaught throw 'encoding_found', has been fixed. [#673]</li> <li>Invalid encoding returned in JRuby with US-ASCII. [#583]</li> <li>XmlSaxPushParser raises IndexOutOfBoundsException when over 512 characters are given. [#567, #615]</li> <li>When xpath evaluation returns empty <code>NodeSet</code>, decorating <code>NodeSet</code>'s base document raises exception. [#514]</li> <li>JRuby raises exception when xpath with namespace is specified. pull request [#681] (Piotr Szmielew)</li> <li>JRuby renders nodes without their namespace when subclassing Node. [#695]</li> <li>JRuby raises NAMESPACE_ERR (org.w3c.dom.DOMException) while instantiating <code>RDF::RDFXML::Writer</code>. [#683]</li> <li>JRuby is not able to use namespaces in xpath. [#493]</li> <li>JRuby's Entity resolving should be consistent with C-Nokogiri [#704, #647, #703]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#154-2012-06-12","level":2,"title":"1.5.4 / 2012-06-12","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_24","level":3,"title":"Added","text":"<ul> <li>The \"nokogiri\" script now has more verbose output when passed the <code>--rng</code> option. [#675] (Dan Radez)</li> <li>Build support on hardened Debian systems that use <code>-Werror=format-security</code>. [#680].</li> <li>Better build support for systems with pkg-config. [#584]</li> <li>Better build support for systems with multiple iconv installations.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_62","level":3,"title":"Fixed","text":"<ul> <li>Segmentation fault when creating a comment node for a DocumentFragment. [#677, #678]</li> <li>Treat '.' as xpath in <code>at()</code> and <code>search()</code>. [#690]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#security_25","level":3,"title":"Security","text":"<p>(MRI) Default parse options for XML documents were changed to not make network connections during document parsing, to avoid XXE vulnerability. [#693]</p> <p>To re-enable this behavior, the configuration method <code>nononet</code> may be called, like this:</p> <pre><code>Nokogiri::XML::Document.parse(xml) { |config| config.nononet }\n</code></pre> <p>Insert your own joke about double-negatives here.</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#153-2012-06-01","level":2,"title":"1.5.3 / 2012-06-01","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_25","level":3,"title":"Added","text":"<ul> <li>Support for \"prefixless\" CSS selectors ~, &gt; and + like jQuery supports. [#621, #623] (David Lee)</li> <li>Attempting to improve installation on homebrew 0.9 (with regards to iconv). Isn't package management convenient?</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_63","level":3,"title":"Fixed","text":"<ul> <li>Custom xpath functions with empty nodeset arguments cause a segfault. [#634].</li> <li><code>Nokogiri::XML::Node#css</code> now works for XML documents with default namespaces when the rule contains attribute selector without namespace.</li> <li>Fixed marshalling bugs around how arguments are passed to (and returned from) XSLT custom xpath functions. [#640].</li> <li><code>Nokogiri::XML::Reader#outer_xml</code> is broken in JRuby [#617]</li> <li><code>Nokogiri::XML::Attribute</code> on JRuby returns a nil namespace [#647]</li> <li><code>Nokogiri::XML::Node#namespace=</code> cannot set a namespace without a prefix on JRuby [#648]</li> <li>(JRuby) 1.9 mode causes dead lock while running rake [#571]</li> <li><code>HTML::Document#meta_encoding</code> does not raise exception on docs with malformed content-type. [#655]</li> <li>Fixing segfault related to unsupported encodings in in-context parsing on 1.8.7. [#643]</li> <li>(JRuby) Concurrency issue in XPath parsing. [#682]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#152-2012-03-09","level":2,"title":"1.5.2 / 2012-03-09","text":"<p>Repackaging of 1.5.1 with a gemspec that is compatible with older Rubies. [#631, #632]</p>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#151-2012-03-09","level":2,"title":"1.5.1 / 2012-03-09","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_26","level":3,"title":"Added","text":"<ul> <li><code>XML::Builder#comment</code> allows creation of comment nodes.</li> <li>CSS searches now support namespaced attributes. [#593]</li> <li>Java integration feature is added. Now, <code>XML::Document.wrap</code> and <code>XML::Document#to_java</code> methods are available.</li> <li>RelaxNG validator support in the <code>nokogiri</code> cli utility. [#591] (Dan Radez)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_64","level":3,"title":"Fixed","text":"<ul> <li>Fix many memory leaks and segfault opportunities. Tim Elliott!</li> <li>extconf searches homebrew paths if homebrew is installed.</li> <li>Inconsistent behavior of Nokogiri 1.5.0 Java [#620]</li> <li>Inheriting from <code>Nokogiri::XML::Node</code> on JRuby (1.6.4/5) fails [#560]</li> <li><code>XML::Attr</code> nodes are not allowed to be added as node children, so an exception is raised. [#558]</li> <li>No longer defensively \"pickle\" adjacent text nodes on <code>Node#add_next_sibling</code> and <code>Node#add_previous_sibling</code> calls. [#595].</li> <li>Java version inconsistency: it returns nil for empty attributes [#589]</li> <li>to_xhtml incorrectly generates <code>&lt;p /&gt;&lt;/p&gt;</code> when tag is empty [#557]</li> <li><code>Document#add_child</code> now accepts a <code>Node</code>, <code>NodeSet</code>, <code>DocumentFragment</code>, or <code>String</code>. [#546].</li> <li><code>Document#create_element</code> now recognizes namespaces containing non-word characters (like \"SOAP-ENV\"). This is mostly relevant to users of Builder, which calls <code>Document#create_element</code> for nearly everything. [#531].</li> <li>File encoding broken in 1.5.0 / jruby / windows [#529]</li> <li>Java version does not return namespace defs as attrs for <code>::HTML</code> [#542]</li> <li>Bad file descriptor with Nokogiri 1.5.0 [#495]</li> <li>remove_namespace! doesn't work in pure java version [#492]</li> <li>The Nokogiri Java native build throws a null pointer exception when ActiveSupport's .blank? method is called directly on a parsed object. [#489]</li> <li>1.5.0 Not using correct character encoding [#488]</li> <li>Raw XML string in XML Builder broken on JRuby [#486]</li> <li>Nokogiri 1.5.0 XML generation broken on JRuby [#484]</li> <li>Do not allow multiple root nodes. [#550]</li> <li>Fixes for custom XPath functions. [#605, #606] (Juan Wajnerman)</li> <li><code>Node#to_xml</code> does not override <code>:save_with</code> if it is provided. [#505]</li> <li><code>Node#set</code> is a private method (JRuby). [#564] (Nick Sieger)</li> <li>C14n cleanup and <code>Node#canonicalize</code> (Ivan Pirlik) [#563]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#150-2011-07-01","level":2,"title":"1.5.0 / 2011-07-01","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notes_6","level":3,"title":"Notes","text":"<ul> <li>See changelog from 1.4.7</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_27","level":3,"title":"Added","text":"<ul> <li>extracted sets of <code>Node::SaveOptions</code> into <code>Node::SaveOptions::DEFAULT_{X,H,XH}TML</code> (refactor)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_65","level":3,"title":"Fixed","text":"<ul> <li>default output of XML on JRuby is no longer formatted due to inconsistent whitespace handling. [#415]</li> <li>(JRuby) making empty <code>NodeSet</code>s with null <code>nodes</code> member safe to operate on. [#443]</li> <li>Fix a bug in advanced encoding detection that leads to partially duplicated document when parsing an HTML file with unknown encoding.</li> <li>Add support for <code>&lt;meta charset=\"...\"&gt;</code>.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#150-beta3-2010-12-02","level":2,"title":"1.5.0 beta3 / 2010-12-02","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notes_7","level":3,"title":"Notes","text":"<ul> <li>JRuby performance tuning</li> <li>See changelog from 1.4.4</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_66","level":3,"title":"Fixed","text":"<ul> <li><code>Node#inner_text</code> no longer returns nil. (JRuby) [#264]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#150-beta2-2010-07-30","level":2,"title":"1.5.0 beta2 / 2010-07-30","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notes_8","level":3,"title":"Notes","text":"<ul> <li>See changelog from 1.4.3</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#150-beta1-2010-05-22","level":2,"title":"1.5.0 beta1 / 2010-05-22","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notes_9","level":3,"title":"Notes","text":"<ul> <li>JRuby support is provided by a new pure-java backend.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#dependencies_30","level":3,"title":"Dependencies","text":"<ul> <li>Ruby 1.8.6 is deprecated. Nokogiri will install, but official support is ended.</li> <li>LibXML 2.6.16 and earlier are deprecated. Nokogiri will refuse to install.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#removed_1","level":3,"title":"Removed","text":"<ul> <li>FFI support is removed.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#147-2011-07-01","level":2,"title":"1.4.7 / 2011-07-01","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_67","level":3,"title":"Fixed","text":"<ul> <li>Fix a bug in advanced encoding detection that leads to partially duplicated document when parsing an HTML file with unknown encoding. Timothy Elliott (@ender672)! [#478]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#146-2011-06-19","level":2,"title":"1.4.6 / 2011-06-19","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notes_10","level":3,"title":"Notes","text":"<ul> <li>This version is functionally identical to 1.4.5.</li> <li>Ruby 1.8.6 support has been restored.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#145-2011-05-19","level":2,"title":"1.4.5 / 2011-05-19","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_28","level":3,"title":"Added","text":"<ul> <li><code>Nokogiri::HTML::Document#title</code> accessor gets and sets the document title.</li> <li>extracted sets of <code>Node::SaveOptions</code> into <code>Node::SaveOptions::DEFAULT_{X,H,XH}TML</code> (refactor)</li> <li>Raise an exception if a string is passed to <code>Nokogiri::XML::Schema#validate</code>. [#406]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_68","level":3,"title":"Fixed","text":"<ul> <li><code>Node#serialize</code>-and-friends now accepts a <code>SaveOption</code> object as the, erm, save object.</li> <li><code>Nokogiri::CSS::Parser</code> has-a <code>Nokogiri::CSS::Tokenizer</code></li> <li>(JRUBY+FFI only) Weak references are now threadsafe. [#355]</li> <li>Make direct <code>start_element()</code> callback (currently used for <code>HTML::SAX::Parser</code>) pass attributes in assoc array, just as emulated <code>start_element()</code> callback does.  rel. [#356]</li> <li><code>HTML::SAX::Parser</code> should call back a block given to <code>parse*()</code> if any, just as <code>XML::SAX::Parser</code> does.</li> <li>Add further encoding detection to HTML parser that libxml2 does not do.</li> <li><code>Document#remove_namespaces!</code> now handles attributes with namespaces. [#396]</li> <li><code>XSLT::Stylesheet#transform</code> no longer segfaults when handed a non-<code>XML::Document</code>. [#452]</li> <li><code>XML::Reader</code> no longer segfaults when under GC pressure. [#439]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#144-2010-11-15","level":2,"title":"1.4.4 / 2010-11-15","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_29","level":3,"title":"Added","text":"<ul> <li><code>XML::Node#children=</code> sets the node's inner html (much like #inner_html=), but returns the reparent node(s).</li> <li>XSLT supports function extensions. [#336]</li> <li>XPath bind parameter substitution. [#329]</li> <li><code>XML::Reader</code> node type constants. [#369]</li> <li>SAX Parser context provides line and column information</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_69","level":3,"title":"Fixed","text":"<ul> <li><code>XML::DTD#attributes</code> returns an empty hash instead of nil when there are no attributes.</li> <li><code>XML::DTD#{keys,each}</code> now work as expected. [#324]</li> <li><code>{XML,HTML}::DocumentFragment.{new,parse}</code> no longer strip leading and trailing whitespace. [#319]</li> <li><code>XML::Node#{add_child,add_previous_sibling,add_next_sibling,replace}</code> return a <code>NodeSet</code> when passed a string.</li> <li>Unclosed tags parsed more robustly in fragments. [#315]</li> <li><code>XML::Node#{replace,add_previous_sibling,add_next_sibling}</code> edge cases fixed related to libxml's text node merging. [#308]</li> <li>Fixed a segfault when GC occurs during xpath handler argument marshalling. [#345]</li> <li>Added hack to <code>Slop</code> decorator to work with previously defined methods. [#330]</li> <li>Fix a memory leak when duplicating child nodes. [#353]</li> <li>Fixed off-by-one bug with <code>nth-last-{child,of-type}</code> CSS selectors when NOT using <code>an+b</code> notation. [#354]</li> <li>Fixed passing of non-namespace attributes to <code>SAX::Document#start_element</code>. [#356]</li> <li>Workaround for libxml2 in-context parsing bug. [#362]</li> <li>Fixed <code>NodeSet#wrap</code> on nodes within a fragment. [#331]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#143-2010-07-28","level":2,"title":"1.4.3 / 2010-07-28","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_30","level":3,"title":"Added","text":"<ul> <li><code>XML::Reader#empty_element?</code> returns true for empty elements. [#262]</li> <li><code>Node#remove_namespaces!</code> now removes namespace declarations as well. [#294]</li> <li><code>NodeSet#at_xpath</code>, <code>NodeSet#at_css</code> and <code>NodeSet#&gt;</code> do what the corresponding methods of <code>Node</code> do.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_70","level":3,"title":"Fixed","text":"<ul> <li><code>XML::NodeSet#{include?,delete,push}</code> accept an <code>XML::Namespace</code></li> <li><code>XML::Document#parse</code> added for parsing in the context of a document</li> <li><code>XML::DocumentFragment#inner_html=</code> works with contextual parsing! [#298, #281]</li> <li><code>lib/nokogiri/css/parser.y</code> Combined CSS functions + pseudo selectors fixed</li> <li>Reparenting text nodes is safe, even when the operation frees adjacent merged nodes. [#283]</li> <li>Fixed libxml2 versionitis issue with <code>xmlFirstElementChild</code> et al. [#303]</li> <li><code>XML::Attr#add_namespace</code> now works as expected. [#252]</li> <li><code>HTML::DocumentFragment</code> uses the string's encoding. [#305]</li> <li>Fix the CSS3 selector translation rule for the general sibling combinator (a.k.a. preceding selector) that incorrectly converted \"E ~ F G\" to \"//F//G[preceding-sibling::E]\".</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#142-2010-05-22","level":2,"title":"1.4.2 / 2010-05-22","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_31","level":3,"title":"Added","text":"<ul> <li><code>XML::Node#parse</code> will parse XML or HTML fragments with respect to the context node.</li> <li><code>XML::Node#namespaces</code> returns all namespaces defined in the node and all ancestor nodes (previously did not return ancestors' namespace definitions).</li> <li>Added <code>Enumerable</code> to <code>XML::Node</code></li> <li><code>Nokogiri::XML::Schema#validate</code> now uses xmlSchemaValidateFile if a filename is passed, which is faster and more memory-efficient. [#219]</li> <li><code>XML::Document#create_entity</code> will create new <code>EntityDecl</code> objects. [#174]</li> <li>JRuby FFI implementation no longer uses <code>ObjectSpace._id2ref</code>, instead using Charles Nutter's rocking Weakling gem.</li> <li><code>Nokogiri::XML::Node#first_element_child</code> fetch the first child node that is an ELEMENT node.</li> <li><code>Nokogiri::XML::Node#last_element_child</code> fetch the last child node that is an ELEMENT node.</li> <li><code>Nokogiri::XML::Node#elements</code> fetch all children nodes that are ELEMENT nodes.</li> <li><code>Nokogiri::XML::Node#add_child</code>, <code>#add_previous_sibling</code>, <code>#before</code>, <code>#add_next_sibling</code>, <code>#after</code>, <code>#inner_html</code>, <code>#swap</code> and <code>#replace</code> all now accept a <code>Node</code>, <code>DocumentFragment</code>, <code>NodeSet</code>, or a string containing markup.</li> <li><code>Node#fragment?</code> indicates whether a node is a <code>DocumentFragment</code>.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_71","level":3,"title":"Fixed","text":"<ul> <li><code>XML::NodeSet</code> is now always decorated (if the document has decorators). [#198]</li> <li><code>XML::NodeSet#slice</code> gracefully handles offset+length larger than the set length. [#200]</li> <li><code>XML::Node#content=</code> safely unlinks previous content. [#203]</li> <li><code>XML::Node#namespace=</code> takes nil as a parameter</li> <li><code>XML::Node#xpath</code> returns things other than <code>NodeSet</code> objects. [#208]</li> <li><code>XSLT::StyleSheet#transform</code> accepts hashes for parameters. [#223]</li> <li>Pseudo selectors inside <code>not()</code> work. [#205]</li> <li><code>XML::Builder</code> doesn't break when nodes are unlinked. [#228] (vihai)</li> <li>Encoding can be forced on the SAX parser. [#204] (Eugene Pimenov)</li> <li><code>XML::DocumentFragment</code> uses <code>XML::Node#parse</code> to determine children.</li> <li>Fixed a memory leak in xml reader. [#244] (sdor)</li> <li><code>Node#replace</code> returns the new child node as claimed in the RDoc. Previously returned +self+.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#notes_11","level":3,"title":"Notes","text":"<ul> <li>The Windows gems now bundle DLLs for libxml 2.7.6 and libxslt 1.1.26. Prior to this release, libxml 2.7.3 and libxslt 1.1.24 were bundled.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#141-2009-12-10","level":2,"title":"1.4.1 / 2009-12-10","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_32","level":3,"title":"Added","text":"<ul> <li>Added <code>Nokogiri::LIBXML_ICONV_ENABLED</code></li> <li>Alias <code>Node#[]</code> to <code>Node#attr</code></li> <li><code>XML::Node#next_element</code> added</li> <li><code>XML::Node#&gt;</code> added for searching a nodes immediate children</li> <li><code>XML::NodeSet#reverse</code> added</li> <li>Added fragment support to <code>Node#add_child</code>, <code>Node#add_next_sibling</code>, <code>Node#add_previous_sibling</code>, and <code>Node#replace</code>.</li> <li><code>XML::Node#previous_element</code> implemented</li> <li>Rubinius support</li> <li>The CSS selector engine now supports <code>:has()</code></li> <li><code>XML::NodeSet#filter()</code> was added</li> <li><code>XML::Node.next=</code> and .previous= are aliases for add_next_sibling and add_previous_sibling. [#183]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_72","level":3,"title":"Fixed","text":"<ul> <li>XML fragments with namespaces do not raise an exception (regression in 1.4.0)</li> <li><code>Node#matches?</code> works in nodes contained by a <code>DocumentFragment</code>. [#158]</li> <li><code>Document</code> should not define <code>add_namespace()</code> method. [#169]</li> <li><code>XPath</code> queries returning namespace declarations do not segfault.</li> <li><code>Node#replace</code> works with nodes from different documents. [#162]</li> <li>Adding <code>XML::Document#collect_namespaces</code></li> <li>Fixed bugs in the SOAP4R adapter</li> <li>Fixed bug in <code>XML::Node#next_element</code> for certain edge cases</li> <li>Fixed load path issue with JRuby under Windows. [#160].</li> <li><code>XSLT#apply_to</code> will honor the \"output method\". (richardlehane)</li> <li>Fragments containing leading text nodes with newlines now parse properly. [#178].</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#140-2009-10-30","level":2,"title":"1.4.0 / 2009-10-30","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_33","level":3,"title":"Added","text":"<ul> <li><code>Node#at_xpath</code> returns the first element of the <code>NodeSet</code> matching the XPath expression.</li> <li><code>Node#at_css</code> returns the first element of the <code>NodeSet</code> matching the CSS selector.</li> <li><code>NodeSet#|</code> for unions [#119] (Serabe)</li> <li><code>NodeSet#inspect</code> makes prettier output</li> <li><code>Node#inspect</code> implemented for more rubyish document inspecting</li> <li>Added <code>XML::DTD#external_id</code></li> <li>Added <code>XML::DTD#system_id</code></li> <li>Added <code>XML::ElementContent</code> for DTD Element content validity</li> <li>Better namespace declaration support in <code>Nokogiri::XML::Builder</code></li> <li>Added <code>XML::Node#external_subset</code></li> <li>Added <code>XML::Node#create_external_subset</code></li> <li>Added <code>XML::Node#create_internal_subset</code></li> <li>XML Builder can append raw strings (#141, patch from dudleyf)</li> <li><code>XML::SAX::ParserContext</code> added</li> <li><code>XML::Document#remove_namespaces!</code> for the namespace-impaired</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_73","level":3,"title":"Fixed","text":"<ul> <li>returns nil when HTML documents do not declare a meta encoding tag. [#115]</li> <li>Uses <code>RbConfig::CONFIG['host_os']</code> to adjust <code>ENV['PATH']</code> [#113]</li> <li><code>NodeSet#search</code> is more efficient [#119] (Serabe)</li> <li><code>NodeSet#xpath</code> handles custom xpath functions</li> <li>Fixing a SEGV when <code>XML::Reader</code> gets attributes for current node</li> <li><code>Node#inner_html</code> takes the same arguments as <code>Node#to_html</code> [#117]</li> <li><code>DocumentFragment#css</code> delegates to it's child nodes [#123]</li> <li><code>NodeSet#[]</code> works with slices larger than <code>NodeSet#length</code> [#131]</li> <li>Reparented nodes maintain their namespace. [#134]</li> <li>Fixed SEGV when adding an <code>XML::Document</code> to <code>NodeSet</code></li> <li><code>XML::SyntaxError</code> can be duplicated. [#148]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#removed_2","level":3,"title":"Removed","text":"<ul> <li>Hpricot compatibility layer removed</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#133-2009-07-26","level":2,"title":"1.3.3 / 2009-07-26","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_34","level":3,"title":"Added","text":"<ul> <li><code>NodeSet#children</code> returns all children of all nodes</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_74","level":3,"title":"Fixed","text":"<ul> <li>Override libxml-ruby's global error handler</li> <li><code>ParseOption#strict</code> fixed</li> <li>Fixed a segfault when sending an empty string to <code>Node#inner_html=</code> [#88]</li> <li>String encoding is now set to UTF-8 in Ruby 1.9</li> <li>Fixed a segfault when moving root nodes between documents. [#91]</li> <li>Fixed an O(n) penalty on node creation. [#101]</li> <li>Allowing XML documents to be output as HTML documents</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#deprecations_1","level":3,"title":"Deprecations","text":"<ul> <li>Hpricot compatibility layer will be removed in 1.4.0</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#132-2009-06-22","level":2,"title":"1.3.2 / 2009-06-22","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_35","level":3,"title":"Added","text":"<ul> <li><code>Nokogiri::XML::DTD#validate</code> will validate your document</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_75","level":3,"title":"Fixed","text":"<ul> <li><code>Nokogiri::XML::NodeSet#search</code> will search top level nodes. [#73]</li> <li>Removed namespace related methods from <code>Nokogiri::XML::Document</code></li> <li>Fixed a segfault when a namespace was added twice</li> <li>Made nokogiri work with Snow Leopard [#79]</li> <li>Mailing list has moved to: http://groups.google.com/group/nokogiri-talk</li> <li>HTML fragments now correctly handle comments and CDATA blocks. [#78]</li> <li><code>Nokogiri::XML::Document#clone</code> is now an alias of dup</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#deprecations_2","level":3,"title":"Deprecations","text":"<ul> <li><code>Nokogiri::XML::SAX::Document#start_element_ns</code> is deprecated, please switch to <code>Nokogiri::XML::SAX::Document#start_element_namespace</code></li> <li><code>Nokogiri::XML::SAX::Document#end_element_ns</code> is deprecated, please switch to <code>Nokogiri::XML::SAX::Document#end_element_namespace</code></li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#131-2009-06-07","level":2,"title":"1.3.1 / 2009-06-07","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_76","level":3,"title":"Fixed","text":"<ul> <li><code>extconf.rb</code> checks for optional RelaxNG and Schema functions</li> <li>Namespace nodes are added to the Document node cache</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#130-2009-05-30","level":2,"title":"1.3.0 / 2009-05-30","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_36","level":3,"title":"Added","text":"<ul> <li>Builder changes scope based on block arity</li> <li>Builder supports methods ending in underscore similar to tagz</li> <li><code>Nokogiri::XML::Node#&lt;=&gt;</code> compares nodes based on Document position</li> <li><code>Nokogiri::XML::Node#matches?</code> returns true if Node can be found with given selector.</li> <li><code>Nokogiri::XML::Node#ancestors</code> now returns an <code>Nokogiri::XML::NodeSet</code></li> <li><code>Nokogiri::XML::Node#ancestors</code> will match parents against optional selector</li> <li><code>Nokogiri::HTML::Document#meta_encoding</code> for getting the meta encoding</li> <li><code>Nokogiri::HTML::Document#meta_encoding=</code> for setting the meta encoding</li> <li><code>Nokogiri::XML::Document#encoding=</code> to set the document encoding</li> <li><code>Nokogiri::XML::Schema</code> for validating documents against XSD schema</li> <li><code>Nokogiri::XML::RelaxNG</code> for validating documents against RelaxNG schema</li> <li><code>Nokogiri::HTML::ElementDescription</code> for fetching HTML element descriptions</li> <li><code>Nokogiri::XML::Node#description</code> to fetch the node description</li> <li><code>Nokogiri::XML::Node#accept</code> implements Visitor pattern</li> <li><code>bin/nokogiri</code> for easily examining documents (Yutaka HARA)</li> <li><code>Nokogiri::XML::NodeSet</code> now supports more Array and Enumerable operators: index, delete, slice, - (difference), + (concatenation), &amp; (intersection), push, pop, shift, ==</li> <li><code>Nokogiri.XML</code>, <code>Nokogiri.HTML</code> take blocks that receive <code>Nokogiri::XML::ParseOptions</code> objects</li> <li><code>Nokogiri::XML::Node#namespace</code> returns a <code>Nokogiri::XML::Namespace</code></li> <li><code>Nokogiri::XML::Node#namespace=</code> for setting a node's namespace</li> <li><code>Nokogiri::XML::DocumentFragment</code> and <code>Nokogiri::HTML::DocumentFragment</code> have a sensible API and a more robust implementation.</li> <li>JRuby 1.3.0 support via FFI.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_77","level":3,"title":"Fixed","text":"<ul> <li>Fixed a problem with nil passed to CDATA constructor</li> <li>Fragment method deals with regular expression characters (Joel) [LH#73]</li> <li>Fixing builder scope issues [LH#61, LH#74, LH#70]</li> <li>Fixed a problem when adding a child could remove the child namespace [LH#78]</li> <li>Fixed bug with unlinking a node then reparenting it. [#22]</li> <li>Fixed failure to catch errors during XSLT parsing [#32]</li> <li>Fixed a bug with attribute conditions in CSS selectors [#36]</li> <li>Fixed intolerance of HTML attributes without values in <code>Node#{before/after/inner_html=}</code>. [#35]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#123-2009-03-22","level":2,"title":"1.2.3 / 2009-03-22","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_78","level":3,"title":"Fixed","text":"<ul> <li>Fixing bug where a node is passed in to <code>Node#new</code></li> <li>Namespace should be assigned on DocumentFragment creation. [LH#66]</li> <li><code>Nokogiri::XML::NodeSet#dup</code> works [#10]</li> <li><code>Nokogiri::HTML</code> returns an empty Document when given a blank string [#11]</li> <li>Adding a child will remove duplicate namespace declarations [LH#67]</li> <li>Builder methods take a hash as a second argument</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#122-2009-03-14","level":2,"title":"1.2.2 / 2009-03-14","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_37","level":3,"title":"Added","text":"<ul> <li>Nokogiri may be used with soap4r. See <code>XSD::XMLParser::Nokogiri</code></li> <li><code>Nokogiri::XML::Node#inner_html=</code> to set the inner html for a node</li> <li>Nokogiri builder interface improvements</li> <li><code>Nokogiri::XML::Node#swap</code> swaps html for current node [LH#50]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_79","level":3,"title":"Fixed","text":"<ul> <li>Fixed a tag nesting problem in the Builder API [LH#41]</li> <li><code>Nokogiri::HTML.fragment</code> will properly handle text only nodes [LH#43]</li> <li><code>Nokogiri::XML::Node#before</code> will prepend text nodes [LH#44]</li> <li><code>Nokogiri::XML::Node#after</code> will append text nodes</li> <li><code>Nokogiri::XML::Node#search</code> automatically registers root namespaces [LH#42]</li> <li><code>Nokogiri::XML::NodeSet#search</code> automatically registers namespaces</li> <li><code>Nokogiri::HTML::NamedCharacters</code> delegates to libxml2</li> <li><code>Nokogiri::XML::Node#[]</code> can take a symbol [LH#48]</li> <li>vasprintf for windows updated. (Geoffroy Couprie)</li> <li><code>Nokogiri::XML::Node#[]=</code> should not encode entities [LH#55]</li> <li>Namespaces should be copied to reparented nodes [LH#56]</li> <li>Nokogiri uses encoding set on the string for default in Ruby 1.9</li> <li><code>Document#dup</code> should create a new document of the same type [LH#59]</li> <li><code>Document</code> should not have a parent method [LH#64]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#121-2009-02-23","level":2,"title":"1.2.1 / 2009-02-23","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_80","level":3,"title":"Fixed","text":"<ul> <li>Fixed a CSS selector space bug</li> <li>Fixed Ruby 1.9 String Encoding (\u89d2\u8c37\u3055\u3093)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#120-2009-02-22","level":2,"title":"1.2.0 / 2009-02-22","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_38","level":3,"title":"Added","text":"<ul> <li>CSS search now supports CSS3 namespace queries</li> <li>Namespaces on the root node are automatically registered</li> <li>CSS queries use the default namespace</li> <li><code>Nokogiri::XML::Document#encoding</code> get encoding used for this document</li> <li><code>Nokogiri::XML::Document#url</code> get the document url</li> <li><code>Nokogiri::XML::Node#add_namespace</code> add a namespace to the node [LH#38]</li> <li><code>Nokogiri::XML::Node#each</code> iterate over attribute name, value pairs</li> <li><code>Nokogiri::XML::Node#keys</code> get all attribute names</li> <li><code>Nokogiri::XML::Node#line</code> get the line number for a node (Dirkjan Bussink)</li> <li><code>Nokogiri::XML::Node#serialize</code> now takes an optional encoding parameter</li> <li><code>Nokogiri::XML::Node#to_html</code>, to_xml, and to_xhtml take an optional encoding</li> <li><code>Nokogiri::XML::Node#to_str</code></li> <li><code>Nokogiri::XML::Node#to_xhtml</code> to produce XHTML documents</li> <li><code>Nokogiri::XML::Node#values</code> get all attribute values</li> <li><code>Nokogiri::XML::Node#write_to</code> writes the node to an IO object with optional encoding</li> <li><code>Nokogiri::XML::ProcessingInstruction.new</code></li> <li><code>Nokogiri::XML::SAX::PushParser</code> for all your push parsing needs.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_81","level":3,"title":"Fixed","text":"<ul> <li>Fixed <code>Nokogiri::XML::Document#dup</code></li> <li>Fixed header detection. (rubikitch)</li> <li>Fixed a problem where invalid CSS would cause the parser to hang</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#deprecations_3","level":3,"title":"Deprecations","text":"<ul> <li><code>Nokogiri::XML::Node.new_from_str</code> will be deprecated in 1.3.0</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#changed_6","level":3,"title":"Changed","text":"<ul> <li><code>Nokogiri::HTML.fragment</code> now returns an XML::DocumentFragment [LH#32]</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#111","level":2,"title":"1.1.1","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_39","level":3,"title":"Added","text":"<ul> <li>Added <code>XML::Node#elem?</code></li> <li>Added <code>XML::Node#attribute_nodes</code></li> <li>Added <code>XML::Attr</code></li> <li><code>XML::Node#delete</code> added.</li> <li><code>XML::NodeSet#inner_html</code> added.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_82","level":3,"title":"Fixed","text":"<ul> <li>Not including an HTML entity for \\r for HTML nodes.</li> <li>Removed <code>CSS::SelectorHandler</code> and <code>XML::XPathHandler</code></li> <li><code>XML::Node#attributes</code> returns an <code>Attr</code> node for the value.</li> <li><code>XML::NodeSet</code> implements <code>to_xml</code></li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#110","level":2,"title":"1.1.0","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_40","level":3,"title":"Added","text":"<ul> <li>Custom XPath functions are now supported.  See <code>Nokogiri::XML::Node#xpath</code></li> <li>Custom CSS pseudo classes are now supported.  See <code>Nokogiri::XML::Node#css</code></li> <li><code>Nokogiri::XML::Node#&lt;&lt;</code> will add a child to the current node</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_83","level":3,"title":"Fixed","text":"<ul> <li>Mutex lock on CSS cache access</li> <li>Fixed build problems with GCC 3.3.5</li> <li><code>XML::Node#to_xml</code> now takes an indentation argument</li> <li><code>XML::Node#dup</code> takes an optional depth argument</li> <li><code>XML::Node#add_previous_sibling</code> returns new sibling node.</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#107","level":2,"title":"1.0.7","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_84","level":3,"title":"Fixed","text":"<ul> <li>Fixed memory leak when using Dike</li> <li>SAX parser now parses IO streams</li> <li>Comment nodes have their own class</li> <li><code>Nokogiri()</code> should delegate to <code>Nokogiri.parse()</code></li> <li>Prepending rather than appending to <code>ENV['PATH']</code> on windows</li> <li>Fixed a bug in complex CSS negation selectors</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#106","level":2,"title":"1.0.6","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_85","level":3,"title":"Fixed","text":"<ul> <li>XPath Parser raises a <code>SyntaxError</code> on parse failure</li> <li>CSS Parser raises a <code>SyntaxError</code> on parse failure</li> <li><code>filter()</code> and <code>not()</code> hpricot compatibility added</li> <li>CSS searches via <code>Node#search</code> are now always relative</li> <li>CSS to XPath conversion is now cached</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#105","level":2,"title":"1.0.5","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_86","level":3,"title":"Fixed","text":"<ul> <li>Added mailing list and ticket tracking information to the <code>README.txt</code></li> <li>Sets <code>ENV['PATH']</code> on windows if it doesn't exist</li> <li>Caching results of <code>NodeSet#[]</code> on <code>Document</code></li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#104","level":2,"title":"1.0.4","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_87","level":3,"title":"Fixed","text":"<ul> <li>Changed memory management from weak refs to document refs</li> <li>Plugged some memory leaks</li> <li>Builder blocks can call methods from surrounding contexts</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#103","level":2,"title":"1.0.3","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_88","level":3,"title":"Fixed","text":"<ul> <li><code>NodeSet</code> now implements <code>to_ary</code></li> <li><code>XML::Document</code> should not implement parent</li> <li>More GC Bugs fixed.  (Mike is AWESOME!)</li> <li>Removed RARRAY_LEN for 1.8.5 compatibility.  Thanks Shane Hanna.</li> <li><code>inner_html</code> fixed. (Thanks Yehuda!)</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#102","level":2,"title":"1.0.2","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_89","level":3,"title":"Fixed","text":"<ul> <li><code>extconf.rb</code> should not check for frex and racc</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#101","level":2,"title":"1.0.1","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#fixed_90","level":3,"title":"Fixed","text":"<ul> <li>Made sure <code>extconf.rb</code> searched libdir and prefix so that ports libxml/ruby will link properly.  Thanks lucsky!</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#100-2008-07-13","level":2,"title":"1.0.0 / 2008-07-13","text":"","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"misc/CHANGELOG-archive.html#added_41","level":3,"title":"Added","text":"<ul> <li>Birthday!</li> </ul>","path":["Changelog","Nokogiri Changelog Archive"],"tags":[]},{"location":"tutorials/ensuring_well_formed_markup.html","level":1,"title":"Ensuring Well-Formed Markup","text":"","path":["Tutorials","Ensuring Well-Formed Markup"],"tags":[]},{"location":"tutorials/ensuring_well_formed_markup.html#gentle-well-formedness","level":2,"title":"Gentle Well-Formedness","text":"<p>We've all seen bad markup in our day. I'm talking about markup that doesn't bother to close tags. I'm talking about putting <code>&lt;p&gt;</code> tags inside <code>&lt;p&gt;</code> tags, and putting content into an <code>&lt;img&gt;</code> tag.</p> <p>Nokogiri corrects bad markup like a boss, similarly to how a browser would before rendering.</p> <pre><code>badly_formed = &lt;&lt;-EOXML\n&lt;root&gt;\n  &lt;open&gt;foo\n    &lt;closed&gt;bar&lt;/closed&gt;\n&lt;/root&gt;\nEOXML\n\nbad_doc  = Nokogiri::XML badly_formed\n\nputs bad_doc         # =&gt; &lt;?xml version=\"1.0\"?&gt;\n                     #    &lt;root&gt;\n                     #      &lt;open&gt;foo\n                     #        &lt;closed&gt;bar&lt;/closed&gt;\n                     #    &lt;/open&gt;  \n                     #    &lt;/root&gt;\n</code></pre> <p>And Nokogiri will even keep track of what the errors were, if the parse option NOERRORS and NOWARNINGS are turned off (the default for XML documents).</p> <pre><code>puts bad_doc.errors  # =&gt; Opening and ending tag mismatch: open line 2 and root\n                     #    Premature end of data in tag root line 1\n</code></pre> <p>Thus, you could use <code>errors.empty?</code> to determine whether the document was well-formed.</p>","path":["Tutorials","Ensuring Well-Formed Markup"],"tags":[]},{"location":"tutorials/ensuring_well_formed_markup.html#strict-well-formedness","level":2,"title":"Strict Well-Formedness","text":"<p>Being friendly and fixing markup is all well and good, but sometimes you need to be a Markup Nazi.</p> <p>If you demand compliance from your XML, then you can configure Nokogiri into \"strict\" parsing mode, in which it will raise an exception at the first sign of malformedness:</p> <pre><code>begin\n  bad_doc = Nokogiri::XML(badly_formed) { |config| config.strict }\nrescue Nokogiri::XML::SyntaxError =&gt; e\n  puts \"caught exception: #{e}\"\nend\n# =&gt; caught exception: Premature end of data in tag root line 1\n</code></pre>","path":["Tutorials","Ensuring Well-Formed Markup"],"tags":[]},{"location":"tutorials/getting_help.html","level":1,"title":"Getting help","text":"","path":["Support","Getting help"],"tags":[]},{"location":"tutorials/getting_help.html#support-getting-help-and-reporting-issues","level":2,"title":"Support, Getting Help, and Reporting Issues","text":"<p>All official documentation is posted at https://nokogiri.org (the source for which is at https://github.com/sparklemotion/nokogiri.org/, and we welcome contributions).</p> <p>Consider subscribing to Tidelift which provides license assurances and timely security notifications for your open source dependencies, including Nokogiri. Tidelift subscriptions also help the Nokogiri maintainers fund our automated testing which in turn allows us to ship releases, bugfixes, and security updates more often.</p>","path":["Support","Getting help"],"tags":[]},{"location":"tutorials/getting_help.html#reading","level":3,"title":"Reading","text":"<p>Your first stops for learning more about Nokogiri should be:</p> <ul> <li>API Documentation</li> <li>Tutorials</li> <li>An excellent community-maintained Cheat Sheet</li> </ul>","path":["Support","Getting help"],"tags":[]},{"location":"tutorials/getting_help.html#ask-for-help","level":3,"title":"Ask For Help","text":"<p>There are a few ways to ask exploratory questions:</p> <ul> <li>The Nokogiri mailing list is active at https://groups.google.com/group/nokogiri-talk</li> <li>Open an issue using the \"Help Request\" template at https://github.com/sparklemotion/nokogiri/issues</li> </ul> <p>Please do not mail the maintainers at their personal addresses.</p>","path":["Support","Getting help"],"tags":[]},{"location":"tutorials/getting_help.html#report-a-bug","level":3,"title":"Report A Bug","text":"<p>The Nokogiri bug tracker is at https://github.com/sparklemotion/nokogiri/issues</p> <p>Please use the \"Bug Report\" or \"Installation Difficulties\" templates.</p>","path":["Support","Getting help"],"tags":[]},{"location":"tutorials/getting_help.html#security-and-vulnerability-reporting","level":3,"title":"Security and Vulnerability Reporting","text":"<p>Please report vulnerabilities at https://hackerone.com/nokogiri</p> <p>Full information and description of our security policy is in <code>SECURITY.md</code></p>","path":["Support","Getting help"],"tags":[]},{"location":"tutorials/installing_nokogiri.html","level":1,"title":"Installing Nokogiri","text":"<p>Welcome! We've worked hard to make Nokogiri easy and reliable to install. This page should hopefully get you on your way quickly.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#meta","level":2,"title":"Meta","text":"<p>The current version of this page focuses on the installation experience for Nokogiri v1.11 and later. If you're trying to install an earlier version, please visit:</p> <ul> <li>Nokogiri v1.10.x installation instructions</li> </ul> <p>If this document doesn't address your problem, please jump over to Getting Help.</p> <p>If you'd like to contribute improvements to this document, please open a GitHub issue or pull-request on nokogiri.org/installing_nokogiri.md.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#installing-native-gems","level":2,"title":"Installing Native Gems","text":"","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#faster-more-reliable-installation","level":3,"title":"Faster, more reliable installation","text":"<p>\"Native gems\" contain pre-compiled libraries for a specific machine architecture. On supported platforms, this removes the need for compiling the C extension and the packaged libraries, or to install system dependencies. This results in much faster installation and more reliable installation, which as you probably know have historically been challenging topics for Nokogiri users.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#supported-platforms","level":3,"title":"Supported Platforms","text":"<p>Nokogiri ships pre-compiled, \"native\" gems for the following platforms:</p> <ul> <li>Linux:<ul> <li><code>x86_64-linux-gnu</code>, <code>aarch64-linux-gnu</code>, and <code>arm-linux-gnu</code> (req: <code>glibc &gt;= 2.29</code>)</li> <li><code>x86_64-linux-musl</code>, <code>aarch64-linux-musl</code>, and <code>arm-linux-musl</code></li> </ul> </li> <li>Darwin/MacOS: <code>x86_64-darwin</code> and <code>arm64-darwin</code></li> <li>Windows: <code>x64-mingw-ucrt</code></li> <li>Java: any platform running JRuby 9.4 or higher</li> </ul> <p>To determine whether your system supports one of these gems, look at the output of <code>bundle platform</code> or <code>ruby -e 'puts Gem::Platform.local.to_s'</code>.</p> <p>If you're on a supported platform, either <code>gem install</code> or <code>bundle install</code> should install a native gem without any additional action on your part. This installation should only take a few seconds, and your output should look something like:</p> <pre><code>$ gem install nokogiri\nFetching nokogiri-1.18.1-x86_64-linux-gnu.gem\nSuccessfully installed nokogiri-1.18.1-x86_64-linux-gnu\n1 gem installed\n</code></pre> <p>If you're using Bundler <code>&gt;= 2.2</code>, check that your lockfile knows about your platform(s). For example, if you develop on macOS and deploy to Linux you will need to run these commands in your development environment:</p> <pre><code>bundle lock --add-platform x86_64-linux-gnu # or whatever your platform happens to be\nbundle install                              # then resolve dependencies for platform-specific gems\n</code></pre> <p>See <code>man bundle-lock</code> for details.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#why-would-i-not-want-to-use-a-native-gem","level":3,"title":"Why would I not want to use a native gem?","text":"<p>I can imagine some folks might have trust issues; if this is you, please let us know in a comment at RFC: Increase the level of trust in released gem files \u00b7 Issue #2013 \u00b7 sparklemotion/nokogiri. What can we do to increase that trust? (I can imagine providing a chain of custody including public build logs with cryptographic hashes of artifacts, but I'd like to hear from real users.)</p> <p>Anybody on a linux system with an unsupported version of <code>glibc</code> (see Supported Platforms) will need to install from the <code>ruby</code> platform gem.</p> <p>If you're on Termux, you will need to install from the <code>ruby</code> platform gem (see https://wiki.termux.com/wiki/Differences_from_Linux for background).</p> <p>If you have other reasons for not wanting to use a precompiled native gem, let us know! (See Getting Help.)</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#how-can-i-avoid-using-a-precompiled-native-gem","level":3,"title":"How can I avoid using a precompiled native gem?","text":"<p>The Nokogiri maintainers strongly urge you to use a native gem if at all possible. We expect it will be a much better experience for you and allow us to focus our efforts on improving functionality rather than diagnosing installation issues.</p> <p>If you're on a platform that supports a native gem but you want to avoid using it in your project, do one of the following:</p> <ul> <li>With Bundler <code>&gt;= 2.3.18</code>, then update your Gemfile with <code>gem \"nokogiri\", force_ruby_platform: true</code></li> <li>Else with Bundler<code>&gt;= 2.1</code>, then run <code>bundle config set force_ruby_platform true</code>,</li> <li>Else with Bundler <code>&lt; 2.1</code>, then run <code>bundle config force_ruby_platform true</code></li> <li>If you're not using Bundler, then run <code>gem install nokogiri --platform=ruby</code>.</li> </ul>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#installing-the-ruby-platform-gem","level":2,"title":"Installing the <code>ruby</code> platform gem","text":"<p>Again, we recommend that you upgrade to v1.11 or later and use a native gem whenever possible. If you're here, it should be because you're on an older version, or you're on an unsupported platform.</p> <p>Before you begin, make sure you have the full compiler toolchain for compiling Ruby C Extensions. See Appendix A: The Compiler Toolchain.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#installing-using-the-packaged-libraries","level":3,"title":"Installing Using The Packaged Libraries","text":"<p>Nokogiri packages its own updated and patched copies of libxml2 and libxslt source code. By default, installation of Nokogiri will compile and use these packaged libraries.</p> <p>If you don't see your operating system / distro in this section, then no additional setup is required beyond Appendix A: The Compiler Toolchain. Just run <code>gem install nokogiri --platform=ruby</code>.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#ubuntu-or-debian-based-distros","level":4,"title":"Ubuntu or Debian-based Distros","text":"<pre><code>sudo apt-get install zlib1g-dev liblzma-dev patch\ngem install nokogiri --platform=ruby\n</code></pre> <p>You may substitute <code>git</code> for <code>patch</code> (<code>mini_portile2</code> can use either for applying patches).</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#fedora-red-hat-and-centos","level":4,"title":"Fedora, Red Hat, and CentOS","text":"<pre><code>dnf install -y zlib-devel xz patch\ngem install nokogiri --platform=ruby\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#openbsd-62","level":4,"title":"OpenBSD &lt; 6.2","text":"<p>Use <code>gcc</code> from ports in order to compile the packaged libraries:</p> <pre><code>pkg_add -v gcc\ngem install nokogiri\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#openbsd-7","level":4,"title":"OpenBSD 7","text":"<pre><code>pkg_add libiconv gtar\nalias tar=gtar\ngem install nokogiri\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#termux","level":4,"title":"Termux","text":"<p>If you're using Bundler <code>&gt;= 2.3.18</code>:</p> <pre><code># Gemfile\ngem \"nokogiri\", force_ruby_platform: true\n</code></pre> <p>else if you're using a version of Bundler <code>&gt;= 2.1</code>:</p> <pre><code>pkg install ruby clang make binutils\nbundle config set force_ruby_platform true\nbundle install\n</code></pre> <p>else if you're using a version of Bundler <code>&lt; 2.1</code>:</p> <pre><code>pkg install ruby clang make binutils\nbundle config force_ruby_platform true\nbundle install\n</code></pre> <p>else if you're not using Bundler:</p> <pre><code>pkg install ruby clang make binutils\ngem install nokogiri --platform=ruby\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#installing-using-standard-system-libraries","level":3,"title":"Installing Using Standard System Libraries","text":"<p>Rather than use Nokogiri's packaged versions, you may prefer to use your system's or distro's standard libxml2/libxslt libraries. This section will try to help you do that.</p> <p>Nokogiri will refuse to build against older, unsupported versions of <code>libxml2</code> and <code>libxslt</code>, and there may be some behavioral changes when using older versions. If you have installed libxml2 or libxslt to a custom location, please jump to the next section, Installing With Custom / Non-Standard Libraries.</p> <p>If you don't see your operating system or distro listed below, then no additional setup is required beyond Appendix A: The Compiler Toolchain. Just run <code>gem install nokogiri --platform=ruby -- --use-system-libraries</code>. Or, if you're using bundler, <code>bundle config build.nokogiri --use-system-libraries</code>.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#debianubuntu","level":4,"title":"Debian/Ubuntu","text":"<pre><code>sudo apt-get install pkg-config libxml2-dev libxslt-dev\ngem install nokogiri --platform=ruby -- --use-system-libraries\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#macos","level":4,"title":"MacOS","text":"<p>If you're using homebrew:</p> <pre><code>brew install libxml2 libxslt\ngem install nokogiri --platform=ruby -- --use-system-libraries\n</code></pre> <p>If you're using macports and would like to contribute documentation, please open a GitHub issue or pull-request on nokogiri.org/installing_nokogiri.md.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#freebsd","level":4,"title":"FreeBSD","text":"<pre><code>sudo pkg install pkgconf libxml2 libxslt\ngem install nokogiri -- --use-system-libraries\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#openbsd","level":4,"title":"OpenBSD","text":"<pre><code>pkg_add libxslt\ngem install nokogiri -- --use-system-libraries\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#windows","level":4,"title":"Windows","text":"<p>We recommend installing Nokogiri against the MSYS2 system libraries:</p> <pre><code>ridk exec pacman -S mingw-w64-ucrt-x86_64-libxslt\ngem install nokogiri --platform=ruby -- --use-system-libraries\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#termux_1","level":4,"title":"Termux","text":"<pre><code>pkg install ruby clang make binutils\npkg install pkg-config libxslt binutils # additional dependencies\ngem install nokogiri --platform=ruby -- --use-system-libraries\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#installing-with-custom-non-standard-libraries","level":3,"title":"Installing With Custom / Non-Standard Libraries","text":"<p>You may have your own custom version of libxml2/libxslt that you'd like to use. OK! Here we go.</p> <p>Ideally you can install <code>pkg-config</code> and the installed libraries should self-describe how to compile and build against themselves.</p> <p>But if:</p> <ul> <li>you've got <code>libxml2</code> and/or <code>libxslt</code> installed in a nonstandard place,</li> <li>and you don't have <code>pkg-config</code> installed</li> </ul> <p>... then you can use command-line parameters to the <code>gem install</code> command to specify build parameters.</p> <p>You can specify the installation root directory:</p> <pre><code>gem install nokogiri -- \\\n    --use-system-libraries \\\n    --with-xml2-dir=/path/to/dir \\\n    --with-xslt-dir=/path/to/dir\n</code></pre> <p>or, you can specify include and library directories separately:</p> <pre><code>gem install nokogiri -- \\\n    --use-system-libraries \\\n    --with-xml2-lib=/path/to/builds/lib \\\n    --with-xml2-include=/path/to/builds/include/libxml2 \\\n    --with-xslt-lib=/path/to/builds/lib \\\n    --with-xslt-include=/path/to/builds/include\n</code></pre> <p>Note: By default, libxslt header files are installed into the root include directory, but libxml2 header files are installed into a subdirectory thereof named <code>libxml2</code>.</p> <p>It's likely that you'll also need to specify the location of your <code>zlib</code> and <code>iconv</code> (and possibly <code>exslt</code>) install directories as well. In that case, you can add the options:</p> <pre><code>gem install nokogiri -- \\\n    --use-system-libraries \\\n    # ...\n    --with-iconv-dir=/path/to/dir \\\n    --with-zlib-dir=/path/to/dir \\\n    [--with-exslt-dir=/path/to/dir]\n    [--with-exslt-config=/path/to/exslt-config]\n</code></pre> <p>You can also tell bundler to remember these configuration parameters:</p> <pre><code>bundle config build.nokogiri \\\n       --use-system-libraries \\\n       --with-xml2-lib=/usr/local/lib \\\n       --with-xml2-include=/usr/local/include/libxml2/libxml \\\n       --with-xslt-lib=/usr/local/lib \\\n       --with-xslt-include=/usr/local/include/libxslt \\\n       --with-iconv-lib=/usr/local/lib \\\n       --with-iconv-include=/usr/local/include\n</code></pre> <p>Do not attempt Bundler installation using Bundler versions before v1.8.3 (see bundler/bundler#3053 for details). If you really must, see earlier git history of this file, which includes a workaround.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#installing-third-party-distributions-of-nokogiri","level":3,"title":"Installing Third-Party Distributions of Nokogiri","text":"","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#debian","level":4,"title":"Debian","text":"<p>See https://packages.debian.org/sid/ruby-nokogiri</p> <pre><code>sudo apt-get install ruby-nokogiri\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#opensusesle","level":4,"title":"openSUSE/SLE","text":"<p>See https://download.opensuse.org/repositories/devel:/languages:/ruby:/extensions/</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#fedora-red-hat-and-centos_1","level":4,"title":"Fedora, Red Hat, and CentOS","text":"<p>You may install the appropriate epel-release and get the Nokogiri package from EPEL using:</p> <pre><code>sudo dnf install -y rubygem-nokogiri\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#gnu-guix","level":4,"title":"GNU Guix","text":"<p>Install on any Linux distribution using GNU Guix, a reproducible binary software package management and distribution system.</p> <p>Use this command:</p> <pre><code>guix package -i ruby-nokogiri\n</code></pre> <p>Note: source code is available here. A short description of how Nokogiri was packaged can be found here.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#other-installation-scenarios","level":3,"title":"Other Installation Scenarios","text":"","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#alpine-docker-images","level":4,"title":"Alpine Docker Images","text":"<p>To just install the native gem:</p> <pre><code>FROM ruby:3.0-alpine\n\nRUN gem install nokogiri\n</code></pre> <p>To compile with the packaged libraries:</p> <pre><code>FROM ruby:3.0-alpine\n\nRUN apk add --no-cache build-base\nRUN gem install nokogiri --platform=ruby\n</code></pre> <p>To compile against Alpine's own XML libraries, add the necessary development tools and libraries to the image.</p> <pre><code>FROM ruby:3.0-alpine\n\nRUN apk add --no-cache build-base libxml2-dev libxslt-dev\nRUN gem install nokogiri --platform=ruby -- --use-system-libraries\n</code></pre> <p>When optimizing the size of an Alpine image, the runtime libraries must be permanently added. Additionally, adding and removing development tooling can be chained with gem installation to ensure a small layer.</p> <pre><code>FROM ruby:3.0-alpine\n\nRUN apk add --no-cache libxml2 libxslt &amp;&amp; \\\n        apk add --no-cache --virtual .gem-installdeps build-base libxml2-dev libxslt-dev &amp;&amp; \\\n        gem install nokogiri --platform=ruby -- --use-system-libraries &amp;&amp; \\\n        rm -rf $GEM_HOME/cache &amp;&amp; \\\n        apk del .gem-installdeps\n</code></pre> <p>This approach nets an 12.1 MB layer (versus 18.1 MB without <code>--use-system-libraries</code>) and saves over 170 MB in build tools.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#smartos-nonstandard","level":4,"title":"SmartOS (Nonstandard)","text":"<p>SmartOS installation requires building and using libxml2/libxslt/libiconv in a nonstandard location. Building on the previous section, here's how to do it:</p> <p>(Note: <code>pkgsrc</code> is included in JPC SmartOS instances)</p> <pre><code>pkgin install ruby gcc49 libxml2 libxslt zlib libiconv ruby22-rake gmake\nln -s /opt/local/gcc49/bin/gcc /opt/local/bin/gcc\n\ngem install nokogiri -- \\\n    --use-system-libraries \\\n    --with-xml2-lib=/opt/local/lib \\\n    --with-xml2-include=/opt/local/include/libxml2 \\\n    --with-xslt-lib=/opt/local/lib \\\n    --with-xslt-include=/opt/local/include/libxslt \\\n    --with-iconv-lib=/opt/local/lib \\\n    --with-iconv-include=/opt/local/include \\\n    --with-zlib-dir=/opt/local/lib\n</code></pre> <p>See the previous section for guidance on how to instruct Bundler to use these options.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#troubleshooting","level":2,"title":"Troubleshooting","text":"","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#cannot-load-such-file-nokogirinokogiri-loaderror","level":3,"title":"<code>cannot load such file -- nokogiri/nokogiri (LoadError)</code>","text":"<p>Particularly when upgrading to a newer version of Ruby, this error appears at runtime.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#symptoms","level":4,"title":"Symptoms","text":"<p>Installation succeeds, but then at runtime this error message is seen:</p> <pre><code>kernel_require.rb:23:in `require': cannot load such file -- nokogiri/nokogiri (LoadError)\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#solution","level":4,"title":"Solution","text":"<p>Uninstall all versions of Nokogiri on your system, and then re-resolve your dependencies (using <code>bundle</code> or <code>gem install</code>).</p> <p>This error can occur when a version of Nokogiri installed for a different version of Ruby is used by an unsupported version of Ruby. For example, if Nokogiri v1.12.5-x86_64-linux installed by Ruby 3.0 is then used by Ruby 3.1, you'll see this error (note that nokogiri v1.12.5 native gems do not support Ruby 3.1).</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#using-vendorcache-to-deploy-to-another-architecture","level":3,"title":"Using <code>vendor/cache</code> to deploy to another architecture","text":"<p>A common workflow is for a team to develop on a Mac but deploy to production on Linux. This workflow depends on Bundler caching an appropriate gem file in <code>vendor/cache</code>. Unfortunately, in this situation Bundler's default behavior is to cache only gems for the development system and not the production system, leading to an error at deploy time.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#symptoms_1","level":4,"title":"Symptoms","text":"<p>During deployment, the buildpack may fail to find a relevant gem in <code>vendor/cache</code> and emit an error like this (from Heroku):</p> <pre><code>-----&gt; Ruby app detected\n-----&gt; Installing bundler 2.1.4\n-----&gt; Removing BUNDLED WITH version in the Gemfile.lock\n-----&gt; Compiling Ruby/Rails\n-----&gt; Using Ruby version: ruby-2.7.2\n-----&gt; Installing dependencies using bundler 2.1.4\n       Running: BUNDLE_WITHOUT='development:test' BUNDLE_PATH=vendor/bundle BUNDLE_BIN=vendor/bundle/bin BUNDLE_DEPLOYMENT=1 bundle install -j4\n       Some gems seem to be missing from your vendor/cache directory.\n       Could not find nokogiri-1.11.0 in any of the sources\n       Bundler Output: Some gems seem to be missing from your vendor/cache directory.\n       Could not find nokogiri-1.11.0 in any of the sources\n !\n !     Failed to install gems via Bundler.\n !\n !     Push rejected, failed to compile Ruby app.\n !     Push failed\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#solution_1","level":4,"title":"Solution","text":"<p>Bundler 2.2 and later has great multiplatform support and allows you to cache gems for multiple platforms. You can run commands like these to cause Bundler to fetch and cache gems for all the named platforms:</p> <pre><code>bundle lock --add-platform x86_64-darwin\nbundle lock --add-platform x86_64-linux-gnu\nbundle package --all-platforms\n</code></pre> <p>For more information, please read this wonderful blog post written by Kevin Murphy explaining this approach.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#fallback-solution","level":4,"title":"Fallback Solution","text":"<p>If you can't upgrade to Bundler <code>&gt;= 2.2</code>, you can force older versions to always use the <code>ruby</code> platform, which supports all platforms, but applies to all gems and comes with the installation challenges mentioned earlier in this guide.</p> <p>Here's how to do this with Bundler <code>&gt;= 2.1</code>:</p> <pre><code>rm -rf vendor/cache\nbundle config set force_ruby_platform true\nbundle install\n</code></pre> <p>Or if you're using Bundler <code>&lt; 2.1</code>:</p> <pre><code>rm -rf vendor/cache\nbundle config force_ruby_platform true\nbundle install\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#tar-and-xz-files","level":3,"title":"<code>tar</code> and <code>xz</code> files","text":"<p>Starting in v1.13.2, the source archive used for libxml2 and libxslt is compressed with <code>xz</code> (previous versions were compressed with <code>gzip</code>. As a result, when compiling from source, your system will need to have <code>xz</code> installed in order to extract the source code for these libraries.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#symptoms_2","level":4,"title":"Symptoms","text":"<p>During installation, you may see error output similar to:</p> <pre><code>Extracting libxml2-2.9.13.tar.xz into tmp/armv7l-unknown-linux-gnueabihf/ports/libxml2/2.9.13... ERROR, review '/usr/local/ruby/lib/ruby/gems/3.1.0/gems/nokogiri-1.13.3/ext/nokogiri/tmp/armv7l-unknown-linux-gnueabihf/ports/libxml2/2.9.13/extract.log' to see what happened. Last lines are:\n========================================================================\ntar (child): xz: Cannot exec: No such file or directory\ntar (child): Error is not recoverable: exiting now\n/bin/tar: Child returned status 2\n/bin/tar: Error is not recoverable: exiting now\n========================================================================\n*** extconf.rb failed ***\n</code></pre> <p>or</p> <pre><code>Extracting libxml2-2.9.14.tar.xz into tmp/x86_64-unknown-openbsd7.1/ports/libxml2/2.9.14... ERROR, review '/usr/local/lib/ruby/gems/3.0/gems/nokogiri-1.13.6/ext/nokogiri/tmp/x86_64-unknown-openbsd7.1/ports/libxml2/2.9.14/extract.log' to see what happened. Last lines are:\n========================================================================\ntar: unknown option J\nusage: tar {crtux}[014578befHhjLmNOoPpqsvwXZz]\n           [blocking-factor | archive | replstr] [-C directory] [-I file]\n           [file ...]\n       tar {-crtux} [-014578eHhjLmNOoPpqvwXZz] [-b blocking-factor]\n           [-C directory] [-f archive] [-I file] [-s replstr] [file ...]\n========================================================================\n*** extconf.rb failed ***\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#solution_2","level":4,"title":"Solution","text":"<p>On Debian/Ubuntu:</p> <pre><code>sudo apt-get install xz-utils\n</code></pre> <p>On Alpine:</p> <pre><code>apk add xz\n</code></pre> <p>On OpenBSD:</p> <pre><code>pkg_add gtar\nalias tar=gtar\n</code></pre> <p>If you have this problem on another system, please open an issue and give us some details so we can update this page.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#linux-musl-error-loading-shared-library","level":3,"title":"[Linux musl] \"Error loading shared library\"","text":"<p>Musl-based systems like Alpine may not have a glibc-compatible library installed, leading to problems running the precompiled native gems.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#symptoms_3","level":4,"title":"Symptoms","text":"<p>Installation succeeds, but then at runtime you'll see an error like this:</p> <pre><code>Error loading shared library ld-linux-x86-64.so.2: No such file or directory\n</code></pre> <p>or like this if you're on ARM64:</p> <pre><code>Error loading shared library ld-linux-aarch64.so.1: No such file or directory\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#solution_3","level":4,"title":"Solution","text":"<p>Install the glibc compatibility layer:</p> <pre><code>apk add gcompat\n</code></pre> <p>See https://wiki.alpinelinux.org/wiki/Running_glibc_programs for more details.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#cannot-install-racc","level":3,"title":"Cannot install <code>racc</code>","text":"<p>As of v1.11.0, Nokogiri is declaring an explicit dependency on <code>racc ~&gt; 1.4</code>, which itself is a C extension that users may have trouble installing.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#symptoms_4","level":4,"title":"Symptoms","text":"<p>You may see an error message like this:</p> <pre><code>Fetching racc 1.5.2\nInstalling racc 1.5.2 with native extensions\nGem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\ncurrent directory:\n/Users/myuser2/.gem/ruby/2.7.0/gems/racc-1.5.2/ext/racc/cparse\n/opt/local/bin/ruby2.7 -I /opt/local/lib/ruby2.7/2.7.0 -r\n./siteconf20210104-30183-axgzet.rb extconf.rb\nchecking for rb_ary_subseq()... *** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n       --with-opt-dir\n       --with-opt-include\n       --without-opt-include=${opt-dir}/include\n       --with-opt-lib\n       --without-opt-lib=${opt-dir}/lib\n       --with-make-prog\n       --without-make-prog\n       --srcdir=.\n       --curdir\n       --ruby=/opt/local/bin/$(RUBY_BASE_NAME)2.7\n/opt/local/lib/ruby2.7/2.7.0/mkmf.rb:471:in `try_do': The compiler failed to generate an executable file. (RuntimeError)\nYou have to install development tools first.\n       from /opt/local/lib/ruby2.7/2.7.0/mkmf.rb:564:in `try_link0'\n       from /opt/local/lib/ruby2.7/2.7.0/mkmf.rb:582:in `try_link'\n       from /opt/local/lib/ruby2.7/2.7.0/mkmf.rb:794:in `try_func'\n       from /opt/local/lib/ruby2.7/2.7.0/mkmf.rb:1083:in `block in have_func'\n       from /opt/local/lib/ruby2.7/2.7.0/mkmf.rb:971:in `block in checking_for'\n       from /opt/local/lib/ruby2.7/2.7.0/mkmf.rb:361:in `block (2 levels) in postpone'\n       from /opt/local/lib/ruby2.7/2.7.0/mkmf.rb:331:in `open'\n       from /opt/local/lib/ruby2.7/2.7.0/mkmf.rb:361:in `block in postpone'\n       from /opt/local/lib/ruby2.7/2.7.0/mkmf.rb:331:in `open'\n       from /opt/local/lib/ruby2.7/2.7.0/mkmf.rb:357:in `postpone'\n       from /opt/local/lib/ruby2.7/2.7.0/mkmf.rb:970:in `checking_for'\n       from /opt/local/lib/ruby2.7/2.7.0/mkmf.rb:1082:in `have_func'\n       from extconf.rb:6:in `&lt;main&gt;'\n\nTo see why this extension failed to compile, please check the mkmf.log which can\nbe found here:\n\n/Users/myuser2/.gem/ruby/2.7.0/extensions/arm64-darwin-20/2.7.0/racc-1.5.2/mkmf.log\n\nextconf failed, exit code 1\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#solution-1-compiler-toolchain","level":4,"title":"Solution 1 - Compiler toolchain","text":"<p>Racc needs the same compiler toolchain to be present as any Gem with a C extension. See Appendix A: The Compiler Toolchain.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#solution-2-avoid-installing-racc","level":4,"title":"Solution 2 - Avoid installing Racc","text":"<p>Ruby 3.0 comes with Racc 1.5.x as a \"builtin gem\", so you could update to Ruby 3!</p> <p>Ruby 2.7 comes with Racc 1.4.x as a \"builtin gem\", so you could use that version instead of trying to upgrade. Update to Ruby 2.7 and add a line like <code>gem \"racc\", \"~&gt; 1.4.0\"</code> to prevent Bundler from trying to upgrade.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#linux-usrbinld-cannot-find-lgmp","level":3,"title":"[Linux] <code>/usr/bin/ld: cannot find -lgmp</code>","text":"<p>If you're compiling the <code>ruby</code> platform gem, and if you've installed Ruby using RVM, you may require libgmp.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#symptoms_5","level":4,"title":"Symptoms","text":"<p>Gem installation fails with an error message like:</p> <pre><code>/home/user/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/mkmf.rb:456:in `try_do': The compiler failed to generate an executable file. (RuntimeError)\nYou have to install development tools first.\n</code></pre> <p>And examination of your <code>mkmf.log</code> file shows:</p> <pre><code>/usr/bin/ld: cannot find -lgmp\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#solution_4","level":4,"title":"Solution","text":"<p>Run <code>sudo apt-get install libgmp-dev</code>.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#macos-xcode-select-errors-with-a-network-problem","level":3,"title":"[MacOS] <code>xcode-select</code> errors with a 'network problem'","text":"<p>If you're compiling the <code>ruby</code> platform gem ...</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#symptoms_6","level":4,"title":"Symptoms","text":"<p>You see this dialog when you run the commands to update xcode commandline tools:</p> <p></p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#solution_5","level":4,"title":"Solution","text":"<p>Run this command to turn off forced-authentication with Apple Software Update:</p> <pre><code>sudo defaults delete /Library/Preferences/com.apple.SoftwareUpdate CatalogURL\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#macos-error-use-of-undeclared-identifier-lzma_ok","level":3,"title":"[MacOS] <code>error: use of undeclared identifier 'LZMA_OK'</code>","text":"<p>If you're compiling the <code>ruby</code> platform gem ...</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#symptoms_7","level":4,"title":"Symptoms","text":"<p>An error during Nokogiri installation mentions an undeclared identifier <code>LZMA_OK</code>:</p> <pre><code>xmlIO.c:1450:52: error: use of undeclared identifier 'LZMA_OK'\n    ret =  (__libxml2_xzclose((xzFile) context) == LZMA_OK ) ? 0 : -1;\n                                                   ^\n1 error generated.\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#diagnosis","level":4,"title":"Diagnosis","text":"<p>When using Homebrew, there are several libraries that use a formula called <code>xz</code> (including <code>the_silver_searcher</code> and <code>imagemagick</code>), which by default install a version of <code>liblzma</code> that is incompatible with most Ruby builds.  (Homebrew installs only the 64-bit version of the library, but most Ruby builds are universal.) This can be fixed in a couple of ways:</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#solution-1","level":4,"title":"Solution 1","text":"<p>The most reliable solution appears to be temporarily unlinking <code>xz</code> and relinking it during an install of <code>nokogiri</code>:</p> <pre><code>brew unlink xz\ngem install nokogiri # or bundle install\nbrew link xz\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#solution-2","level":4,"title":"Solution 2","text":"<p>The other solution is to use a Homebrew-installed <code>libxml2</code>, as suggested in Installing Using Standard System Libraries.</p> <pre><code>brew install libxml2\ngem install nokogiri -- --use-system-libraries \\\n    --with-xml2-include=$(brew --prefix libxml2)/include/libxml2\n</code></pre> <p>or if you're using Bundler:</p> <pre><code>bundle config build.nokogiri --use-system-libraries \\\n    --with-xml2-include=$(brew --prefix libxml2)/include/libxml2\nbundle install\n</code></pre> <p>When working with this, be certain to use <code>$(brew --prefix libxml2)</code> because it will use the correct location for your Homebrew install.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#macos-libiconv-is-missing","level":3,"title":"[MacOS] <code>libiconv is missing</code>","text":"<p>Xcode 10 on macOS Mojave moves the system headers out of <code>/usr/include</code> and so Nokogiri will fail to build when you're compiling the <code>ruby</code> platform gem.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#symptoms_8","level":4,"title":"Symptoms","text":"<p>You'll see an error similar to this:</p> <pre><code>Building nokogiri using packaged libraries.\n\nlibiconv is missing.  please visit http://nokogiri.org/tutorials/installing_nokogiri.html for help with installing dependencies.\n\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary libraries and/or headers.\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#solution_6","level":4,"title":"Solution","text":"<p>A temporary workaround to allow previous releases of Nokogiri to build is to install the extra headers package mentioned in the Xcode 10 release notes:</p> <pre><code>open /Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg\n</code></pre> <p>You can also install the headers package from the command line (e.g. for a build script or a CI server):</p> <pre><code>sudo installer -pkg /Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg -target /\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#macos-general-macos-tips","level":3,"title":"[MacOS] General MacOS Tips","text":"<p>If you're seeing other problems:</p> <ul> <li>Make sure ruby is compiled with the latest clang compiler.</li> <li>Binary gems and ruby should be compiled with the same compiler/environment.</li> <li>If you have multiple versions of Xcode installed, make sure you use the right <code>xcode-select</code>.</li> <li>Try Installing Using Standard System Libraries.</li> </ul>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#appendix-a-the-compiler-toolchain","level":2,"title":"Appendix A: The Compiler Toolchain","text":"<p>A good way to tell if you've got your basic Ruby C extension compiler toolchain installed correctly is to try installing the <code>bcrypt</code> gem which has a smaller, self-contained C extension. If you can <code>gem install bcrypt</code>, you're all set!</p> <p>Reminder: if you're installing a native gem, you don't need to do this.</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#ubuntu-or-debian-based-distros_1","level":3,"title":"Ubuntu or Debian-based Distros","text":"<pre><code>sudo apt-get install build-essential ruby-dev\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#fedora-red-hat-and-centos_2","level":3,"title":"Fedora, Red Hat, and CentOS","text":"<pre><code>dnf install -y make gcc rpm-build ruby-devel\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#alpine","level":3,"title":"Alpine","text":"<pre><code>apk add build-base\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#termux_2","level":3,"title":"Termux","text":"<pre><code>pkg install clang make binutils\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#windows_1","level":3,"title":"Windows","text":"<p>Please visit RubyInstaller and make sure you install a version \"With Devkit\".</p>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/installing_nokogiri.html#macos_1","level":3,"title":"MacOS","text":"<p>First, make sure you have the latest version of RubyGems and xcode commandline tools:</p> <pre><code>gem update --system\nxcode-select --install # Then agree to the terms, even if you have done this before!\n</code></pre> <p>Agree to the Xcode license:</p> <pre><code>sudo xcodebuild -license\n</code></pre>","path":["Support","Installing Nokogiri"],"tags":[]},{"location":"tutorials/modifying_an_html_xml_document.html","level":1,"title":"Modifying an HTML / XML Document","text":"","path":["Tutorials","Modifying an HTML / XML Document"],"tags":[]},{"location":"tutorials/modifying_an_html_xml_document.html#changing-text-contents","level":2,"title":"Changing text contents","text":"<p>Assuming we have the following HTML document:</p> <pre><code>@doc = Nokogiri::HTML::DocumentFragment.parse &lt;&lt;-EOHTML\n&lt;body&gt;\n  &lt;h1&gt;Three's Company&lt;/h1&gt;\n  &lt;div&gt;A love triangle.&lt;/div&gt;\n&lt;/body&gt;\nEOHTML\n</code></pre> <p>Let's change the header's text contents:</p> <pre><code>h1 = @doc.at_css \"h1\"\nh1.content = \"Snap, Crackle &amp; Pop\"\n\n@doc.to_html\n# =&gt; \"&lt;body&gt;\n# \" +\n#    \"  &lt;h1&gt;Snap, Crackle &amp;amp; Pop&lt;/h1&gt;\n# \" +\n#    \"  &lt;div&gt;A love triangle.&lt;/div&gt;\n# \" +\n#    \"\n# \" +\n#    \"&lt;/body&gt;\"\n</code></pre> <p>You'll notice that, when you use <code>#content=</code>, entities are properly escaped. Pow!</p>","path":["Tutorials","Modifying an HTML / XML Document"],"tags":[]},{"location":"tutorials/modifying_an_html_xml_document.html#moving-nodes","level":2,"title":"Moving nodes","text":"<p>The simplest method of moving a node is assign its parent:</p> <pre><code>h1  = @doc.at_css \"h1\"\ndiv = @doc.at_css \"div\"\nh1.parent = div\n\n@doc.to_html\n# =&gt; \"&lt;body&gt;\n# \" +\n#    \"  \n# \" +\n#    \"  &lt;div&gt;A love triangle.&lt;h1&gt;Three's Company&lt;/h1&gt;\n# \" +\n#    \"&lt;/div&gt;\n# \" +\n#    \"\n# \" +\n#    \"&lt;/body&gt;\"\n</code></pre> <p>But you could also arrange it next to other nodes:</p> <pre><code>div.add_next_sibling(h1)\n\n@doc.to_html\n# =&gt; \"&lt;body&gt;\n# \" +\n#    \"  \n# \" +\n#    \"  &lt;div&gt;A love triangle.&lt;/div&gt;\n# \" +\n#    \"&lt;h1&gt;Three's Company&lt;/h1&gt;\n# \" +\n#    \"\n# \" +\n#    \"&lt;/body&gt;\"\n</code></pre>","path":["Tutorials","Modifying an HTML / XML Document"],"tags":[]},{"location":"tutorials/modifying_an_html_xml_document.html#modifying-nodes-and-attributes","level":2,"title":"Modifying Nodes and Attributes","text":"<pre><code>h1.name = 'h2'\nh1['class'] = 'show-title'\n\n@doc.to_html\n# =&gt; \"&lt;body&gt;\n# \" +\n#    \"  &lt;h2 class=\\\"show-title\\\"&gt;Three's Company&lt;/h2&gt;\n# \" +\n#    \"  &lt;div&gt;A love triangle.&lt;/div&gt;\n# \" +\n#    \"\n# \" +\n#    \"&lt;/body&gt;\"\n</code></pre>","path":["Tutorials","Modifying an HTML / XML Document"],"tags":[]},{"location":"tutorials/modifying_an_html_xml_document.html#creating-new-nodes","level":2,"title":"Creating new nodes","text":"<p>Often the easiest thing to do is pass markup to one of the <code>Node</code> methods to create siblings:</p> <pre><code>h1.add_next_sibling \"&lt;h3&gt;1977 - 1984&lt;/h3&gt;\"\n\n@doc.to_html\n# =&gt; \"&lt;body&gt;\n# \" +\n#    \"  &lt;h1&gt;Three's Company&lt;/h1&gt;\n# \" +\n#    \"&lt;h3&gt;1977 - 1984&lt;/h3&gt;\n# \" +\n#    \"  &lt;div&gt;A love triangle.&lt;/div&gt;\n# \" +\n#    \"\n# \" +\n#    \"&lt;/body&gt;\"\n</code></pre> <p>or you can manually create a node object, if you're a detail-oriented person:</p> <pre><code>h3 = Nokogiri::XML::Node.new \"h3\", @doc # !&gt; Passing a Node as the second parameter to Node.new is deprecated. Please pass a Document instead, or prefer an alternative constructor like Node#add_child. This will become an error in Nokogiri v1.17.0.\nh3.content = \"1977 - 1984\"\nh1.add_next_sibling(h3)\n\n@doc.to_html\n# =&gt; \"&lt;body&gt;\n# \" +\n#    \"  &lt;h1&gt;Three's Company&lt;/h1&gt;\n# \" +\n#    \"&lt;h3&gt;1977 - 1984&lt;/h3&gt;\n# \" +\n#    \"  &lt;div&gt;A love triangle.&lt;/div&gt;\n# \" +\n#    \"\n# \" +\n#    \"&lt;/body&gt;\"\n</code></pre>","path":["Tutorials","Modifying an HTML / XML Document"],"tags":[]},{"location":"tutorials/modifying_an_html_xml_document.html#wrapping-a-nodeset","level":2,"title":"Wrapping a NodeSet","text":"<p>If you wanted to wrap new HTML around each node in a Nodeset, here's an example of how to do it:</p> <pre><code>nodes = @doc.css \"h1,div\"\nnodes.wrap(\"&lt;div class='container'&gt;&lt;/div&gt;\")\n\n@doc.to_html\n# =&gt; \"&lt;body&gt;\n# \" +\n#    \"  &lt;div class=\\\"container\\\"&gt;&lt;h1&gt;Three's Company&lt;/h1&gt;&lt;/div&gt;\n# \" +\n#    \"  &lt;div class=\\\"container\\\"&gt;&lt;div&gt;A love triangle.&lt;/div&gt;&lt;/div&gt;\n# \" +\n#    \"\n# \" +\n#    \"&lt;/body&gt;\"\n</code></pre>","path":["Tutorials","Modifying an HTML / XML Document"],"tags":[]},{"location":"tutorials/modifying_an_html_xml_document.html#adding-a-processing-instruction","level":2,"title":"Adding a Processing Instruction","text":"","path":["Tutorials","Modifying an HTML / XML Document"],"tags":[]},{"location":"tutorials/modifying_an_html_xml_document.html#like-xml-stylesheet","level":3,"title":"(like &lt;?xml-stylesheet?&gt;)","text":"<p>If you want to add a processing instruction (a.k.a. \"PI node\"), like an xml-stylesheet declaration, you should first create the node using <code>Nokogiri::XML::ProcessingInstruction.new</code> and then add it to the document as a previous-sibling of the root node:</p> <pre><code>doc = Nokogiri::XML \"&lt;root&gt;foo&lt;/root&gt;\"\ndoc.to_xml\n# =&gt; \"&lt;?xml version=\\\"1.0\\\"?&gt;\n# \" + \"&lt;root&gt;foo&lt;/root&gt;\n# \"\n\npi = Nokogiri::XML::ProcessingInstruction.new(doc, \"xml-stylesheet\",\n                                              'type=\"text/xsl\" href=\"foo.xsl\"')\ndoc.root.add_previous_sibling pi\ndoc.to_xml\n# =&gt; \"&lt;?xml version=\\\"1.0\\\"?&gt;\n# \" +\n#    \"&lt;?xml-stylesheet type=\\\"text/xsl\\\" href=\\\"foo.xsl\\\"?&gt;\n# \" +\n#    \"&lt;root&gt;foo&lt;/root&gt;\n# \"\n</code></pre>","path":["Tutorials","Modifying an HTML / XML Document"],"tags":[]},{"location":"tutorials/more_resources.html","level":1,"title":"More Resources","text":"<ul> <li>sax-machine</li> <li>feedzirra</li> <li>elementor</li> <li>mechanize</li> <li>markup_validity</li> </ul>","path":["Support","More Resources"],"tags":[]},{"location":"tutorials/parsing_an_html5_document.html","level":1,"title":"Parsing an HTML5 Document","text":"<p>Nokogiri provides the ability for a Ruby program to invoke our version of the Gumbo HTML5 parser and to access the result as a Nokogiri::HTML::Document.</p> <p>Why is HTML5 parsing covered as a separate tutorial from HTML parsing?</p> <p>Eventually, we'll integrate HTML5 docs into the other of tutorials, and this page will go away. We shipped HTML5 support as quickly as possible by copying (and only lightly editing) the Nokogumbo documentation to this page.</p> <p>HTML5 support is only in v1.12.0 and later.</p> <p>This tutorial describes functionality that is only available in Nokogiri v1.12.0 and later. Please visit the HTML5 API documentation for more information.</p> <p>HTML5 functionality is not available when running JRuby.</p> <p>The JRuby implementation of Nokogiri does not support HTML5 as of v1.12.0. If you'd like to help implement this support, or would like to know more, please see #2227.</p>","path":["Tutorials","Parsing an HTML5 Document"],"tags":[]},{"location":"tutorials/parsing_an_html5_document.html#usage","level":2,"title":"Usage","text":"<p>Parse an HTML5 document:</p> <pre><code>doc = Nokogiri.HTML5(string)\n</code></pre> <p>Parse an HTML5 fragment:</p> <pre><code>fragment = Nokogiri::HTML5.fragment(string)\n</code></pre>","path":["Tutorials","Parsing an HTML5 Document"],"tags":[]},{"location":"tutorials/parsing_an_html5_document.html#parsing-options","level":2,"title":"Parsing options","text":"<p>The document and fragment parsing methods support options that are different from Nokogiri's.</p> <ul> <li><code>Nokogiri.HTML5(html, url = nil, encoding = nil, options = {})</code></li> <li><code>Nokogiri::HTML5.parse(html, url = nil, encoding = nil, options = {})</code></li> <li><code>Nokogiri::HTML5::Document.parse(html, url = nil, encoding = nil, options = {})</code></li> <li><code>Nokogiri::HTML5.fragment(html, encoding = nil, options = {})</code></li> <li><code>Nokogiri::HTML5::DocumentFragment.parse(html, encoding = nil, options = {})</code></li> </ul> <p>The three currently supported options are <code>:max_errors</code>, <code>:max_tree_depth</code> and <code>:max_attributes</code>, described below.</p>","path":["Tutorials","Parsing an HTML5 Document"],"tags":[]},{"location":"tutorials/parsing_an_html5_document.html#error-reporting","level":3,"title":"Error reporting","text":"<p>Nokogiri contains an experimental HTML5 parse error reporting facility. By default, no parse errors are reported but this can be configured by passing the <code>:max_errors</code> option to HTML5.parse or HTML5.fragment.</p> <p>For example, this script:</p> <pre><code>doc = Nokogiri::HTML5.parse('&lt;span/&gt;Hi there!&lt;/span foo=bar /&gt;', max_errors: 10)\ndoc.errors.each do |err|\n  puts(err)\nend\n</code></pre> <p>Emits:</p> <pre><code>1:1: ERROR: Expected a doctype token\n&lt;span/&gt;Hi there!&lt;/span foo=bar /&gt;\n^\n1:1: ERROR: Start tag of nonvoid HTML element ends with '/&gt;', use '&gt;'.\n&lt;span/&gt;Hi there!&lt;/span foo=bar /&gt;\n^\n1:17: ERROR: End tag ends with '/&gt;', use '&gt;'.\n&lt;span/&gt;Hi there!&lt;/span foo=bar /&gt;\n                ^\n1:17: ERROR: End tag contains attributes.\n&lt;span/&gt;Hi there!&lt;/span foo=bar /&gt;\n                ^\n</code></pre> <p>Using <code>max_errors: -1</code> results in an unlimited number of errors being returned.</p> <p>The HTML standard defines a number of standard parse error codes. These error codes only cover the \"tokenization\" stage of parsing HTML. The parse errors in the \"tree construction\" stage do not have standardized error codes (yet).</p> <p>As a convenience to Nokogiri users, the defined error codes are available via <code>Nokogiri::XML::SyntaxError#str1</code> method:</p> <pre><code>doc = Nokogiri::HTML5.parse('&lt;span/&gt;Hi there!&lt;/span foo=bar /&gt;', max_errors: 10)\ndoc.errors.each do |err|\n  puts(\"#{err.line}:#{err.column}: #{err.str1}\")\nend\n# =&gt; 1:1: generic-parser\n#    1:1: non-void-html-element-start-tag-with-trailing-solidus\n#    1:17: end-tag-with-trailing-solidus\n#    1:17: end-tag-with-attributes\n</code></pre> <p>Note that the first error is <code>generic-parser</code> because it's an error from the tree construction stage and doesn't have a standardized error code.</p> <p>For the purposes of semantic versioning, the error messages, error locations, and error codes are not part of Nokogiri's public API. That is, these are subject to change without Nokogiri's major version number changing. These may be stabilized in the future.</p>","path":["Tutorials","Parsing an HTML5 Document"],"tags":[]},{"location":"tutorials/parsing_an_html5_document.html#maximum-tree-depth","level":3,"title":"Maximum tree depth","text":"<p>The maximum depth of the DOM tree parsed by the various parsing methods is configurable by the <code>:max_tree_depth</code> option. If the depth of the tree would exceed this limit, then an <code>::ArgumentError</code> is thrown.</p> <p>This limit (which defaults to <code>Nokogiri::Gumbo::DEFAULT_MAX_TREE_DEPTH = 400</code>) can be removed by giving the option <code>max_tree_depth: -1</code>.</p> <pre><code>html = '&lt;!DOCTYPE html&gt;' + '&lt;div&gt;' * 1000\ndoc = Nokogiri.HTML5(html)\n# raises ArgumentError: Document tree depth limit exceeded\ndoc = Nokogiri.HTML5(html, max_tree_depth: -1)\n</code></pre>","path":["Tutorials","Parsing an HTML5 Document"],"tags":[]},{"location":"tutorials/parsing_an_html5_document.html#attribute-limit-per-element","level":3,"title":"Attribute limit per element","text":"<p>The maximum number of attributes per DOM element is configurable by the <code>:max_attributes</code> option. If a given element would exceed this limit, then an <code>::ArgumentError</code> is thrown.</p> <p>This limit (which defaults to <code>Nokogiri::Gumbo::DEFAULT_MAX_ATTRIBUTES = 400</code>) can be removed by giving the option <code>max_attributes: -1</code>.</p> <pre><code>html = '&lt;!DOCTYPE html&gt;&lt;div ' + (1..1000).map { |x| \"attr-#{x}\" }.join(' ') + '&gt;'\n# \"&lt;!DOCTYPE html&gt;&lt;div attr-1 attr-2 attr-3 ... attr-1000&gt;\"\ndoc = Nokogiri.HTML5(html)\n# raises ArgumentError: Attributes per element limit exceeded\ndoc = Nokogiri.HTML5(html, max_attributes: -1)\n</code></pre>","path":["Tutorials","Parsing an HTML5 Document"],"tags":[]},{"location":"tutorials/parsing_an_html5_document.html#html-serialization","level":2,"title":"HTML Serialization","text":"<p>After parsing HTML, it may be serialized using any of the <code>Nokogiri::XML::Node</code> serialization methods. In particular, <code>XML::Node#serialize</code>, <code>#to_html</code>, and <code>#to_s</code> will serialize a given node and its children. (This is the equivalent of JavaScript's <code>Element.outerHTML</code>.) Similarly, <code>XML::Node#inner_html</code> will serialize the children of a given node. (This is the equivalent of JavaScript's <code>Element.innerHTML</code>.)</p> <pre><code>doc = Nokogiri::HTML5(\"&lt;!DOCTYPE html&gt;&lt;span&gt;Hello world!&lt;/span&gt;\")\nputs doc.serialize\n# =&gt; &lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;span&gt;Hello world!&lt;/span&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>","path":["Tutorials","Parsing an HTML5 Document"],"tags":[]},{"location":"tutorials/parsing_an_html5_document.html#notes","level":2,"title":"Notes","text":"<ul> <li> <p>The <code>Nokogiri::HTML5.fragment</code> function takes a string and parses it   as a HTML5 document.  The <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code>, and <code>&lt;body&gt;</code> elements are   removed from this document, and any children of these elements that remain   are returned as a <code>Nokogiri::HTML5::DocumentFragment</code>.</p> </li> <li> <p>The <code>Nokogiri::HTML5.parse</code> function takes a string and passes it to the   <code>gumbo_parse_with_options</code> method, using the default options.   The resulting Gumbo parse tree is then walked.</p> </li> <li> <p>Instead of uppercase element names, lowercase element names are produced.</p> </li> <li> <p>Instead of returning <code>unknown</code> as the element name for unknown tags, the   original tag name is returned verbatim.</p> </li> </ul>","path":["Tutorials","Parsing an HTML5 Document"],"tags":[]},{"location":"tutorials/parsing_an_html_xml_document.html","level":1,"title":"Parsing an HTML / XML Document","text":"","path":["Tutorials","Parsing an HTML / XML Document"],"tags":[]},{"location":"tutorials/parsing_an_html_xml_document.html#from-a-string","level":2,"title":"From a String","text":"<p>We've tried to make this easy on you. Really! We're here to make your life easier.</p> <pre><code>html_doc = Nokogiri::HTML(\"&lt;html&gt;&lt;body&gt;&lt;h1&gt;Mr. Belvedere Fan Club&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;\")\nxml_doc  = Nokogiri::XML(\"&lt;root&gt;&lt;aliens&gt;&lt;alien&gt;&lt;name&gt;Alf&lt;/name&gt;&lt;/alien&gt;&lt;/aliens&gt;&lt;/root&gt;\")\n</code></pre> <p>The variables <code>html_doc</code> and <code>xml_doc</code> are Nokogiri documents, which have all kinds of interesting properties and methods that you can read about here. We'll cover the interesting bits in other chapters.</p>","path":["Tutorials","Parsing an HTML / XML Document"],"tags":[]},{"location":"tutorials/parsing_an_html_xml_document.html#from-a-file","level":2,"title":"From a File","text":"<p>Note that you don't need to read the file into a string variable. Nokogiri will do this for you.</p> <pre><code>doc = File.open(\"blossom.xml\") { |f| Nokogiri::XML(f) }\n</code></pre> <p>Clever Nokogiri! With the time you just saved, approach enlightenment by meditating on this koan.</p>","path":["Tutorials","Parsing an HTML / XML Document"],"tags":[]},{"location":"tutorials/parsing_an_html_xml_document.html#from-the-internets","level":2,"title":"From the Internets","text":"<p>I understand that there may be some HTML documents available on the World Wide Web.</p> <pre><code>require 'open-uri'\ndoc = Nokogiri::HTML(URI.open(\"http://www.threescompany.com/\"))\n</code></pre>","path":["Tutorials","Parsing an HTML / XML Document"],"tags":[]},{"location":"tutorials/parsing_an_html_xml_document.html#parse-options","level":2,"title":"Parse Options","text":"<p>Nokogiri offers quite a few options that affect how a document is parsed; you can read about them in the XML::ParseOptions docs.</p> <p>Notably, Nokogiri will treat input as untrusted documents by default, thereby avoiding a class of vulnerabilities known as XXE or \"XML eXternal Entity\" processing. What this means is that Nokogiri won't attempt to load external DTDs or access the network for any external resources.</p> <p>Some commonly-used parse options with security implications are:</p> <ul> <li><code>NONET</code> - Prevent any network connections during parsing. This is set by default!<ul> <li>\u26a0 It is UNSAFE to unset this option when parsing untrusted documents.</li> </ul> </li> <li><code>NOENT</code> - Substitute entities<ul> <li>\u26a0 It is UNSAFE to set this option when parsing untrusted documents.</li> </ul> </li> <li><code>DTDLOAD</code> <code>DTDVALID</code> - If you want DTD validation<ul> <li>\u26a0 It is UNSAFE to set <code>DTDLOAD</code> when parsing untrusted documents.</li> </ul> </li> <li><code>HUGE</code> - use to skip hardcoded limits around document size or DOM depth<ul> <li>\u26a0 It is UNSAFE to set this option when parsing untrusted documents.</li> </ul> </li> </ul> <p>Some other commonly-used parse options are:</p> <ul> <li><code>RECOVER</code> - Attempt to recover from errors. This is set by default!<ul> <li>Recommended for parsing malformed or invalid documents.</li> </ul> </li> <li><code>NOBLANKS</code> - Remove blank nodes</li> <li><code>NOERROR</code> - Suppress error reports</li> <li><code>STRICT</code> - Strict parsing; raise an error when parsing malformed documents</li> </ul> <p>You could use them by handcrafting an artisanal bitmap (not recommended):</p> <pre><code>doc = Nokogiri::XML(File.open(\"blossom.xml\")) do |config|\n  config.options = Nokogiri::XML::ParseOptions::STRICT | Nokogiri::XML::ParseOptions::NOBLANKS\nend\n</code></pre> <p>But it's more idiomatic to use the chainable shortcuts on the config object instead:</p> <pre><code>doc = Nokogiri::XML(File.open(\"blossom.xml\")) do |config|\n  config.strict.noblanks\nend\n</code></pre> <p>Notably, if you want to turn off an option that's set by default, you can prefix a \"no\" to the config shortcut:</p> <pre><code>doc = Nokogiri::XML(File.open(\"blossom.xml\")) do |config|\n  config.norecover\nend\n</code></pre> <p>Leading to the perhaps-surprising (but logical!) <code>nononet</code> to turn networking back on:</p> <pre><code>doc = Nokogiri::XML(File.open(\"blossom.xml\")) do |config|\n  config.nononet\nend\n</code></pre>","path":["Tutorials","Parsing an HTML / XML Document"],"tags":[]},{"location":"tutorials/parsing_an_html_xml_document.html#encoding","level":2,"title":"Encoding","text":"<p>Strings are always stored as UTF-8 internally.  Methods that return text values will always return UTF-8 encoded strings.  Methods that return XML (like to_xml, to_html and inner_html) will return a string encoded like the source document.</p> <p>WARNING</p> <p>Some documents declare one particular encoding, but use a different one. So, which encoding should the parser choose?</p> <p>Remember that data is just a stream of bytes. Only us humans add meaning to that stream. Any particular set of bytes could be valid characters in multiple encodings, so detecting encoding with 100% accuracy is not possible. libxml2 does its best, but it can't be right 100% of the time.</p> <p>If you want Nokogiri to handle the document encoding properly, your best bet is to explicitly set the encoding.  Here is an example of explicitly setting the encoding to EUC-JP on the parser:</p> <pre><code>doc = Nokogiri.XML('&lt;foo&gt;&lt;bar /&gt;&lt;foo&gt;', nil, 'EUC-JP')\n</code></pre>","path":["Tutorials","Parsing an HTML / XML Document"],"tags":[]},{"location":"tutorials/searching_a_xml_html_document.html","level":1,"title":"Searching an HTML / XML Document","text":"","path":["Tutorials","Searching an HTML / XML Document"],"tags":[]},{"location":"tutorials/searching_a_xml_html_document.html#basic-searching","level":2,"title":"Basic Searching","text":"<p>Let's suppose you have the following document:</p> <pre><code>[shows.xml]\n&lt;root&gt;\n  &lt;sitcoms&gt;\n    &lt;sitcom&gt;\n      &lt;name&gt;Married with Children&lt;/name&gt;\n      &lt;characters&gt;\n        &lt;character&gt;Al Bundy&lt;/character&gt;\n        &lt;character&gt;Bud Bundy&lt;/character&gt;\n        &lt;character&gt;Marcy Darcy&lt;/character&gt;\n      &lt;/characters&gt;\n    &lt;/sitcom&gt;\n    &lt;sitcom&gt;\n      &lt;name&gt;Perfect Strangers&lt;/name&gt;\n      &lt;characters&gt;\n        &lt;character&gt;Larry Appleton&lt;/character&gt;\n        &lt;character&gt;Balki Bartokomous&lt;/character&gt;\n      &lt;/characters&gt;\n    &lt;/sitcom&gt;\n  &lt;/sitcoms&gt;\n  &lt;dramas&gt;\n    &lt;drama&gt;\n      &lt;name&gt;The A-Team&lt;/name&gt;\n      &lt;characters&gt;\n        &lt;character&gt;John \"Hannibal\" Smith&lt;/character&gt;\n        &lt;character&gt;Templeton \"Face\" Peck&lt;/character&gt;\n        &lt;character&gt;\"B.A.\" Baracus&lt;/character&gt;\n        &lt;character&gt;\"Howling Mad\" Murdock&lt;/character&gt;\n      &lt;/characters&gt;\n    &lt;/drama&gt;\n  &lt;/dramas&gt;\n&lt;/root&gt;\n</code></pre> <p>Let's further suppose that you want a list of all the characters in all the shows in this document.</p> <pre><code>@doc = Nokogiri::XML(File.open(\"shows.xml\"))\n@doc.xpath(\"//character\")\n# =&gt; [\"&lt;character&gt;Al Bundy&lt;/character&gt;\",\n#    \"&lt;character&gt;Bud Bundy&lt;/character&gt;\",\n#    \"&lt;character&gt;Marcy Darcy&lt;/character&gt;\",\n#    \"&lt;character&gt;Larry Appleton&lt;/character&gt;\",\n#    \"&lt;character&gt;Balki Bartokomous&lt;/character&gt;\",\n#    \"&lt;character&gt;John \\\"Hannibal\\\" Smith&lt;/character&gt;\",\n#    \"&lt;character&gt;Templeton \\\"Face\\\" Peck&lt;/character&gt;\",\n#    \"&lt;character&gt;\\\"B.A.\\\" Baracus&lt;/character&gt;\",\n#    \"&lt;character&gt;\\\"Howling Mad\\\" Murdock&lt;/character&gt;\"]\n</code></pre> <p>The <code>Node</code> methods <code>xpath</code> and <code>css</code> actually return a NodeSet, which acts very much like an array, and contains matching nodes from the document.</p> <pre><code>characters = @doc.xpath(\"//character\")\ncharacters[0].to_s # =&gt; \"&lt;character&gt;Al Bundy&lt;/character&gt;\"\n</code></pre> <p>You can use any XPath or CSS query you like (see the chapter on XPath and CSS syntax for more information).</p> <pre><code>@doc.xpath(\"//dramas//character\")\n# =&gt; [\"&lt;character&gt;John \\\"Hannibal\\\" Smith&lt;/character&gt;\",\n#    \"&lt;character&gt;Templeton \\\"Face\\\" Peck&lt;/character&gt;\",\n#    \"&lt;character&gt;\\\"B.A.\\\" Baracus&lt;/character&gt;\",\n#    \"&lt;character&gt;\\\"Howling Mad\\\" Murdock&lt;/character&gt;\"]\n</code></pre> <p>Notably, you can even use CSS queries in an XML document!</p> <pre><code>characters = @doc.css(\"sitcoms name\") # =&gt; [\"&lt;name&gt;Married with Children&lt;/name&gt;\", \"&lt;name&gt;Perfect Strangers&lt;/name&gt;\"]\n</code></pre> <p>CSS queries are often the easiest and most succinct way to express what you're looking for, so don't be afraid to use them!</p>","path":["Tutorials","Searching an HTML / XML Document"],"tags":[]},{"location":"tutorials/searching_a_xml_html_document.html#single-results","level":2,"title":"Single Results","text":"<p>If you know you're going to get only a single result back, you can use the shortcuts <code>at_css</code> and <code>at_xpath</code> instead of having to access the first element of a NodeSet.</p> <pre><code>@doc.css(\"dramas name\").first # =&gt; \"&lt;name&gt;The A-Team&lt;/name&gt;\"\n@doc.at_css(\"dramas name\")    # =&gt; \"&lt;name&gt;The A-Team&lt;/name&gt;\"\n</code></pre>","path":["Tutorials","Searching an HTML / XML Document"],"tags":[]},{"location":"tutorials/searching_a_xml_html_document.html#namespaces","level":2,"title":"Namespaces","text":"<p>Just like our Ruby code, XML can suffer from name collisions.  For example, an autoparts dealer can sell tires and so can a bike dealer.  Both of them may use a \"tire\" tag to describe the tires they sell.  However, we need to be able to tell the difference between a car tire and a bike tire.  This is where namespaces come to the rescue.</p> <p>Namespaces associate tags with a unique URL.  Let's take a look at the autoparts store's XML versus the bike stores:</p> <pre><code>[parts.xml]\n&lt;parts&gt;\n  &lt;!-- Alice's Auto Parts Store --&gt;\n  &lt;inventory xmlns=\"http://alicesautoparts.com/\"&gt;\n    &lt;tire&gt;all weather&lt;/tire&gt;\n    &lt;tire&gt;studded&lt;/tire&gt;\n    &lt;tire&gt;extra wide&lt;/tire&gt;\n  &lt;/inventory&gt;\n\n  &lt;!-- Bob's Bike Shop --&gt;\n  &lt;inventory xmlns=\"http://bobsbikes.com/\"&gt;\n    &lt;tire&gt;street&lt;/tire&gt;\n    &lt;tire&gt;mountain&lt;/tire&gt;\n  &lt;/inventory&gt;\n&lt;/parts&gt;\n</code></pre> <p>Since the URLs are unique, we can associate our query with a URL and get only the tires belonging to that url:</p> <pre><code>@doc = Nokogiri::XML(File.read(\"parts.xml\"))\n\ncar_tires = @doc.xpath('//car:tire', 'car' =&gt; 'http://alicesautoparts.com/')\n# =&gt; [\"&lt;tire&gt;all weather&lt;/tire&gt;\",\n#    \"&lt;tire&gt;studded&lt;/tire&gt;\",\n#    \"&lt;tire&gt;extra wide&lt;/tire&gt;\"]\n\nbike_tires = @doc.xpath('//bike:tire', 'bike' =&gt; 'http://bobsbikes.com/')\n# =&gt; [\"&lt;tire&gt;street&lt;/tire&gt;\", \"&lt;tire&gt;mountain&lt;/tire&gt;\"]\n</code></pre> <p>To make this namespace registration a bit easier, nokogiri will automatically register any namespaces it finds on the root node for you.  Nokogiri will associate the name in the declaration with the supplied URL.  If we stick to this naming convention, we can shorten up our code.</p> <p>Let's take this atom feed for example:</p> <pre><code>[atom.xml]\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;feed xmlns=\"http://www.w3.org/2005/Atom\"&gt;\n\n  &lt;title&gt;Example Feed&lt;/title&gt;\n  &lt;link href=\"http://example.org/\"/&gt;\n  &lt;updated&gt;2003-12-13T18:30:02Z&lt;/updated&gt;\n  &lt;author&gt;\n    &lt;name&gt;John Doe&lt;/name&gt;\n  &lt;/author&gt;\n  &lt;id&gt;urn:uuid:60a76c80-d399-11d9-b93C-0003939e0af6&lt;/id&gt;\n\n  &lt;entry&gt;\n    &lt;title&gt;Atom-Powered Robots Run Amok&lt;/title&gt;\n    &lt;link href=\"http://example.org/2003/12/13/atom03\"/&gt;\n    &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a&lt;/id&gt;\n    &lt;updated&gt;2003-12-13T18:30:02Z&lt;/updated&gt;\n    &lt;summary&gt;Some text.&lt;/summary&gt;\n  &lt;/entry&gt;\n\n&lt;/feed&gt;\n</code></pre> <p>If we stick to the convention, we can grab all title tags like this</p> <pre><code>@doc.xpath('//xmlns:title') # =&gt; [\"&lt;title&gt;Example Feed&lt;/title&gt;\", \"&lt;title&gt;Atom-Powered Robots Run Amok&lt;/title&gt;\"]\n</code></pre> <p>Don't be fooled though.  You do not have to use XPath to get the benefits of namespaces.  CSS selectors can be used as well.  CSS just uses the pipe symbol to indicate a namespace search.</p> <p>Let's see the previous search rewritten to use CSS:</p> <pre><code>@doc.css('xmlns|title') # =&gt; [\"&lt;title&gt;Example Feed&lt;/title&gt;\", \"&lt;title&gt;Atom-Powered Robots Run Amok&lt;/title&gt;\"]\n</code></pre> <p>When using CSS, if the namespace is called \"xmlns\", you can even omit the namespace name.  That means your CSS will reduce to:</p> <pre><code>@doc.css('title') # =&gt; [\"&lt;title&gt;Example Feed&lt;/title&gt;\", \"&lt;title&gt;Atom-Powered Robots Run Amok&lt;/title&gt;\"]\n</code></pre> <p>Dealing with namespaces is a broad topic.  If you need more examples, be sure to check out this blog post or send an email to the mailing list, and we can help out.</p>","path":["Tutorials","Searching an HTML / XML Document"],"tags":[]},{"location":"tutorials/searching_a_xml_html_document.html#but-im-lazy-and-dont-want-to-deal-with-namespaces","level":2,"title":"But I'm Lazy and Don't Want to Deal With Namespaces!","text":"<p>Lazy == Efficient, so no judgements. :)</p> <p>If you have an XML document with namespaces, but would prefer to ignore them entirely (and query as if Tim Bray had never invented them), then you can call remove_namespaces! on an XML::Document to remove all namespaces. Of course, if the document had nodes with the same names but different namespaces, they will now be ambiguous. But you're lazy! You don't care!</p>","path":["Tutorials","Searching an HTML / XML Document"],"tags":[]},{"location":"tutorials/searching_a_xml_html_document.html#slop","level":2,"title":"Slop <sup>1</sup>","text":"<p>Maybe you want a more interactive (read: sloppy) way to access nodes and attributes. If you like what XmlSimple does, then you'll probably like Nokogiri's Slop mode.<sup>2</sup></p> <p>Slop mode allows you to violate the Law of Demeter with extreme prejudice, by using <code>#method_missing</code> to introspect on a node's child tags.<sup>3</sup></p> <pre><code>doc = Nokogiri::Slop &lt;&lt;-EOXML\n&lt;employees&gt;\n  &lt;employee status=\"active\"&gt;\n    &lt;fullname&gt;Dean Martin&lt;/fullname&gt;\n  &lt;/employee&gt;\n  &lt;employee status=\"inactive\"&gt;\n    &lt;fullname&gt;Jerry Lewis&lt;/fullname&gt;\n  &lt;/employee&gt;\n&lt;/employees&gt;\nEOXML\n\n# navigate!\ndoc.employees.employee.last.fullname.content # =&gt; \"Jerry Lewis\"\n\n# access node attributes!\ndoc.employees.employee.first[\"status\"] # =&gt; \"active\"\n\n# use some xpath!\ndoc.employees.employee(\"[@status='active']\").fullname.content # =&gt; \"Dean Martin\"\ndoc.employees.employee(:xpath =&gt; \"@status='active'\").fullname.content # =&gt; \"Dean Martin\"\n\n# use some css!\ndoc.employees.employee(\"[status='active']\").fullname.content # =&gt; \"Dean Martin\"\ndoc.employees.employee(:css =&gt; \"[status='active']\").fullname.content # =&gt; \"Dean Martin\"\n</code></pre> <p>Aww yeah. Can you feel the spirit of @jbarnette and @nakajima flowing through you? That's the power of the slop.<sup>4</sup></p> <ol> <li> <p>Don't use this.\u00a0\u21a9</p> </li> <li> <p>This may or may not be a backhanded compliment.\u00a0\u21a9</p> </li> <li> <p>No, really, don't use this. If you use it, don't report bugs.\u00a0\u21a9</p> </li> <li> <p>You've been warned!\u00a0\u21a9</p> </li> </ol>","path":["Tutorials","Searching an HTML / XML Document"],"tags":[]},{"location":"tutorials/security.html","level":1,"title":"Security and Vulnerability Reporting","text":"<p>The Nokogiri Core Contributors take security very seriously and investigate all reported vulnerabilities.</p> <p>If you would like to report a vulnerability or have a security concern regarding Nokogiri or how Nokogiri is using any of its underlying platform-specific libraries (such as libxml2 or xerces), please report it via HackerOne.</p> <p>Your report will be acknowledged within 24 hours, and you'll receive a more detailed response within 72 hours indicating next steps in handling your report.</p> <p>If you have not received a reply to your submission within 48 hours, there are a few steps you can take:</p> <ul> <li>Contact the current security coordinator (Mike Dalessio mike.dalessio@gmail.com)</li> <li>Contact the core contributor mailing list (nokogiri-core@googlegroups.com)</li> <li>Join the nokogiri-talk group</li> </ul> <p>Please note, the nokogiri-talk list is a public area. When escalating in that venue, please do not discuss your issue. Simply say that you're trying to get a hold of someone from the core team.</p> <p>The information you share with the Nokogiri Core Contributors as part of this process will be kept confidential within the team, unless or until we need to share information upstream with our dependent libraries' core teams, at which point we will notify you.</p> <p>If a vulnerability is first reported by you, we will credit you with the discovery in the public disclosure.</p>","path":["Support","Security and Vulnerability Reporting"],"tags":[]},{"location":"tutorials/toc.html","level":1,"title":"Nokogiri Tutorials","text":"<ul> <li>Parsing an HTML/XML document</li> <li>Parsing an HTML5 document</li> <li>Searching a XML/HTML document</li> <li>Modifying an HTML/XML document</li> <li>Ensuring well-formed markup</li> </ul>","path":["Tutorials","Nokogiri Tutorials"],"tags":[]},{"location":"rdoc/Nokogiri/CSS/SyntaxError.html","level":1,"title":"class Nokogiri::CSS::SyntaxError","text":"","path":["class Nokogiri::CSS::SyntaxError"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/CSS/Tokenizer/ScanError.html","level":1,"title":"class Nokogiri::CSS::Tokenizer::ScanError","text":"","path":["class Nokogiri::CSS::Tokenizer::ScanError"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/CSS/Tokenizer.html","level":1,"title":"class Nokogiri::CSS::Tokenizer","text":"","path":["class Nokogiri::CSS::Tokenizer"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/CSS/XPathVisitor/BuiltinsConfig.html","level":1,"title":"module Nokogiri::CSS::XPathVisitor::BuiltinsConfig","text":"Enum to direct XPathVisitor when to use Nokogiri builtin XPath functions.","path":["module Nokogiri::CSS::XPathVisitor::BuiltinsConfig"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/CSS/XPathVisitor/DoctypeConfig.html","level":1,"title":"module Nokogiri::CSS::XPathVisitor::DoctypeConfig","text":"Enum to direct XPathVisitor when to tweak the XPath query to suit the nature of the document being searched. Note that searches for CSS selectors from a Nokogiri document, fragment, or node will choose the correct option automatically.","path":["module Nokogiri::CSS::XPathVisitor::DoctypeConfig"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/CSS/XPathVisitor.html","level":1,"title":"class Nokogiri::CSS::XPathVisitor","text":"When translating CSS selectors to XPath queries with Nokogiri::CSS.xpath_for , the XPathVisitor class allows for changing some of the behaviors related to builtin xpath functions and quirks of HTML5 .","path":["class Nokogiri::CSS::XPathVisitor"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/CSS/XPathVisitor.html#attribute-i-builtins","level":2,"title":"class Nokogiri::CSS::XPathVisitor#builtins","text":"The visitor configuration set via thebuiltins:keyword argument toXPathVisitor.new.","path":["class Nokogiri::CSS::XPathVisitor","class Nokogiri::CSS::XPathVisitor#builtins"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/CSS/XPathVisitor.html#attribute-i-doctype","level":2,"title":"class Nokogiri::CSS::XPathVisitor#doctype","text":"The visitor configuration set via thedoctype:keyword argument toXPathVisitor.new.","path":["class Nokogiri::CSS::XPathVisitor","class Nokogiri::CSS::XPathVisitor#doctype"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/CSS/XPathVisitor.html#attribute-i-namespaces","level":2,"title":"class Nokogiri::CSS::XPathVisitor#namespaces","text":"The visitor configuration set via thenamespaces:keyword argument toXPathVisitor.new.","path":["class Nokogiri::CSS::XPathVisitor","class Nokogiri::CSS::XPathVisitor#namespaces"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/CSS/XPathVisitor.html#attribute-i-prefix","level":2,"title":"class Nokogiri::CSS::XPathVisitor#prefix","text":"The visitor configuration set via theprefix:keyword argument toXPathVisitor.new.","path":["class Nokogiri::CSS::XPathVisitor","class Nokogiri::CSS::XPathVisitor#prefix"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/CSS/XPathVisitor.html#method-c-new","level":2,"title":"class Nokogiri::CSS::XPathVisitor.new() \u2192 XPathVisitor","text":"builtins:(BuiltinsConfig) Determine when to use Nokogiri\u2019s built-in xpath functions for performance improvements. doctype:(DoctypeConfig) Make document-type-specific accommodations forCSSqueries. XPathVisitor","path":["class Nokogiri::CSS::XPathVisitor","class Nokogiri::CSS::XPathVisitor.new() \u2192 XPathVisitor"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/CSS/XPathVisitor.html#method-i-config","level":2,"title":"class Nokogiri::CSS::XPathVisitor#config() \u2192 Hash","text":"a Hash representing the configuration of theXPathVisitor, suitable for use as part of theCSScache key.","path":["class Nokogiri::CSS::XPathVisitor","class Nokogiri::CSS::XPathVisitor#config() \u2192 Hash"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/CSS.html","level":1,"title":"module Nokogiri::CSS","text":"Translate a CSS selector into an XPath 1.0 query","path":["module Nokogiri::CSS"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/CSS.html#method-c-xpath_for","level":2,"title":"module Nokogiri::CSS.xpath_for(selector_list) \u2192 Array<String>","text":"Translate aCSSselector list to the equivalent XPath expressions. \ud83d\udca1 Note that translated queries are cached by default for performance concerns. \u26a0 Users should preferNokogiri::XML::Searchable#css, which is mixed into all document and node classes, for querying documents withCSSselectors. This method ","path":["module Nokogiri::CSS","module Nokogiri::CSS.xpath_for(selector_list) \u2192 Array<String>"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/ClassResolver.html","level":1,"title":"module Nokogiri::ClassResolver","text":"Some classes in Nokogiri are namespaced as a group, for example Document, DocumentFragment, and Builder. It\u2019s sometimes necessary to look up the related class, e.g.: XML :: Builder \u2192 XML :: Document HTML4 :: Builder \u2192 HTML4 :: Document HTML5 :: Document \u2192 HTML5 :: DocumentFragment This module is included into those key classes who need to do this.","path":["module Nokogiri::ClassResolver"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/ClassResolver.html#method-i-related_class","level":2,"title":"module Nokogiri::ClassResolver#related_class(class_name) \u2192 Class","text":"Find a class constant within the Some examples: Note this will also work for subclasses that follow the same convention, e.g.:","path":["module Nokogiri::ClassResolver","module Nokogiri::ClassResolver#related_class(class_name) \u2192 Class"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/Decorators/Slop.html","level":1,"title":"module Nokogiri::Decorators::Slop","text":"The Slop decorator implements method missing such that a methods may be used instead of XPath or CSS .  See Nokogiri.Slop","path":["module Nokogiri::Decorators::Slop"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/Decorators/Slop.html#method-i-method_missing","level":2,"title":"module Nokogiri::Decorators::Slop#method_missing(name, *args, &block)","text":"look for node withname.  SeeNokogiri.Slop","path":["module Nokogiri::Decorators::Slop","module Nokogiri::Decorators::Slop#method_missing(name, *args, &block)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/Decorators/Slop.html#method-i-respond_to_missing-3F","level":2,"title":"module Nokogiri::Decorators::Slop#respond_to_missing?(name, include_private = false)","text":"","path":["module Nokogiri::Decorators::Slop","module Nokogiri::Decorators::Slop#respond_to_missing?(name, include_private = false)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/Decorators.html","level":1,"title":"module Nokogiri::Decorators","text":"","path":["module Nokogiri::Decorators"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/EncodingHandler.html","level":1,"title":"class Nokogiri::EncodingHandler","text":"","path":["class Nokogiri::EncodingHandler"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/EncodingHandler.html#method-c-5B-5D","level":2,"title":"class Nokogiri::EncodingHandler.Nokogiri::EncodingHandler.[](name)","text":"Get the encoding handler forname","path":["class Nokogiri::EncodingHandler","class Nokogiri::EncodingHandler.Nokogiri::EncodingHandler.[](name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/EncodingHandler.html#method-c-alias","level":2,"title":"class Nokogiri::EncodingHandler.Nokogiri::EncodingHandler.alias(real_name, alias_name)","text":"Alias encoding handler with namereal_nameto namealias_name","path":["class Nokogiri::EncodingHandler","class Nokogiri::EncodingHandler.Nokogiri::EncodingHandler.alias(real_name, alias_name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/EncodingHandler.html#method-c-clear_aliases-21","level":2,"title":"class Nokogiri::EncodingHandler.Nokogiri::EncodingHandler.clear_aliases!","text":"Remove all encoding aliases.","path":["class Nokogiri::EncodingHandler","class Nokogiri::EncodingHandler.Nokogiri::EncodingHandler.clear_aliases!"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/EncodingHandler.html#method-c-delete","level":2,"title":"class Nokogiri::EncodingHandler.Nokogiri::EncodingHandler.delete(name)","text":"Delete the encoding alias namedname","path":["class Nokogiri::EncodingHandler","class Nokogiri::EncodingHandler.Nokogiri::EncodingHandler.delete(name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/EncodingHandler.html#method-c-install_default_aliases","level":2,"title":"class Nokogiri::EncodingHandler.install_default_aliases()","text":"","path":["class Nokogiri::EncodingHandler","class Nokogiri::EncodingHandler.install_default_aliases()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/EncodingHandler.html#method-i-name","level":2,"title":"class Nokogiri::EncodingHandler#name","text":"Get the name of thisEncodingHandler","path":["class Nokogiri::EncodingHandler","class Nokogiri::EncodingHandler#name"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/Gumbo.html","level":1,"title":"module Nokogiri::Gumbo","text":"","path":["module Nokogiri::Gumbo"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML/Builder.html","level":1,"title":"class Nokogiri::HTML::Builder","text":"\ud83d\udca1 This class is an alias for Nokogiri::HTML4::Builder as of v1.12.0.","path":["class Nokogiri::HTML::Builder"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML/Document.html","level":1,"title":"class Nokogiri::HTML::Document","text":"\ud83d\udca1 This class is an alias for Nokogiri::HTML4::Document as of v1.12.0.","path":["class Nokogiri::HTML::Document"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML/DocumentFragment.html","level":1,"title":"class Nokogiri::HTML::DocumentFragment","text":"\ud83d\udca1 This class is an alias for Nokogiri::HTML4::DocumentFragment as of v1.12.0.","path":["class Nokogiri::HTML::DocumentFragment"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/Builder.html","level":1,"title":"class Nokogiri::HTML4::Builder","text":"Nokogiri HTML builder is used for building HTML documents.  It is very similar to the Nokogiri::XML::Builder .  In fact, you should go read the documentation for Nokogiri::XML::Builder before reading this documentation. Synopsis: Create an HTML document with a body that has an onload attribute, and a span tag with a class of \u201cbold\u201d that has content of \u201cHello world\u201d. builder = Nokogiri :: HTML4 :: Builder . new do | doc | doc . html { doc . body ( :onload => 'some_func();' ) { doc . span . bold {","path":["class Nokogiri::HTML4::Builder"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/Builder.html#method-i-to_html","level":2,"title":"class Nokogiri::HTML4::Builder#to_html()","text":"Convert the builder toHTML","path":["class Nokogiri::HTML4::Builder","class Nokogiri::HTML4::Builder#to_html()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/Document.html","level":1,"title":"class Nokogiri::HTML4::Document","text":"","path":["class Nokogiri::HTML4::Document"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/Document.html#method-c-new","level":2,"title":"class Nokogiri::HTML4::Document.new(uri=nil, external_id=nil) \u2192 HTML4::Document","text":"Create a new empty document with base URIuriand external IDexternal_id.","path":["class Nokogiri::HTML4::Document","class Nokogiri::HTML4::Document.new(uri=nil, external_id=nil) \u2192 HTML4::Document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/Document.html#method-c-parse","level":2,"title":"class Nokogiri::HTML4::Document.parse(input) { |options| ... } \u2192 Nokogiri::HTML4::Document","text":"Parse HTML4 input from a String or IO object, and return a newHTML4::Document. input(String | IO) The content to be parsed. url:(String) The base URI for this document.","path":["class Nokogiri::HTML4::Document","class Nokogiri::HTML4::Document.parse(input) { |options| ... } \u2192 Nokogiri::HTML4::Document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/Document.html#method-c-read_io","level":2,"title":"class Nokogiri::HTML4::Document.read_io(io, url, encoding, options)","text":"Read theHTMLdocument fromiowith givenurl,encoding, andoptions.  SeeNokogiri::HTML4.parse","path":["class Nokogiri::HTML4::Document","class Nokogiri::HTML4::Document.read_io(io, url, encoding, options)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/Document.html#method-c-read_memory","level":2,"title":"class Nokogiri::HTML4::Document.read_memory(string, url, encoding, options)","text":"Read theHTMLdocument contained instringwith givenurl,encoding, andoptions.  SeeNokogiri::HTML4.parse","path":["class Nokogiri::HTML4::Document","class Nokogiri::HTML4::Document.read_memory(string, url, encoding, options)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/Document.html#method-i-fragment","level":2,"title":"class Nokogiri::HTML4::Document#fragment(tags = nil)","text":"Create aNokogiri::XML::DocumentFragmentfromtags","path":["class Nokogiri::HTML4::Document","class Nokogiri::HTML4::Document#fragment(tags = nil)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/Document.html#method-i-meta_encoding","level":2,"title":"class Nokogiri::HTML4::Document#meta_encoding()","text":"Get the meta tag encoding for this document.  If there is no meta tag, then nil is returned.","path":["class Nokogiri::HTML4::Document","class Nokogiri::HTML4::Document#meta_encoding()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/Document.html#method-i-meta_encoding-3D","level":2,"title":"class Nokogiri::HTML4::Document#meta_encoding=(encoding)","text":"Set the meta tag encoding for this document. If an meta encoding tag is already present, its content is replaced with the given text. Otherwise, this method tries to create one at an appropriate place supplying head and/or html elements as necessary, which is inside a head element if any, and before","path":["class Nokogiri::HTML4::Document","class Nokogiri::HTML4::Document#meta_encoding=(encoding)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/Document.html#method-i-serialize","level":2,"title":"class Nokogiri::HTML4::Document#serialize(options = {})","text":"Serialize Node usingoptions. Save options can also be set using a block. See alsoNokogiri::XML::Node::SaveOptionsand Node. These two statements are equivalent:","path":["class Nokogiri::HTML4::Document","class Nokogiri::HTML4::Document#serialize(options = {})"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/Document.html#method-i-title","level":2,"title":"class Nokogiri::HTML4::Document#title()","text":"Get the title string of this document.  Return nil if there is no title tag.","path":["class Nokogiri::HTML4::Document","class Nokogiri::HTML4::Document#title()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/Document.html#method-i-title-3D","level":2,"title":"class Nokogiri::HTML4::Document#title=(text)","text":"Set the title string of this document. If a title element is already present, its content is replaced with the given text. Otherwise, this method tries to create one at an appropriate place supplying head and/or html elements as necessary, which is inside a head element if any, right after a meta en","path":["class Nokogiri::HTML4::Document","class Nokogiri::HTML4::Document#title=(text)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/Document.html#method-i-type","level":2,"title":"class Nokogiri::HTML4::Document#type","text":"The type for this document","path":["class Nokogiri::HTML4::Document","class Nokogiri::HTML4::Document#type"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/Document.html#method-i-xpath_doctype","level":2,"title":"class Nokogiri::HTML4::Document#xpath_doctype() \u2192 Nokogiri::CSS::XPathVisitor::DoctypeConfig","text":"The document type which determines CSS-to-XPath translation. See XPathVisitor for more information.","path":["class Nokogiri::HTML4::Document","class Nokogiri::HTML4::Document#xpath_doctype() \u2192 Nokogiri::CSS::XPathVisitor::DoctypeConfig"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/DocumentFragment.html","level":1,"title":"class Nokogiri::HTML4::DocumentFragment","text":"","path":["class Nokogiri::HTML4::DocumentFragment"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/DocumentFragment.html#method-c-new","level":2,"title":"class Nokogiri::HTML4::DocumentFragment.new(document) { |options| ... } \u2192 HTML4::DocumentFragment","text":"Parse HTML4 fragment input from a String, and return a newHTML4::DocumentFragment. \ud83d\udca1 It\u2019s recommended to use eitherHTML4::DocumentFragment.parseorXML::Node#parserather than call this method directly. document(HTML4::Document) The parent document to associate the returned fragment with.","path":["class Nokogiri::HTML4::DocumentFragment","class Nokogiri::HTML4::DocumentFragment.new(document) { |options| ... } \u2192 HTML4::DocumentFragment"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/DocumentFragment.html#method-c-parse","level":2,"title":"class Nokogiri::HTML4::DocumentFragment.parse(input) { |options| ... } \u2192 HTML4::DocumentFragment","text":"Parse HTML4 fragment input from a String, and return a newHTML4::DocumentFragment. This method creates a new, emptyHTML4::Documentto contain the fragment. input(String | IO) The content to be parsed. encoding:(String) The name of the encoding that should be used when processing the document. When no","path":["class Nokogiri::HTML4::DocumentFragment","class Nokogiri::HTML4::DocumentFragment.parse(input) { |options| ... } \u2192 HTML4::DocumentFragment"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html","level":1,"title":"class Nokogiri::HTML4::ElementDescription","text":"","path":["class Nokogiri::HTML4::ElementDescription"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-c-5B-5D","level":2,"title":"class Nokogiri::HTML4::ElementDescription.[](tag_name)","text":"GetElementDescriptionfortag_name","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription.[](tag_name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-block-3F","level":2,"title":"class Nokogiri::HTML4::ElementDescription#block?()","text":"Is this element a block element?","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#block?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-default_sub_element","level":2,"title":"class Nokogiri::HTML4::ElementDescription#default_sub_element","text":"The default sub element for this element","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#default_sub_element"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-deprecated-3F","level":2,"title":"class Nokogiri::HTML4::ElementDescription#deprecated?","text":"Is this element deprecated?","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#deprecated?"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-deprecated_attributes","level":2,"title":"class Nokogiri::HTML4::ElementDescription#deprecated_attributes","text":"A list of deprecated attributes for this element","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#deprecated_attributes"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-description","level":2,"title":"class Nokogiri::HTML4::ElementDescription#description","text":"The description for this element","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#description"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-empty-3F","level":2,"title":"class Nokogiri::HTML4::ElementDescription#empty?","text":"Is this an empty element?","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#empty?"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-implied_end_tag-3F","level":2,"title":"class Nokogiri::HTML4::ElementDescription#implied_end_tag?","text":"Can the end tag be implied for this tag?","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#implied_end_tag?"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-implied_start_tag-3F","level":2,"title":"class Nokogiri::HTML4::ElementDescription#implied_start_tag?","text":"Can the start tag be implied for this tag?","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#implied_start_tag?"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-inline-3F","level":2,"title":"class Nokogiri::HTML4::ElementDescription#inline?","text":"Is this element an inline element?","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#inline?"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-inspect","level":2,"title":"class Nokogiri::HTML4::ElementDescription#inspect()","text":"Inspection information","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#inspect()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-name","level":2,"title":"class Nokogiri::HTML4::ElementDescription#name","text":"Get the tag name for thisElementDescription","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#name"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-optional_attributes","level":2,"title":"class Nokogiri::HTML4::ElementDescription#optional_attributes","text":"A list of optional attributes for this element","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#optional_attributes"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-required_attributes","level":2,"title":"class Nokogiri::HTML4::ElementDescription#required_attributes","text":"A list of required attributes for this element","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#required_attributes"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-save_end_tag-3F","level":2,"title":"class Nokogiri::HTML4::ElementDescription#save_end_tag?","text":"Should the end tag be saved?","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#save_end_tag?"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-sub_elements","level":2,"title":"class Nokogiri::HTML4::ElementDescription#sub_elements","text":"A list of allowed sub elements for this element.","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#sub_elements"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/ElementDescription.html#method-i-to_s","level":2,"title":"class Nokogiri::HTML4::ElementDescription#to_s()","text":"Convert this description to a string","path":["class Nokogiri::HTML4::ElementDescription","class Nokogiri::HTML4::ElementDescription#to_s()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/EncodingReader/EncodingFound.html","level":1,"title":"class Nokogiri::HTML4::EncodingReader::EncodingFound","text":"","path":["class Nokogiri::HTML4::EncodingReader::EncodingFound"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/EncodingReader/JumpSAXHandler.html","level":1,"title":"class Nokogiri::HTML4::EncodingReader::JumpSAXHandler","text":"","path":["class Nokogiri::HTML4::EncodingReader::JumpSAXHandler"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/EncodingReader/SAXHandler.html","level":1,"title":"class Nokogiri::HTML4::EncodingReader::SAXHandler","text":"","path":["class Nokogiri::HTML4::EncodingReader::SAXHandler"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/EncodingReader.html","level":1,"title":"class Nokogiri::HTML4::EncodingReader","text":"","path":["class Nokogiri::HTML4::EncodingReader"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/EntityDescription.html","level":1,"title":"class Nokogiri::HTML4::EntityDescription","text":"","path":["class Nokogiri::HTML4::EntityDescription"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/EntityLookup.html","level":1,"title":"class Nokogiri::HTML4::EntityLookup","text":"","path":["class Nokogiri::HTML4::EntityLookup"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/EntityLookup.html#method-i-5B-5D","level":2,"title":"class Nokogiri::HTML4::EntityLookup#[](name)","text":"Look up entity withname","path":["class Nokogiri::HTML4::EntityLookup","class Nokogiri::HTML4::EntityLookup#[](name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/EntityLookup.html#method-i-get","level":2,"title":"class Nokogiri::HTML4::EntityLookup#get(key)","text":"Get theHTML4::EntityDescriptionforkey","path":["class Nokogiri::HTML4::EntityLookup","class Nokogiri::HTML4::EntityLookup#get(key)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/SAX/Parser.html","level":1,"title":"class Nokogiri::HTML4::SAX::Parser","text":"\ud83d\udca1 This class is an alias for Nokogiri::HTML4::SAX::Parser as of v1.12.0. This parser is a SAX style parser that reads its input as it deems necessary. The parser takes a Nokogiri::XML::SAX::Document , an optional encoding, then given an HTML input, sends messages to the Nokogiri::XML::SAX::Document . \u26a0 This is an HTML4 parser and so may not support some HTML5 features and behaviors. Here is a basic usage example: class MyHandler < Nokogiri :: XML :: SAX :: Document def start_element name , attri","path":["class Nokogiri::HTML4::SAX::Parser"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/SAX/ParserContext.html","level":1,"title":"class Nokogiri::HTML4::SAX::ParserContext","text":"\ud83d\udca1 This class is an alias for Nokogiri::HTML4::SAX::ParserContext as of v1.12.0. Context object to invoke the HTML4 SAX parser on the SAX::Document handler. \ud83d\udca1 This class is usually not instantiated by the user. Use Nokogiri::HTML4::SAX::Parser instead.","path":["class Nokogiri::HTML4::SAX::ParserContext"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/SAX/PushParser.html","level":1,"title":"class Nokogiri::HTML4::SAX::PushParser","text":"\ud83d\udca1 This class is an alias for Nokogiri::HTML4::SAX::PushParser as of v1.12.0.","path":["class Nokogiri::HTML4::SAX::PushParser"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4/SAX/PushParser.html#attribute-i-document","level":2,"title":"class Nokogiri::HTML4::SAX::PushParser#document","text":"The Nokogiri::HTML4::SAX::Document on which thePushParserwill be operating","path":["class Nokogiri::HTML4::SAX::PushParser","class Nokogiri::HTML4::SAX::PushParser#document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/SAX/PushParser.html#method-c-new","level":2,"title":"class Nokogiri::HTML4::SAX::PushParser.new(doc = HTML4::SAX::Document.new, file_name = nil, encoding = \"UTF-8\")","text":"","path":["class Nokogiri::HTML4::SAX::PushParser","class Nokogiri::HTML4::SAX::PushParser.new(doc = HTML4::SAX::Document.new, file_name = nil, encoding = \"UTF-8\")"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/SAX/PushParser.html#method-i-3C-3C","level":2,"title":"class Nokogiri::HTML4::SAX::PushParser#<<(chunk, last_chunk = false)","text":"","path":["class Nokogiri::HTML4::SAX::PushParser","class Nokogiri::HTML4::SAX::PushParser#<<(chunk, last_chunk = false)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/SAX/PushParser.html#method-i-finish","level":2,"title":"class Nokogiri::HTML4::SAX::PushParser#finish()","text":"Finish the parsing.  This method is only necessary for Nokogiri::HTML4::SAX::Document#end_document to be called.","path":["class Nokogiri::HTML4::SAX::PushParser","class Nokogiri::HTML4::SAX::PushParser#finish()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/SAX/PushParser.html#method-i-write","level":2,"title":"class Nokogiri::HTML4::SAX::PushParser#write(chunk, last_chunk = false)","text":"Write achunkofHTMLto thePushParser.  Any callback methods that can be called will be called immediately.","path":["class Nokogiri::HTML4::SAX::PushParser","class Nokogiri::HTML4::SAX::PushParser#write(chunk, last_chunk = false)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4/SAX.html","level":1,"title":"module Nokogiri::HTML4::SAX","text":"Nokogiri provides a SAX parser to process HTML4 which will provide HTML recovery (\u201cautocorrection\u201d) features. See Nokogiri::HTML4::SAX::Parser for a basic example of using a SAX parser with HTML . For more information on SAX parsers, see Nokogiri::XML::SAX","path":["module Nokogiri::HTML4::SAX"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4.html","level":1,"title":"module Nokogiri::HTML4","text":"\ud83d\udca1 This module/namespace is an alias for Nokogiri::HTML4 as of v1.12.0. Before v1.12.0, Nokogiri::HTML4 did not exist, and this was the module/namespace for all HTML-related\nclasses. Since v1.12.0 \ud83d\udca1 Before v1.12.0, Nokogiri::HTML4 did not exist, and Nokogiri::HTML was the module/namespace for parsing HTML .","path":["module Nokogiri::HTML4"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML4.html#method-c-fragment","level":2,"title":"module Nokogiri::HTML4.fragment(...)","text":"Convenience method forNokogiri::HTML4::DocumentFragment.parse","path":["module Nokogiri::HTML4","module Nokogiri::HTML4.fragment(...)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML4.html#method-c-parse","level":2,"title":"module Nokogiri::HTML4.parse(...)","text":"Convenience method forNokogiri::HTML4::Document.parse","path":["module Nokogiri::HTML4","module Nokogiri::HTML4.parse(...)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/Builder.html","level":1,"title":"class Nokogiri::HTML5::Builder","text":"Nokogiri HTML5 builder is used for building HTML documents. It is very similar to the Nokogiri::XML::Builder .  In fact, you should go read the documentation for Nokogiri::XML::Builder before reading this documentation. The construction behavior is identical to HTML4::Builder , but HTML5 documents implement the [HTML5 standard\u2019s serialization algorithm]( www.w3.org/TR/2008/WD-html5-20080610/serializing.html ). Synopsis: Create an HTML5 document with a body that has an onload attribute, and a spa","path":["class Nokogiri::HTML5::Builder"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML5/Builder.html#method-i-to_html","level":2,"title":"class Nokogiri::HTML5::Builder#to_html()","text":"Convert the builder toHTML","path":["class Nokogiri::HTML5::Builder","class Nokogiri::HTML5::Builder#to_html()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/Document.html","level":1,"title":"class Nokogiri::HTML5::Document","text":"Since v1.12.0 \ud83d\udca1 HTML5 functionality is not available when running JRuby.","path":["class Nokogiri::HTML5::Document"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML5/Document.html#attribute-i-quirks_mode","level":2,"title":"class Nokogiri::HTML5::Document#quirks_mode","text":"Get the parser\u2019s quirks mode value. SeeHTML5::QuirksMode. This method returnsnilif the parser was not invoked (e.g.,Nokogiri::HTML5::Document.new). Since v1.14.0","path":["class Nokogiri::HTML5::Document","class Nokogiri::HTML5::Document#quirks_mode"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/Document.html#attribute-i-url","level":2,"title":"class Nokogiri::HTML5::Document#url","text":"Get the url name for this document, as passed intoDocument.parse,Document.read_io, orDocument.read_memory","path":["class Nokogiri::HTML5::Document","class Nokogiri::HTML5::Document#url"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/Document.html#method-c-parse","level":2,"title":"class Nokogiri::HTML5::Document.parse(input) { |options| ... } \u2192 HTML5::Document","text":"Parse HTML input with a parser compliant with theHTML5spec. This method uses the encoding ofinputif it can be determined, or else falls back to theencoding:parameter. input(String | IO) the HTML content to be parsed. url:(String) the base URI of the document.","path":["class Nokogiri::HTML5::Document","class Nokogiri::HTML5::Document.parse(input) { |options| ... } \u2192 HTML5::Document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/Document.html#method-c-read_io","level":2,"title":"class Nokogiri::HTML5::Document.read_io(io, url_ = nil, encoding_ = nil, url: url_, encoding: encoding_, **options)","text":"Create a new document from an IO object. \ud83d\udca1 Most users should preferDocument.parseto this method.","path":["class Nokogiri::HTML5::Document","class Nokogiri::HTML5::Document.read_io(io, url_ = nil, encoding_ = nil, url: url_, encoding: encoding_, **options)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/Document.html#method-c-read_memory","level":2,"title":"class Nokogiri::HTML5::Document.read_memory(string, url_ = nil, encoding_ = nil, url: url_, encoding: encoding_, **options)","text":"Create a new document from a String. \ud83d\udca1 Most users should preferDocument.parseto this method.","path":["class Nokogiri::HTML5::Document","class Nokogiri::HTML5::Document.read_memory(string, url_ = nil, encoding_ = nil, url: url_, encoding: encoding_, **options)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/Document.html#method-i-fragment","level":2,"title":"class Nokogiri::HTML5::Document#fragment() \u2192 Nokogiri::HTML5::DocumentFragment","text":"Parse aHTML5document fragment frommarkup, returning aNokogiri::HTML5::DocumentFragment. markup(String) TheHTML5markup fragment to be parsed Nokogiri::HTML5::DocumentFragment. This object\u2019s children will be empty ifmarkupis not passed, is empty, or isnil.","path":["class Nokogiri::HTML5::Document","class Nokogiri::HTML5::Document#fragment() \u2192 Nokogiri::HTML5::DocumentFragment"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/Document.html#method-i-xpath_doctype","level":2,"title":"class Nokogiri::HTML5::Document#xpath_doctype() \u2192 Nokogiri::CSS::XPathVisitor::DoctypeConfig","text":"The document type which determines CSS-to-XPath translation. SeeCSS::XPathVisitorfor more information.","path":["class Nokogiri::HTML5::Document","class Nokogiri::HTML5::Document#xpath_doctype() \u2192 Nokogiri::CSS::XPathVisitor::DoctypeConfig"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/DocumentFragment.html","level":1,"title":"class Nokogiri::HTML5::DocumentFragment","text":"Since v1.12.0 \ud83d\udca1 HTML5 functionality is not available when running JRuby.","path":["class Nokogiri::HTML5::DocumentFragment"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML5/DocumentFragment.html#attribute-i-document","level":2,"title":"class Nokogiri::HTML5::DocumentFragment#document","text":"","path":["class Nokogiri::HTML5::DocumentFragment","class Nokogiri::HTML5::DocumentFragment#document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/DocumentFragment.html#attribute-i-errors","level":2,"title":"class Nokogiri::HTML5::DocumentFragment#errors","text":"","path":["class Nokogiri::HTML5::DocumentFragment","class Nokogiri::HTML5::DocumentFragment#errors"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/DocumentFragment.html#attribute-i-quirks_mode","level":2,"title":"class Nokogiri::HTML5::DocumentFragment#quirks_mode","text":"Get the parser\u2019s quirks mode value. SeeHTML5::QuirksMode. This method returns \u2018nil` if the parser was not invoked (e.g., `Nokogiri::HTML5::DocumentFragment.new(doc)`). Since v1.14.0","path":["class Nokogiri::HTML5::DocumentFragment","class Nokogiri::HTML5::DocumentFragment#quirks_mode"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/DocumentFragment.html#method-c-new","level":2,"title":"class Nokogiri::HTML5::DocumentFragment.new(document, input, **options) \u2192 HTML5::DocumentFragment","text":"Parse HTML5 fragment input from a String, and return a newHTML5::DocumentFragment. \ud83d\udca1 It\u2019s recommended to use eitherHTML5::DocumentFragment.parseorHTML5::Node#fragmentrather than call this method directly. document(HTML5::Document) The parent document to associate the returned fragment with.","path":["class Nokogiri::HTML5::DocumentFragment","class Nokogiri::HTML5::DocumentFragment.new(document, input, **options) \u2192 HTML5::DocumentFragment"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/DocumentFragment.html#method-c-parse","level":2,"title":"class Nokogiri::HTML5::DocumentFragment.parse(input, **options) \u2192 HTML5::DocumentFragment","text":"Parse HTML5 fragment input from a String, and return a newHTML5::DocumentFragment. This method creates a new, emptyHTML5::Documentto contain the fragment. input(String | IO) TheHTML5document fragment to parse. encoding:(String | Encoding) The encoding, or name of the encoding, that should be used wh","path":["class Nokogiri::HTML5::DocumentFragment","class Nokogiri::HTML5::DocumentFragment.parse(input, **options) \u2192 HTML5::DocumentFragment"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/Node.html","level":1,"title":"module Nokogiri::HTML5::Node","text":"Since v1.12.0 \ud83d\udca1 HTML5 functionality is not available when running JRuby.","path":["module Nokogiri::HTML5::Node"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML5/Node.html#method-i-fragment","level":2,"title":"module Nokogiri::HTML5::Node#fragment(tags)","text":"","path":["module Nokogiri::HTML5::Node","module Nokogiri::HTML5::Node#fragment(tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/Node.html#method-i-inner_html","level":2,"title":"module Nokogiri::HTML5::Node#inner_html(options = {})","text":"","path":["module Nokogiri::HTML5::Node","module Nokogiri::HTML5::Node#inner_html(options = {})"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/Node.html#method-i-write_to","level":2,"title":"module Nokogiri::HTML5::Node#write_to(io, *options) { |config| ... }","text":"","path":["module Nokogiri::HTML5::Node","module Nokogiri::HTML5::Node#write_to(io, *options) { |config| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5/QuirksMode.html","level":1,"title":"module Nokogiri::HTML5::QuirksMode","text":"Enum for the HTML5 parser quirks mode values. Values returned by HTML5::Document#quirks_mode See dom.spec.whatwg.org/#concept-document-quirks for more information on HTML5 quirks mode. Since v1.14.0","path":["module Nokogiri::HTML5::QuirksMode"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML5.html","level":1,"title":"module Nokogiri::HTML5","text":"Usage Parse an HTML5 document: doc = Nokogiri . HTML5 ( input ) Parse an HTML5 fragment: fragment = Nokogiri :: HTML5 . fragment ( input ) \u26a0 HTML5 functionality is not available when running JRuby. Parsing options The document and fragment parsing methods support options that are different from Nokogiri::HTML4::Document or Nokogiri::XML::Document . Nokogiri.HTML5(input, url:, encoding:, **parse_options) Nokogiri::HTML5.parse(input, url:, encoding:, **parse_options) Nokogiri::HTML5::Document.pars","path":["module Nokogiri::HTML5"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/HTML5.html#method-c-fragment","level":2,"title":"module Nokogiri::HTML5.fragment(...)","text":"Convenience method forNokogiri::HTML5::DocumentFragment.parse","path":["module Nokogiri::HTML5","module Nokogiri::HTML5.fragment(...)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/HTML5.html#method-c-parse","level":2,"title":"module Nokogiri::HTML5.parse(...)","text":"Convenience method forNokogiri::HTML5::Document.parse","path":["module Nokogiri::HTML5","module Nokogiri::HTML5.parse(...)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/SyntaxError.html","level":1,"title":"class Nokogiri::SyntaxError","text":"","path":["class Nokogiri::SyntaxError"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Attr.html","level":1,"title":"class Nokogiri::XML::Attr","text":"Attr represents a Attr node in an xml document.","path":["class Nokogiri::XML::Attr"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Attr.html#method-c-new","level":2,"title":"class Nokogiri::XML::Attr.new(document, name)","text":"Create a newAttrelement on thedocumentwithname","path":["class Nokogiri::XML::Attr","class Nokogiri::XML::Attr.new(document, name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Attr.html#method-i-content-3D","level":2,"title":"class Nokogiri::XML::Attr#content=","text":"","path":["class Nokogiri::XML::Attr","class Nokogiri::XML::Attr#content="],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Attr.html#method-i-deconstruct_keys","level":2,"title":"class Nokogiri::XML::Attr#deconstruct_keys(array_of_names) \u2192 Hash","text":"Returns a hash describing theAttr, to use in pattern matching. Valid keys and their values: name\u2192 (String) The name of the attribute.","path":["class Nokogiri::XML::Attr","class Nokogiri::XML::Attr#deconstruct_keys(array_of_names) \u2192 Hash"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Attr.html#method-i-value-3D","level":2,"title":"class Nokogiri::XML::Attr#value=(content)","text":"Set the value for thisAttrtocontent. Usenilto remove the value (e.g., aHTMLboolean attribute).","path":["class Nokogiri::XML::Attr","class Nokogiri::XML::Attr#value=(content)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/AttributeDecl.html","level":1,"title":"class Nokogiri::XML::AttributeDecl","text":"Represents an attribute declaration in a DTD","path":["class Nokogiri::XML::AttributeDecl"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/AttributeDecl.html#method-i-attribute_type","level":2,"title":"class Nokogiri::XML::AttributeDecl#attribute_type","text":"Theattribute_typefor thisAttributeDecl","path":["class Nokogiri::XML::AttributeDecl","class Nokogiri::XML::AttributeDecl#attribute_type"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/AttributeDecl.html#method-i-default","level":2,"title":"class Nokogiri::XML::AttributeDecl#default","text":"The default value","path":["class Nokogiri::XML::AttributeDecl","class Nokogiri::XML::AttributeDecl#default"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/AttributeDecl.html#method-i-enumeration","level":2,"title":"class Nokogiri::XML::AttributeDecl#enumeration","text":"An enumeration of possible values","path":["class Nokogiri::XML::AttributeDecl","class Nokogiri::XML::AttributeDecl#enumeration"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Builder.html","level":1,"title":"class Nokogiri::XML::Builder","text":"Nokogiri builder can be used for building XML and HTML documents. Synopsis: builder = Nokogiri :: XML :: Builder . new do | xml | xml . root { xml . products { xml . widget { xml . id_ \"10\" xml . name \"Awesome widget\" }\n    }\n  } end puts builder . to_xml Will output: <?xml version=\"1.0\"?>\n<root>\n  <products>\n    <widget>\n      <id>10</id>\n      <name>Awesome widget</name>\n    </widget>\n  </products>\n</root> Builder scope The builder allows two forms.  When the builder is supplied with a block t","path":["class Nokogiri::XML::Builder"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Builder.html#attribute-i-context","level":2,"title":"class Nokogiri::XML::Builder#context","text":"A context object for use when the block has no arguments","path":["class Nokogiri::XML::Builder","class Nokogiri::XML::Builder#context"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Builder.html#attribute-i-doc","level":2,"title":"class Nokogiri::XML::Builder#doc","text":"The currentDocumentobject being built","path":["class Nokogiri::XML::Builder","class Nokogiri::XML::Builder#doc"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Builder.html#attribute-i-parent","level":2,"title":"class Nokogiri::XML::Builder#parent","text":"The parent of the current node being built","path":["class Nokogiri::XML::Builder","class Nokogiri::XML::Builder#parent"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Builder.html#method-c-new","level":2,"title":"class Nokogiri::XML::Builder.new(options = {}, root = nil) { |self| ... }","text":"Create a newBuilderobject.optionsare sent to the top levelDocumentthat is being built. Building a document with a particular encoding for example:","path":["class Nokogiri::XML::Builder","class Nokogiri::XML::Builder.new(options = {}, root = nil) { |self| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Builder.html#method-c-with","level":2,"title":"class Nokogiri::XML::Builder.with(root, &block)","text":"Create a builder with an existing root object.  This is for use when you have an existing document that you would like to augment with builder methods.  The builder context created will start with the givenrootnode. For example:","path":["class Nokogiri::XML::Builder","class Nokogiri::XML::Builder.with(root, &block)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Builder.html#method-i-3C-3C","level":2,"title":"class Nokogiri::XML::Builder#<<(string)","text":"Append the given rawXMLstringto the document","path":["class Nokogiri::XML::Builder","class Nokogiri::XML::Builder#<<(string)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Builder.html#method-i-5B-5D","level":2,"title":"class Nokogiri::XML::Builder#[](ns)","text":"Build a tag that is associated with namespacens.  Raises an ArgumentError ifnshas not been defined higher in the tree.","path":["class Nokogiri::XML::Builder","class Nokogiri::XML::Builder#[](ns)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Builder.html#method-i-cdata","level":2,"title":"class Nokogiri::XML::Builder#cdata(string)","text":"Create aCDATANodewith content ofstring","path":["class Nokogiri::XML::Builder","class Nokogiri::XML::Builder#cdata(string)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Builder.html#method-i-comment","level":2,"title":"class Nokogiri::XML::Builder#comment(string)","text":"Create aCommentNodewith content ofstring","path":["class Nokogiri::XML::Builder","class Nokogiri::XML::Builder#comment(string)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Builder.html#method-i-related_class","level":2,"title":"class Nokogiri::XML::Builder#related_class(class_name) \u2192 Class","text":"Find a class constant within the Some examples: Note this will also work for subclasses that follow the same convention, e.g.:","path":["class Nokogiri::XML::Builder","class Nokogiri::XML::Builder#related_class(class_name) \u2192 Class"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Builder.html#method-i-text","level":2,"title":"class Nokogiri::XML::Builder#text(string)","text":"Create aTextNodewith content ofstring","path":["class Nokogiri::XML::Builder","class Nokogiri::XML::Builder#text(string)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Builder.html#method-i-to_xml","level":2,"title":"class Nokogiri::XML::Builder#to_xml(*args)","text":"Convert thisBuilderobject toXML","path":["class Nokogiri::XML::Builder","class Nokogiri::XML::Builder#to_xml(*args)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/CDATA.html","level":1,"title":"class Nokogiri::XML::CDATA","text":"CData represents a CData node in an xml document.","path":["class Nokogiri::XML::CDATA"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/CDATA.html#method-c-new","level":2,"title":"class Nokogiri::XML::CDATA.new(document, content)","text":"Create a newCDATAelement on thedocumentwithcontent Ifcontentcannot be implicitly converted to a string, this method will raise a TypeError exception.","path":["class Nokogiri::XML::CDATA","class Nokogiri::XML::CDATA.new(document, content)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/CDATA.html#method-i-name","level":2,"title":"class Nokogiri::XML::CDATA#name()","text":"Get the name of thisCDATAnode","path":["class Nokogiri::XML::CDATA","class Nokogiri::XML::CDATA#name()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/CharacterData.html","level":1,"title":"class Nokogiri::XML::CharacterData","text":"","path":["class Nokogiri::XML::CharacterData"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Comment.html","level":1,"title":"class Nokogiri::XML::Comment","text":"Comment represents a comment node in an xml document.","path":["class Nokogiri::XML::Comment"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Comment.html#method-c-new","level":2,"title":"class Nokogiri::XML::Comment.new(document_or_node, content)","text":"Create a newCommentelement on thedocumentwithcontent. Alternatively, if anodeis passed, thenode\u2018s document is used.","path":["class Nokogiri::XML::Comment","class Nokogiri::XML::Comment.new(document_or_node, content)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DTD.html","level":1,"title":"class Nokogiri::XML::DTD","text":"Nokogiri::XML::DTD wraps DTD nodes in an XML document","path":["class Nokogiri::XML::DTD"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/DTD.html#method-i-attributes","level":2,"title":"class Nokogiri::XML::DTD#attributes","text":"Get a hash of the attributes for thisDTD.","path":["class Nokogiri::XML::DTD","class Nokogiri::XML::DTD#attributes"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DTD.html#method-i-each","level":2,"title":"class Nokogiri::XML::DTD#each() { |key, value| ... }","text":"","path":["class Nokogiri::XML::DTD","class Nokogiri::XML::DTD#each() { |key, value| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DTD.html#method-i-elements","level":2,"title":"class Nokogiri::XML::DTD#elements","text":"Get a hash of the elements for thisDTD.","path":["class Nokogiri::XML::DTD","class Nokogiri::XML::DTD#elements"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DTD.html#method-i-entities","level":2,"title":"class Nokogiri::XML::DTD#entities","text":"Get a hash of the elements for thisDTD.","path":["class Nokogiri::XML::DTD","class Nokogiri::XML::DTD#entities"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DTD.html#method-i-external_id","level":2,"title":"class Nokogiri::XML::DTD#external_id","text":"Get the External ID for thisDTD","path":["class Nokogiri::XML::DTD","class Nokogiri::XML::DTD#external_id"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DTD.html#method-i-html5_dtd-3F","level":2,"title":"class Nokogiri::XML::DTD#html5_dtd?()","text":"","path":["class Nokogiri::XML::DTD","class Nokogiri::XML::DTD#html5_dtd?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DTD.html#method-i-html_dtd-3F","level":2,"title":"class Nokogiri::XML::DTD#html_dtd?()","text":"","path":["class Nokogiri::XML::DTD","class Nokogiri::XML::DTD#html_dtd?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DTD.html#method-i-keys","level":2,"title":"class Nokogiri::XML::DTD#keys()","text":"","path":["class Nokogiri::XML::DTD","class Nokogiri::XML::DTD#keys()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DTD.html#method-i-notations","level":2,"title":"class Nokogiri::XML::DTD#notations() \u2192 Hash<name(String)\u21d2Notation>","text":"All the notations for thisDTDin a Hash ofNotationnametoNotation.","path":["class Nokogiri::XML::DTD","class Nokogiri::XML::DTD#notations() \u2192 Hash<name(String)\u21d2Notation>"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DTD.html#method-i-system_id","level":2,"title":"class Nokogiri::XML::DTD#system_id","text":"Get the System ID for thisDTD","path":["class Nokogiri::XML::DTD","class Nokogiri::XML::DTD#system_id"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DTD.html#method-i-validate","level":2,"title":"class Nokogiri::XML::DTD#validate(document)","text":"Validatedocumentreturning a list of errors","path":["class Nokogiri::XML::DTD","class Nokogiri::XML::DTD#validate(document)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html","level":1,"title":"class Nokogiri::XML::Document","text":"Nokogiri::XML::Document is the main entry point for dealing with XML documents. The Document is created by parsing XML content from a String or an IO object. See Nokogiri::XML::Document.parse for more information on parsing. Document inherits a great deal of functionality from its superclass Nokogiri::XML::Node , so please read that class\u2019s documentation as well.","path":["class Nokogiri::XML::Document"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Document.html#attribute-i-errors","level":2,"title":"class Nokogiri::XML::Document#errors","text":"The errors found while parsing a document. Array<Nokogiri::XML::SyntaxError>","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#errors"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#attribute-i-namespace_inheritance","level":2,"title":"class Nokogiri::XML::Document#namespace_inheritance","text":"When \u2018true`, reparented elements without a namespace will inherit their new parent\u2019s namespace (if one exists). Defaults to \u2018false`. Boolean Example:Default behavior of namespace inheritance","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#namespace_inheritance"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-c-new","level":2,"title":"class Nokogiri::XML::Document.new(version = \"1.0\")","text":"Create a new empty document declaringXMLversionversion.","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document.new(version = \"1.0\")"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-c-parse","level":2,"title":"class Nokogiri::XML::Document.parse(input) { |options| ... } \u2192 Nokogiri::XML::Document","text":"Parse XML input from a String or IO object, and return a newXML::Document. \ud83d\udee1 By default,Nokogiritreats documents as untrusted, and so does not attempt to load DTDs or access the network. SeeNokogiri::XML::ParseOptionsfor a complete list of options; and that module\u2019s DEFAULT_XML constant for what\u2019s s","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document.parse(input) { |options| ... } \u2192 Nokogiri::XML::Document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-c-read_io","level":2,"title":"class Nokogiri::XML::Document.read_io(io, url, encoding, options)","text":"Create a new document from an IO object","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document.read_io(io, url, encoding, options)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-c-read_memory","level":2,"title":"class Nokogiri::XML::Document.read_memory(string, url, encoding, options)","text":"Create a new document from a String","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document.read_memory(string, url, encoding, options)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-c-wrap","level":2,"title":"class Nokogiri::XML::Document.wrap(java_document) \u2192 Nokogiri::XML::Document","text":"\u26a0 This method is only available when running JRuby. Create aDocumentusing an existing Java DOM document object. The returnedDocumentshares the same underlying data structure as the Java object, so changes in one are reflected in the other.","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document.wrap(java_document) \u2192 Nokogiri::XML::Document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-3C-3C","level":2,"title":"class Nokogiri::XML::Document#<<(node_or_tags)","text":"","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#<<(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-add_child","level":2,"title":"class Nokogiri::XML::Document#add_child(node_or_tags)","text":"","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#add_child(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-canonicalize","level":2,"title":"class Nokogiri::XML::Document#canonicalize(mode=XML_C14N_1_0,inclusive_namespaces=nil,with_comments=false)","text":"Canonicalize a document and return the results.  Takes an optional block that takes two parameters: theobjand that node\u2019sparent. Theobjwill be either aNokogiri::XML::Node, or aNokogiri::XML::NamespaceThe block must return a non-nil, non-false value if theobjpassed in should be included in the canoni","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#canonicalize(mode=XML_C14N_1_0,inclusive_namespaces=nil,with_comments=false)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-clone","level":2,"title":"class Nokogiri::XML::Document#clone \u2192 Nokogiri::XML::Document","text":"Clone this node. level(optional Integer). 0 is a shallow copy, 1 (the default) is a deep copy. The newNokogiri::XML::Document","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#clone \u2192 Nokogiri::XML::Document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-collect_namespaces","level":2,"title":"class Nokogiri::XML::Document#collect_namespaces() \u2192 Hash<String(Namespace#prefix) \u21d2 String(Namespace#href)>","text":"Recursively get all namespaces from this node and its subtree and return them as a hash. \u26a0 This method will not handle duplicate namespace prefixes, since the return value is a hash. Note that this method does an xpath lookup for nodes with namespaces, and as a result the order (and which duplicate ","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#collect_namespaces() \u2192 Hash<String(Namespace#prefix) \u21d2 String(Namespace#href)>"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-create_cdata","level":2,"title":"class Nokogiri::XML::Document#create_cdata(string, &block)","text":"Create aCDATANodecontainingstring","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#create_cdata(string, &block)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-create_comment","level":2,"title":"class Nokogiri::XML::Document#create_comment(string, &block)","text":"Create aCommentNodecontainingstring","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#create_comment(string, &block)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-create_element","level":2,"title":"class Nokogiri::XML::Document#create_element(name, *contents_or_attrs, &block) \u2192 Nokogiri::XML::Element","text":"Create a newElementwith \u2018name` belonging to this document, optionally setting contents or attributes. This method isnotthe most user-friendly option if your intention is to add a node to the document tree. Prefer one of theNokogiri::XML::Nodemethods likeNode#add_child,Node#add_next_sibling,Node#repl","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#create_element(name, *contents_or_attrs, &block) \u2192 Nokogiri::XML::Element"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-create_entity","level":2,"title":"class Nokogiri::XML::Document#create_entity(name, type, external_id, system_id, content)","text":"Create a new entity namedname. typeis an integer representing the type of entity to be created, and it defaults toNokogiri::XML::EntityDecl::INTERNAL_GENERAL. See the constants onNokogiri::XML::EntityDeclfor more information. external_id,system_id, andcontentset the External ID, System ID, and conte","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#create_entity(name, type, external_id, system_id, content)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-create_text_node","level":2,"title":"class Nokogiri::XML::Document#create_text_node(string, &block)","text":"Create aTextNodewithstring","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#create_text_node(string, &block)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-deconstruct_keys","level":2,"title":"class Nokogiri::XML::Document#deconstruct_keys(array_of_names) \u2192 Hash","text":"Returns a hash describing theDocument, to use in pattern matching. Valid keys and their values: root\u2192 (Node, nil) The root node of theDocument, ornilif the document is empty.","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#deconstruct_keys(array_of_names) \u2192 Hash"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-decorate","level":2,"title":"class Nokogiri::XML::Document#decorate(node)","text":"Apply any decorators tonode","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#decorate(node)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-decorators","level":2,"title":"class Nokogiri::XML::Document#decorators(key)","text":"Get the list of decorators givenkey","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#decorators(key)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-document","level":2,"title":"class Nokogiri::XML::Document#document()","text":"A reference toself","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#document()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-dup","level":2,"title":"class Nokogiri::XML::Document#dup \u2192 Nokogiri::XML::Document","text":"Duplicate this node. level(optional Integer). 0 is a shallow copy, 1 (the default) is a deep copy. The newNokogiri::XML::Document","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#dup \u2192 Nokogiri::XML::Document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-encoding","level":2,"title":"class Nokogiri::XML::Document#encoding","text":"Get the encoding for thisDocument","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#encoding"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-encoding-3D","level":2,"title":"class Nokogiri::XML::Document#encoding= encoding","text":"Set the encoding string for thisDocument","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#encoding= encoding"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-fragment","level":2,"title":"class Nokogiri::XML::Document#fragment(tags = nil)","text":"Create aNokogiri::XML::DocumentFragmentfromtagsReturns an empty fragment iftagsis nil.","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#fragment(tags = nil)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-name","level":2,"title":"class Nokogiri::XML::Document#name()","text":"The name of this document.  Always returns \u201cdocument\u201d","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#name()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-namespaces","level":2,"title":"class Nokogiri::XML::Document#namespaces()","text":"Get the hash of namespaces on the rootNokogiri::XML::Node","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#namespaces()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-remove_namespaces-21","level":2,"title":"class Nokogiri::XML::Document#remove_namespaces!","text":"Remove all namespaces from all nodes in the document. This could be useful for developers who either don\u2019t understand namespaces or don\u2019t care about them. The following example shows a use case, and you can decide for yourself whether this is a good thing or not:","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#remove_namespaces!"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-root","level":2,"title":"class Nokogiri::XML::Document#root","text":"Get the root node for this document.","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#root"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-root-3D","level":2,"title":"class Nokogiri::XML::Document#root=","text":"Set the root element on this document","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#root="],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-slop-21","level":2,"title":"class Nokogiri::XML::Document#slop!()","text":"Explore a document with shortcut methods. SeeNokogiri::Slopfor details. Note that any nodes that have been instantiated before#slop!is called will not be decorated with sloppy behavior. So, if you\u2019re in irb, the preferred idiom is: and not","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#slop!()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-to_java","level":2,"title":"class Nokogiri::XML::Document#to_java() \u2192 Java::OrgW3cDom::Document","text":"\u26a0 This method is only available when running JRuby. Returns the underlying Java DOM document object for this document. The returned Java object shares the same underlying data structure as this document, so changes in one are reflected in the other.","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#to_java() \u2192 Java::OrgW3cDom::Document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-url","level":2,"title":"class Nokogiri::XML::Document#url","text":"Get the url name for this document.","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#url"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-validate","level":2,"title":"class Nokogiri::XML::Document#validate()","text":"Validate thisDocumentagainst itsDTD.  Returns a list of errors on the document ornilwhen there is noDTD.","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#validate()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-version","level":2,"title":"class Nokogiri::XML::Document#version","text":"Get theXMLversion for thisDocument","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#version"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Document.html#method-i-xpath_doctype","level":2,"title":"class Nokogiri::XML::Document#xpath_doctype() \u2192 Nokogiri::CSS::XPathVisitor::DoctypeConfig","text":"The document type which determines CSS-to-XPath translation. See XPathVisitor for more information.","path":["class Nokogiri::XML::Document","class Nokogiri::XML::Document#xpath_doctype() \u2192 Nokogiri::CSS::XPathVisitor::DoctypeConfig"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html","level":1,"title":"class Nokogiri::XML::DocumentFragment","text":"DocumentFragment represents a fragment of an XML document. It provides the same functionality exposed by XML::Node and can be used to contain one or more XML subtrees.","path":["class Nokogiri::XML::DocumentFragment"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#attribute-i-parse_options","level":2,"title":"class Nokogiri::XML::DocumentFragment#parse_options","text":"The options used to parse the document fragment. Returns the value of any options that were passed into the constructor as a parameter or set in a config block, else the default options for the specific subclass.","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment#parse_options"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-c-new","level":2,"title":"class Nokogiri::XML::DocumentFragment.new(document, input=nil) { |options| ... } \u2192 DocumentFragment","text":"Parse XML fragment input from a String, and return a newDocumentFragmentthat is associated with the givendocument. \ud83d\udca1 It\u2019s recommended to use eitherXML::DocumentFragment.parseorNode#parserather than call this method directly. document(XML::Document) The parent document to associate the returned fragm","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment.new(document, input=nil) { |options| ... } \u2192 DocumentFragment"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-c-parse","level":2,"title":"class Nokogiri::XML::DocumentFragment.parse(input) { |options| ... } \u2192 XML::DocumentFragment","text":"Parse XML fragment input from a String, and return a newXML::DocumentFragment. This method creates a new, emptyXML::Documentto contain the fragment. input(String) The content to be parsed. options(Nokogiri::XML::ParseOptions) Configuration object that determines some behaviors during parsing. SeePar","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment.parse(input) { |options| ... } \u2192 XML::DocumentFragment"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-i-css","level":2,"title":"class Nokogiri::XML::DocumentFragment#css *rules, [namespace-bindings, custom-pseudo-class]","text":"Search this fragment forCSSrules.rulesmust be one or moreCSSselectors. For example: For more information seeNokogiri::XML::Searchable#css","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment#css *rules, [namespace-bindings, custom-pseudo-class]"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-i-deconstruct","level":2,"title":"class Nokogiri::XML::DocumentFragment#deconstruct() \u2192 Array","text":"Returns the root nodes of this document fragment as an array, to use in pattern matching. \ud83d\udca1 Note that text nodes are returned as well as elements. If you wish to operate only on root elements, you should deconstruct the array returned byDocumentFragment#elements. Example","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment#deconstruct() \u2192 Array"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-i-dup","level":2,"title":"class Nokogiri::XML::DocumentFragment#dup()","text":"","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment#dup()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-i-errors","level":2,"title":"class Nokogiri::XML::DocumentFragment#errors()","text":"A list ofNokogiri::XML::SyntaxErrorfound when parsing a document","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment#errors()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-i-fragment","level":2,"title":"class Nokogiri::XML::DocumentFragment#fragment(data)","text":"","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment#fragment(data)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-i-name","level":2,"title":"class Nokogiri::XML::DocumentFragment#name()","text":"return the name forDocumentFragment","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment#name()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-i-search","level":2,"title":"class Nokogiri::XML::DocumentFragment#search *paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class]","text":"Search this fragment forpaths.pathsmust be one or moreXPathorCSSqueries. For more information seeNokogiri::XML::Searchable#search","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment#search *paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class]"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-i-serialize","level":2,"title":"class Nokogiri::XML::DocumentFragment#serialize()","text":"","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment#serialize()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-i-to_html","level":2,"title":"class Nokogiri::XML::DocumentFragment#to_html(*args)","text":"Convert thisDocumentFragmentto html SeeNokogiri::XML::NodeSet#to_html","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment#to_html(*args)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-i-to_s","level":2,"title":"class Nokogiri::XML::DocumentFragment#to_s()","text":"Convert thisDocumentFragmentto a string","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment#to_s()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-i-to_xhtml","level":2,"title":"class Nokogiri::XML::DocumentFragment#to_xhtml(*args)","text":"Convert thisDocumentFragmentto xhtml SeeNokogiri::XML::NodeSet#to_xhtml","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment#to_xhtml(*args)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/DocumentFragment.html#method-i-to_xml","level":2,"title":"class Nokogiri::XML::DocumentFragment#to_xml(*args)","text":"Convert thisDocumentFragmentto xml SeeNokogiri::XML::NodeSet#to_xml","path":["class Nokogiri::XML::DocumentFragment","class Nokogiri::XML::DocumentFragment#to_xml(*args)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Element.html","level":1,"title":"class Nokogiri::XML::Element","text":"","path":["class Nokogiri::XML::Element"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/ElementContent.html","level":1,"title":"class Nokogiri::XML::ElementContent","text":"Represents the allowed content in an Element Declaration inside a DTD: <?xml version=\"1.0\"?><?TEST-STYLE PIDATA?>\n<!DOCTYPE staff SYSTEM \"staff.dtd\" [\n   <!ELEMENT div1 (head, (p | list | note)*, div2*)>\n]>\n</root> ElementContent represents the binary tree inside the <!ELEMENT> tag shown above that lists the possible content for the div1 tag.","path":["class Nokogiri::XML::ElementContent"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/ElementContent.html#attribute-i-document","level":2,"title":"class Nokogiri::XML::ElementContent#document","text":"","path":["class Nokogiri::XML::ElementContent","class Nokogiri::XML::ElementContent#document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ElementContent.html#method-i-children","level":2,"title":"class Nokogiri::XML::ElementContent#children()","text":"Get the children of thisElementContentnode","path":["class Nokogiri::XML::ElementContent","class Nokogiri::XML::ElementContent#children()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ElementContent.html#method-i-name","level":2,"title":"class Nokogiri::XML::ElementContent#name \u2192 String","text":"The content element\u2019sname","path":["class Nokogiri::XML::ElementContent","class Nokogiri::XML::ElementContent#name \u2192 String"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ElementContent.html#method-i-occur","level":2,"title":"class Nokogiri::XML::ElementContent#occur \u2192 Integer","text":"The content element\u2019soccurflag. Possible values areONCE,OPT,MULTorPLUS.","path":["class Nokogiri::XML::ElementContent","class Nokogiri::XML::ElementContent#occur \u2192 Integer"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ElementContent.html#method-i-prefix","level":2,"title":"class Nokogiri::XML::ElementContent#prefix \u2192 String","text":"The content element\u2019s namespaceprefix.","path":["class Nokogiri::XML::ElementContent","class Nokogiri::XML::ElementContent#prefix \u2192 String"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ElementContent.html#method-i-type","level":2,"title":"class Nokogiri::XML::ElementContent#type \u2192 Integer","text":"The content element\u2019stype. Possible values arePCDATA,ELEMENT,SEQ, orOR.","path":["class Nokogiri::XML::ElementContent","class Nokogiri::XML::ElementContent#type \u2192 Integer"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ElementDecl.html","level":1,"title":"class Nokogiri::XML::ElementDecl","text":"","path":["class Nokogiri::XML::ElementDecl"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/ElementDecl.html#method-i-content","level":2,"title":"class Nokogiri::XML::ElementDecl#content \u2192 Nokogiri::XML::ElementContent","text":"The root of this element declaration\u2019s content tree.","path":["class Nokogiri::XML::ElementDecl","class Nokogiri::XML::ElementDecl#content \u2192 Nokogiri::XML::ElementContent"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ElementDecl.html#method-i-element_type","level":2,"title":"class Nokogiri::XML::ElementDecl#element_type \u2192 Integer","text":"Theelement_type","path":["class Nokogiri::XML::ElementDecl","class Nokogiri::XML::ElementDecl#element_type \u2192 Integer"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ElementDecl.html#method-i-prefix","level":2,"title":"class Nokogiri::XML::ElementDecl#prefix \u2192 String","text":"The namespaceprefixfor this element declaration.","path":["class Nokogiri::XML::ElementDecl","class Nokogiri::XML::ElementDecl#prefix \u2192 String"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/EntityDecl.html","level":1,"title":"class Nokogiri::XML::EntityDecl","text":"","path":["class Nokogiri::XML::EntityDecl"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/EntityDecl.html#method-c-new","level":2,"title":"class Nokogiri::XML::EntityDecl.new(name, doc, *args)","text":"","path":["class Nokogiri::XML::EntityDecl","class Nokogiri::XML::EntityDecl.new(name, doc, *args)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/EntityDecl.html#method-i-content","level":2,"title":"class Nokogiri::XML::EntityDecl#content","text":"Get the content","path":["class Nokogiri::XML::EntityDecl","class Nokogiri::XML::EntityDecl#content"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/EntityDecl.html#method-i-entity_type","level":2,"title":"class Nokogiri::XML::EntityDecl#entity_type","text":"Get the entity type","path":["class Nokogiri::XML::EntityDecl","class Nokogiri::XML::EntityDecl#entity_type"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/EntityDecl.html#method-i-external_id","level":2,"title":"class Nokogiri::XML::EntityDecl#external_id","text":"Get the external identifier for PUBLIC","path":["class Nokogiri::XML::EntityDecl","class Nokogiri::XML::EntityDecl#external_id"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/EntityDecl.html#method-i-original_content","level":2,"title":"class Nokogiri::XML::EntityDecl#original_content","text":"Get theoriginal_contentbefore ref substitution","path":["class Nokogiri::XML::EntityDecl","class Nokogiri::XML::EntityDecl#original_content"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/EntityDecl.html#method-i-system_id","level":2,"title":"class Nokogiri::XML::EntityDecl#system_id","text":"Get the URI for a SYSTEM or PUBLIC Entity","path":["class Nokogiri::XML::EntityDecl","class Nokogiri::XML::EntityDecl#system_id"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/EntityReference.html","level":1,"title":"class Nokogiri::XML::EntityReference","text":"EntityReference represents an EntityReference node in an xml document.","path":["class Nokogiri::XML::EntityReference"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/EntityReference.html#method-c-new","level":2,"title":"class Nokogiri::XML::EntityReference.new(document, content)","text":"Create a newEntityReferenceelement on thedocumentwithname","path":["class Nokogiri::XML::EntityReference","class Nokogiri::XML::EntityReference.new(document, content)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/EntityReference.html#method-i-children","level":2,"title":"class Nokogiri::XML::EntityReference#children()","text":"","path":["class Nokogiri::XML::EntityReference","class Nokogiri::XML::EntityReference#children()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/EntityReference.html#method-i-inspect_attributes","level":2,"title":"class Nokogiri::XML::EntityReference#inspect_attributes()","text":"","path":["class Nokogiri::XML::EntityReference","class Nokogiri::XML::EntityReference#inspect_attributes()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Namespace.html","level":1,"title":"class Nokogiri::XML::Namespace","text":"","path":["class Nokogiri::XML::Namespace"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Namespace.html#attribute-i-document","level":2,"title":"class Nokogiri::XML::Namespace#document","text":"","path":["class Nokogiri::XML::Namespace","class Nokogiri::XML::Namespace#document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Namespace.html#method-i-deconstruct_keys","level":2,"title":"class Nokogiri::XML::Namespace#deconstruct_keys(array_of_names) \u2192 Hash","text":"Returns a hash describing theNamespace, to use in pattern matching. Valid keys and their values: prefix\u2192 (String, nil) The namespace\u2019s prefix, ornilif there is no prefix (e.g., default namespace).","path":["class Nokogiri::XML::Namespace","class Nokogiri::XML::Namespace#deconstruct_keys(array_of_names) \u2192 Hash"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Namespace.html#method-i-href","level":2,"title":"class Nokogiri::XML::Namespace#href() \u2192 String","text":"Returns the URI reference for thisNamespace. Example","path":["class Nokogiri::XML::Namespace","class Nokogiri::XML::Namespace#href() \u2192 String"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Namespace.html#method-i-prefix","level":2,"title":"class Nokogiri::XML::Namespace#prefix() \u2192 String or nil","text":"Return the prefix for thisNamespace, ornilif there is no prefix (e.g., default namespace). Example","path":["class Nokogiri::XML::Namespace","class Nokogiri::XML::Namespace#prefix() \u2192 String or nil"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node/SaveOptions.html","level":1,"title":"class Nokogiri::XML::Node::SaveOptions","text":"Save options for serializing nodes. See the method group entitled Serialization and Generating Output at Node for usage.","path":["class Nokogiri::XML::Node::SaveOptions"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Node/SaveOptions.html#attribute-i-options","level":2,"title":"class Nokogiri::XML::Node::SaveOptions#options","text":"Integer representation of theSaveOptions","path":["class Nokogiri::XML::Node::SaveOptions","class Nokogiri::XML::Node::SaveOptions#options"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node/SaveOptions.html#attribute-i-to_i","level":2,"title":"class Nokogiri::XML::Node::SaveOptions#to_i","text":"Integer representation of theSaveOptions","path":["class Nokogiri::XML::Node::SaveOptions","class Nokogiri::XML::Node::SaveOptions#to_i"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node/SaveOptions.html#method-c-new","level":2,"title":"class Nokogiri::XML::Node::SaveOptions.new(options = 0)","text":"Create a newSaveOptionsobject withoptions","path":["class Nokogiri::XML::Node::SaveOptions","class Nokogiri::XML::Node::SaveOptions.new(options = 0)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node/SaveOptions.html#method-i-inspect","level":2,"title":"class Nokogiri::XML::Node::SaveOptions#inspect()","text":"","path":["class Nokogiri::XML::Node::SaveOptions","class Nokogiri::XML::Node::SaveOptions#inspect()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html","level":1,"title":"class Nokogiri::XML::Node","text":"Nokogiri::XML::Node is the primary API you\u2019ll use to interact with your Document . Attributes A Nokogiri::XML::Node may be treated similarly to a hash with regard to attributes. For example: node = Nokogiri :: XML :: DocumentFragment . parse ( \"<a href='#foo' id='link'>link</a>\" ). at_css ( \"a\" ) node . to_html # => \"<a href=\\\"#foo\\\" id=\\\"link\\\">link</a>\" node [ 'href' ] # => \"#foo\" node . keys # => [\"href\", \"id\"] node . values # => [\"#foo\", \"link\"] node [ 'class' ] = 'green' # => \"green\" node .","path":["class Nokogiri::XML::Node"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-c-new","level":2,"title":"class Nokogiri::XML::Node.new(name, document) \u2192 Nokogiri::XML::Node","text":"Create a new node withnamethat belongs todocument. If you intend to add a node to a document tree, it\u2019s likely that you will prefer one of theNokogiri::XML::Nodemethods like#add_child,#add_next_sibling,#replace, etc. which will both create an element (or subtree) and place it in the document tree. A","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node.new(name, document) \u2192 Nokogiri::XML::Node"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-3C-3D-3E","level":2,"title":"class Nokogiri::XML::Node#<=>(other)","text":"Compare twoNodeobjects with respect to theirDocument.  Nodes from different documents cannot be compared.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#<=>(other)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-3D-3D","level":2,"title":"class Nokogiri::XML::Node#==(other)","text":"Test to see if thisNodeis equal toother","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#==(other)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-accept","level":2,"title":"class Nokogiri::XML::Node#accept(visitor)","text":"Accept a visitor.  This method calls \u201cvisit\u201d onvisitorwith self.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#accept(visitor)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-ancestors","level":2,"title":"class Nokogiri::XML::Node#ancestors(selector = nil)","text":"Get a list of ancestorNodefor thisNode.  Ifselectoris given, the ancestors must matchselector","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#ancestors(selector = nil)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-blank-3F","level":2,"title":"class Nokogiri::XML::Node#blank? \u2192 Boolean","text":"trueif the node is an empty or whitespace-only text or cdata node, elsefalse. Example:","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#blank? \u2192 Boolean"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-cdata-3F","level":2,"title":"class Nokogiri::XML::Node#cdata?()","text":"Returns true if this is aCDATA","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#cdata?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-clone","level":2,"title":"class Nokogiri::XML::Node#clone \u2192 Nokogiri::XML::Node","text":"Clone this node. level(optional Integer). 0 is a shallow copy, 1 (the default) is a deep copy. new_parent_docThe new node\u2019s parentDocument. Defaults to the theDocumentof the current node.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#clone \u2192 Nokogiri::XML::Node"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-comment-3F","level":2,"title":"class Nokogiri::XML::Node#comment?()","text":"Returns true if this is aComment","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#comment?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-content","level":2,"title":"class Nokogiri::XML::Node#content() \u2192 String","text":"Contents of all the text nodes in this node\u2019s subtree, concatenated together into a single String. \u26a0 Note that entities willalwaysbe expanded in the returned String. See related:#inner_html","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#content() \u2192 String"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-create_external_subset","level":2,"title":"class Nokogiri::XML::Node#create_external_subset(name, external_id, system_id)","text":"Create an external subset","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#create_external_subset(name, external_id, system_id)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-create_internal_subset","level":2,"title":"class Nokogiri::XML::Node#create_internal_subset(name, external_id, system_id)","text":"Create the internal subset of a document.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#create_internal_subset(name, external_id, system_id)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-css_path","level":2,"title":"class Nokogiri::XML::Node#css_path()","text":"Get the path to this node as aCSSexpression","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#css_path()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-decorate-21","level":2,"title":"class Nokogiri::XML::Node#decorate!()","text":"Decorate this node with the decorators set up in this node\u2019sDocument","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#decorate!()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-description","level":2,"title":"class Nokogiri::XML::Node#description()","text":"Fetch theNokogiri::HTML4::ElementDescriptionfor this node.  Returns nil onXMLdocuments and on unknown tags.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#description()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-document-3F","level":2,"title":"class Nokogiri::XML::Node#document?()","text":"Returns true if this is aDocument","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#document?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-dup","level":2,"title":"class Nokogiri::XML::Node#dup \u2192 Nokogiri::XML::Node","text":"Duplicate this node. level(optional Integer). 0 is a shallow copy, 1 (the default) is a deep copy. new_parent_doc(optionalNokogiri::XML::Document) The new node\u2019s parentDocument. Defaults to the theDocumentof the current node.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#dup \u2192 Nokogiri::XML::Node"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-elem-3F","level":2,"title":"class Nokogiri::XML::Node#elem?()","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#elem?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-element-3F","level":2,"title":"class Nokogiri::XML::Node#element?()","text":"Returns true if this is anElementnode","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#element?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-element_children","level":2,"title":"class Nokogiri::XML::Node#element_children() \u2192 NodeSet","text":"The node\u2019s child elements as aNodeSet. Only children that are elements will be returned, which notably excludesTextnodes. Example: Note that#childrenreturns theTextnode \u201chello\u201d while#element_childrendoes not.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#element_children() \u2192 NodeSet"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-elements","level":2,"title":"class Nokogiri::XML::Node#elements() \u2192 NodeSet","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#elements() \u2192 NodeSet"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-encode_special_chars","level":2,"title":"class Nokogiri::XML::Node#encode_special_chars(string) \u2192 String","text":"Encode any special characters instring","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#encode_special_chars(string) \u2192 String"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-external_subset","level":2,"title":"class Nokogiri::XML::Node#external_subset()","text":"Get the external subset","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#external_subset()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-first_element_child","level":2,"title":"class Nokogiri::XML::Node#first_element_child() \u2192 Node","text":"The first childNodethat is an element. Example: Note that the \u201chello\u201d child, which is aTextnode, is skipped and the<span>element is returned.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#first_element_child() \u2192 Node"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-fragment","level":2,"title":"class Nokogiri::XML::Node#fragment(tags)","text":"Create aDocumentFragmentcontainingtagsthat is relative tothiscontext node.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#fragment(tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-fragment-3F","level":2,"title":"class Nokogiri::XML::Node#fragment?()","text":"Returns true if this is aDocumentFragment","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#fragment?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-html-3F","level":2,"title":"class Nokogiri::XML::Node#html?()","text":"Returns true if this is anHTML4::DocumentorHTML5::Documentnode","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#html?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-inner_html","level":2,"title":"class Nokogiri::XML::Node#inner_html(*args)","text":"Get theinner_htmlfor this node\u2019sNode#children","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#inner_html(*args)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-inner_text","level":2,"title":"class Nokogiri::XML::Node#inner_text() \u2192 String","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#inner_text() \u2192 String"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-internal_subset","level":2,"title":"class Nokogiri::XML::Node#internal_subset()","text":"Get the internal subset","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#internal_subset()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-key-3F","level":2,"title":"class Nokogiri::XML::Node#key?(attribute)","text":"Returns true ifattributeis set","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#key?(attribute)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-lang","level":2,"title":"class Nokogiri::XML::Node#lang","text":"Searches the language of a node, i.e. the values of the xml:lang attribute or the one carried by the nearest ancestor.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#lang"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-lang-3D","level":2,"title":"class Nokogiri::XML::Node#lang=","text":"Set the language of a node, i.e. the values of the xml:lang attribute.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#lang="],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-last_element_child","level":2,"title":"class Nokogiri::XML::Node#last_element_child() \u2192 Node","text":"The last childNodethat is an element. Example: Note that the \u201chello\u201d child, which is aTextnode, is skipped and the<span>yes</span>element is returned.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#last_element_child() \u2192 Node"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-line","level":2,"title":"class Nokogiri::XML::Node#line() \u2192 Integer","text":"The line number of thisNode. \u26a0 The CRuby and JRuby implementations differ in important ways! Semantic differences:","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#line() \u2192 Integer"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-line-3D","level":2,"title":"class Nokogiri::XML::Node#line=(num)","text":"Sets the line for thisNode. num must be less than 65535.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#line=(num)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-matches-3F","level":2,"title":"class Nokogiri::XML::Node#matches?(selector)","text":"Returns true if thisNodematchesselector","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#matches?(selector)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-name","level":2,"title":"class Nokogiri::XML::Node#name","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#name"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-namespace","level":2,"title":"class Nokogiri::XML::Node#namespace() \u2192 Namespace","text":"TheNamespaceof the element or attribute node, ornilif there is no namespace. Example:","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#namespace() \u2192 Namespace"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-namespace_definitions","level":2,"title":"class Nokogiri::XML::Node#namespace_definitions() \u2192 Array<Nokogiri::XML::Namespace>","text":"Namespaces that are defined directly on this node, as an Array ofNamespaceobjects. The array will be empty if no namespaces are defined on this node. Example:","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#namespace_definitions() \u2192 Array<Nokogiri::XML::Namespace>"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-namespace_scopes","level":2,"title":"class Nokogiri::XML::Node#namespace_scopes() \u2192 Array<Nokogiri::XML::Namespace>","text":"Array of all the Namespaces on this node and its ancestors. See also#namespaces Example:","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#namespace_scopes() \u2192 Array<Nokogiri::XML::Namespace>"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-namespaced_key-3F","level":2,"title":"class Nokogiri::XML::Node#namespaced_key?(attribute, namespace)","text":"Returns true ifattributeis set withnamespace","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#namespaced_key?(attribute, namespace)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-namespaces","level":2,"title":"class Nokogiri::XML::Node#namespaces() \u2192 Hash<String(Namespace#prefix) \u21d2 String(Namespace#href)>","text":"Fetch all the namespaces on this node and its ancestors. Note that the keys in this hashXMLattributes that would be used to define this namespace, such as \u201cxmlns:prefix\u201d, not just the prefix. The default namespace for this node will be included with key \u201cxmlns\u201d.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#namespaces() \u2192 Hash<String(Namespace#prefix) \u21d2 String(Namespace#href)>"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-native_content-3D","level":2,"title":"class Nokogiri::XML::Node#native_content=(input)","text":"Set the content of this node toinput. input(String) The new content for this node. \u26a0 This method behaves differently depending on the node type. ForText,CDATA,Comment, andProcessingInstructionnodes, it treats the input as raw content, which means that the final DOM will contain the entity-escaped ve","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#native_content=(input)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-next_element","level":2,"title":"class Nokogiri::XML::Node#next_element","text":"Returns the nextNokogiri::XML::Elementtype sibling node.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#next_element"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-next_sibling","level":2,"title":"class Nokogiri::XML::Node#next_sibling","text":"Returns the next sibling node","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#next_sibling"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-node_name","level":2,"title":"class Nokogiri::XML::Node#node_name","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#node_name"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-node_name-3D","level":2,"title":"class Nokogiri::XML::Node#node_name=","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#node_name="],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-node_type","level":2,"title":"class Nokogiri::XML::Node#node_type","text":"Get the type for thisNode","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#node_type"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-parent","level":2,"title":"class Nokogiri::XML::Node#parent","text":"Get the parentNodefor thisNode","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#parent"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-parse","level":2,"title":"class Nokogiri::XML::Node#parse(string_or_io, options = nil) { |options| ... }","text":"Parsestring_or_ioas a document fragment within the context ofthisnode.  Returns aXML::NodeSetcontaining the nodes parsed fromstring_or_io.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#parse(string_or_io, options = nil) { |options| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-path","level":2,"title":"class Nokogiri::XML::Node#path","text":"Returns the path associated with thisNode","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#path"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-pointer_id","level":2,"title":"class Nokogiri::XML::Node#pointer_id() \u2192 Integer","text":"A unique id for this node based on the internal memory structures. This method is used by#==to determine node identity.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#pointer_id() \u2192 Integer"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-previous_element","level":2,"title":"class Nokogiri::XML::Node#previous_element","text":"Returns the previousNokogiri::XML::Elementtype sibling node.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#previous_element"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-previous_sibling","level":2,"title":"class Nokogiri::XML::Node#previous_sibling","text":"Returns the previous sibling node","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#previous_sibling"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-processing_instruction-3F","level":2,"title":"class Nokogiri::XML::Node#processing_instruction?()","text":"Returns true if this is aProcessingInstructionnode","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#processing_instruction?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-read_only-3F","level":2,"title":"class Nokogiri::XML::Node#read_only?()","text":"Is this a read only node?","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#read_only?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-related_class","level":2,"title":"class Nokogiri::XML::Node#related_class(class_name) \u2192 Class","text":"Find a class constant within the Some examples: Note this will also work for subclasses that follow the same convention, e.g.:","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#related_class(class_name) \u2192 Class"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-text","level":2,"title":"class Nokogiri::XML::Node#text() \u2192 String","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#text() \u2192 String"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-text-3F","level":2,"title":"class Nokogiri::XML::Node#text?()","text":"Returns true if this is aTextnode","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#text?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-to_s","level":2,"title":"class Nokogiri::XML::Node#to_s()","text":"Turn this node in to a string.  If the document isHTML, this method returns html.  If the document isXML, this method returnsXML.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#to_s()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-to_str","level":2,"title":"class Nokogiri::XML::Node#to_str() \u2192 String","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#to_str() \u2192 String"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-traverse","level":2,"title":"class Nokogiri::XML::Node#traverse() { |self| ... }","text":"Yields self and all children toblockrecursively.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#traverse() { |self| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-type","level":2,"title":"class Nokogiri::XML::Node#type","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#type"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-unlink","level":2,"title":"class Nokogiri::XML::Node#unlink() \u2192 self","text":"Unlink this node from its current context.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#unlink() \u2192 self"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-xml-3F","level":2,"title":"class Nokogiri::XML::Node#xml?()","text":"Returns true if this is anXML::Documentnode","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#xml?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-coerce","level":2,"title":"class Nokogiri::XML::Node#coerce(data)","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#coerce(data)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-3C-3C","level":2,"title":"class Nokogiri::XML::Node#<<(node_or_tags)","text":"Addnode_or_tagsas a child of thisNode. node_or_tagscan be aNokogiri::XML::Node, a ::DocumentFragment, a ::NodeSet, or a String containing markup. Returnsself, to support chaining of calls (e.g., root << child1 << child2)","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#<<(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-add_child","level":2,"title":"class Nokogiri::XML::Node#add_child(node_or_tags)","text":"Addnode_or_tagsas a child of thisNode. node_or_tagscan be aNokogiri::XML::Node, a ::DocumentFragment, a ::NodeSet, or a String containing markup. Returns the reparented node (ifnode_or_tagsis aNode), orNodeSet(ifnode_or_tagsis aDocumentFragment,NodeSet, or String).","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#add_child(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-add_namespace","level":2,"title":"class Nokogiri::XML::Node#add_namespace(prefix, href) \u2192 Nokogiri::XML::Namespace","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#add_namespace(prefix, href) \u2192 Nokogiri::XML::Namespace"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-add_namespace_definition","level":2,"title":"class Nokogiri::XML::Node#add_namespace_definition(prefix, href) \u2192 Nokogiri::XML::Namespace","text":"Adds a namespace definition to this node withprefixusinghrefvalue, as if this node had included an attribute \u201cxmlns:prefix=href\u201d. A default namespace definition for this node can be added by passingnilforprefix. prefix(String,nil) AnXML Name","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#add_namespace_definition(prefix, href) \u2192 Nokogiri::XML::Namespace"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-add_next_sibling","level":2,"title":"class Nokogiri::XML::Node#add_next_sibling(node_or_tags)","text":"Insertnode_or_tagsafter thisNode(as a sibling). node_or_tagscan be aNokogiri::XML::Node, a ::DocumentFragment, a ::NodeSet, or a String containing markup. Returns the reparented node (ifnode_or_tagsis aNode), orNodeSet(ifnode_or_tagsis aDocumentFragment,NodeSet, or String).","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#add_next_sibling(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-add_previous_sibling","level":2,"title":"class Nokogiri::XML::Node#add_previous_sibling(node_or_tags)","text":"Insertnode_or_tagsbefore thisNode(as a sibling). node_or_tagscan be aNokogiri::XML::Node, a ::DocumentFragment, a ::NodeSet, or a String containing markup. Returns the reparented node (ifnode_or_tagsis aNode), orNodeSet(ifnode_or_tagsis aDocumentFragment,NodeSet, or String).","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#add_previous_sibling(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-after","level":2,"title":"class Nokogiri::XML::Node#after(node_or_tags)","text":"Insertnode_or_tagsafter this node (as a sibling). node_or_tagscan be aNokogiri::XML::Node, aNokogiri::XML::DocumentFragment, or a String containing markup. Returnsself, to support chaining of calls.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#after(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-before","level":2,"title":"class Nokogiri::XML::Node#before(node_or_tags)","text":"Insertnode_or_tagsbefore this node (as a sibling). node_or_tagscan be aNokogiri::XML::Node, a ::DocumentFragment, a ::NodeSet, or a String containing markup. Returnsself, to support chaining of calls.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#before(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-children-3D","level":2,"title":"class Nokogiri::XML::Node#children=(node_or_tags)","text":"Set the content for thisNodenode_or_tags node_or_tagscan be aNokogiri::XML::Node, aNokogiri::XML::DocumentFragment, or a String containing markup. Also see related methodinner_html=","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#children=(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-content-3D","level":2,"title":"class Nokogiri::XML::Node#content=(input)","text":"Set the content of this node toinput. input(String) The new content for this node. Input is considered to be raw content, and so will be entity-escaped in the final DOM string. Note how entities are handled:","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#content=(input)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-default_namespace-3D","level":2,"title":"class Nokogiri::XML::Node#default_namespace=(url)","text":"Adds a default namespace supplied as a stringurlhref, to self. The consequence is as an xmlns attribute with supplied argument were present in parsedXML.  A default namespace set with this method will now show up in#attributes, but when this node is serialized toXMLan \u201cxmlns\u201d attribute will appear. ","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#default_namespace=(url)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-do_xinclude","level":2,"title":"class Nokogiri::XML::Node#do_xinclude(options = XML::ParseOptions::DEFAULT_XML) { |options| ... }","text":"Do xinclude substitution on the subtree below node. If given a block, aNokogiri::XML::ParseOptionsobject initialized fromoptions, will be passed to it, allowing more convenient modification of the parser options.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#do_xinclude(options = XML::ParseOptions::DEFAULT_XML) { |options| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-inner_html-3D","level":2,"title":"class Nokogiri::XML::Node#inner_html=(node_or_tags)","text":"Set the content for thisNodetonode_or_tags. node_or_tagscan be aNokogiri::XML::Node, aNokogiri::XML::DocumentFragment, or a String containing markup. \u26a0 Please note that despite the name, this method willnotalways parse a String argument asHTML. A String argument will be parsed with theDocumentFragme","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#inner_html=(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-name-3D","level":2,"title":"class Nokogiri::XML::Node#name=(new_name)","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#name=(new_name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-namespace-3D","level":2,"title":"class Nokogiri::XML::Node#namespace=(ns)","text":"Set the default namespace on this node (as would be defined with an \u201cxmlns=\u201d attribute inXMLsource), as aNamespaceobjectns. Note that aNamespaceadded this way will NOT be serialized as an xmlns attribute for this node. You probably want#default_namespace=instead, or perhaps#add_namespace_definitionw","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#namespace=(ns)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-next","level":2,"title":"class Nokogiri::XML::Node#next","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#next"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-next-3D","level":2,"title":"class Nokogiri::XML::Node#next=(node_or_tags)","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#next=(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-parent-3D","level":2,"title":"class Nokogiri::XML::Node#parent=(parent_node)","text":"Set the parentNodefor thisNode","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#parent=(parent_node)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-prepend_child","level":2,"title":"class Nokogiri::XML::Node#prepend_child(node_or_tags)","text":"Addnode_or_tagsas the first child of thisNode. node_or_tagscan be aNokogiri::XML::Node, a ::DocumentFragment, a ::NodeSet, or a String containing markup. Returns the reparented node (ifnode_or_tagsis aNode), orNodeSet(ifnode_or_tagsis aDocumentFragment,NodeSet, or String).","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#prepend_child(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-previous","level":2,"title":"class Nokogiri::XML::Node#previous","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#previous"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-previous-3D","level":2,"title":"class Nokogiri::XML::Node#previous=(node_or_tags)","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#previous=(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-remove","level":2,"title":"class Nokogiri::XML::Node#remove","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#remove"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-replace","level":2,"title":"class Nokogiri::XML::Node#replace(node_or_tags)","text":"Replace thisNodewithnode_or_tags. node_or_tagscan be aNokogiri::XML::Node, a ::DocumentFragment, a ::NodeSet, or a String containing markup. Returns the reparented node (ifnode_or_tagsis aNode), orNodeSet(ifnode_or_tagsis aDocumentFragment,NodeSet, or String).","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#replace(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-swap","level":2,"title":"class Nokogiri::XML::Node#swap(node_or_tags)","text":"Swap thisNodefornode_or_tags node_or_tagscan be aNokogiri::XML::Node, a ::DocumentFragment, a ::NodeSet, or a String Containing markup. Returns self, to support chaining of calls.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#swap(node_or_tags)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-wrap","level":2,"title":"class Nokogiri::XML::Node#wrap(markup) \u2192 self","text":"Wrap thisNodewith the node parsed frommarkupor a dup of thenode. markup(String) Markup that is parsed and used as the wrapper. This node\u2019s parent, if it exists, is used as the context node for parsing; otherwise the associated document is used. If the parsed fragment has multiple roots, the first ro","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#wrap(markup) \u2192 self"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-25","level":2,"title":"class Nokogiri::XML::Node#%","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#%"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-2F","level":2,"title":"class Nokogiri::XML::Node#/","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#/"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-3E","level":2,"title":"class Nokogiri::XML::Node#>(selector) \u2192 NodeSet","text":"Search this node\u2019s immediate children usingCSSselectorselector","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#>(selector) \u2192 NodeSet"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-at","level":2,"title":"class Nokogiri::XML::Node#at(*paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class])","text":"Search this object forpaths, and return only the first result.pathsmust be one or moreXPathorCSSqueries. SeeSearchable#searchfor more information.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#at(*paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-at_css","level":2,"title":"class Nokogiri::XML::Node#at_css(*rules, [namespace-bindings, custom-pseudo-class])","text":"Search this object forCSSrules, and return only the first match.rulesmust be one or moreCSSselectors. SeeSearchable#cssfor more information.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#at_css(*rules, [namespace-bindings, custom-pseudo-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-at_xpath","level":2,"title":"class Nokogiri::XML::Node#at_xpath(*paths, [namespace-bindings, variable-bindings, custom-handler-class])","text":"Search this node forXPathpaths, and return only the first match.pathsmust be one or moreXPathqueries. SeeSearchable#xpathfor more information.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#at_xpath(*paths, [namespace-bindings, variable-bindings, custom-handler-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-css","level":2,"title":"class Nokogiri::XML::Node#css(*rules, [namespace-bindings, custom-pseudo-class])","text":"Search this object forCSSrules.rulesmust be one or moreCSSselectors. For example: A hash of namespace bindings may be appended. For example: \ud83d\udca1 CustomCSSpseudo classes may also be defined which are mapped to a customXPathfunction.  To define custom pseudo classes, create a class and implement the cus","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#css(*rules, [namespace-bindings, custom-pseudo-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-search","level":2,"title":"class Nokogiri::XML::Node#search(*paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class])","text":"Search this object forpaths.pathsmust be one or moreXPathorCSSqueries: A hash of namespace bindings may be appended: ForXPathqueries, a hash of variable bindings may also be appended to the namespace bindings. For example:","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#search(*paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-xpath","level":2,"title":"class Nokogiri::XML::Node#xpath(*paths, [namespace-bindings, variable-bindings, custom-handler-class])","text":"Search this node forXPathpaths.pathsmust be one or moreXPathqueries. A hash of namespace bindings may be appended. For example: A hash of variable bindings may also be appended to the namespace bindings. For example:","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#xpath(*paths, [namespace-bindings, variable-bindings, custom-handler-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-canonicalize","level":2,"title":"class Nokogiri::XML::Node#canonicalize(mode = XML::XML_C14N_1_0, inclusive_namespaces = nil, with_comments = false)","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#canonicalize(mode = XML::XML_C14N_1_0, inclusive_namespaces = nil, with_comments = false)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-deconstruct_keys","level":2,"title":"class Nokogiri::XML::Node#deconstruct_keys(array_of_names) \u2192 Hash","text":"Returns a hash describing theNode, to use in pattern matching. Valid keys and their values: name\u2192 (String) The name of this node, or \u201ctext\u201d if it is aTextnode.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#deconstruct_keys(array_of_names) \u2192 Hash"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-serialize","level":2,"title":"class Nokogiri::XML::Node#serialize(*args, &block)","text":"SerializeNodeusingoptions. Save options can also be set using a block. See alsoNokogiri::XML::Node::SaveOptionsandSerialization and Generating Output atNode. These two statements are equivalent:","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#serialize(*args, &block)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-to_html","level":2,"title":"class Nokogiri::XML::Node#to_html(options = {})","text":"Serialize thisNodetoHTML SeeNode#write_tofor a list ofoptions.  For formatted output, useNode#to_xhtmlinstead.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#to_html(options = {})"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-to_xhtml","level":2,"title":"class Nokogiri::XML::Node#to_xhtml(options = {})","text":"Serialize thisNodeto XHTML usingoptions SeeNode#write_tofor a list ofoptions","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#to_xhtml(options = {})"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-to_xml","level":2,"title":"class Nokogiri::XML::Node#to_xml(options = {})","text":"Serialize thisNodetoXMLusingoptions SeeNode#write_tofor a list ofoptions","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#to_xml(options = {})"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-write_html_to","level":2,"title":"class Nokogiri::XML::Node#write_html_to(io, options = {})","text":"WriteNodeasHTMLtoiowithoptions SeeNode#write_tofor a list ofoptions","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#write_html_to(io, options = {})"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-write_to","level":2,"title":"class Nokogiri::XML::Node#write_to(io, *options)","text":"Serialize this node or document toio. io(IO) An IO-like object to which the serialized content will be written. options(Hash) See below","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#write_to(io, *options)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-write_xhtml_to","level":2,"title":"class Nokogiri::XML::Node#write_xhtml_to(io, options = {})","text":"WriteNodeas XHTML toiowithoptions SeeNode#write_tofor a list ofoptions","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#write_xhtml_to(io, options = {})"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-write_xml_to","level":2,"title":"class Nokogiri::XML::Node#write_xml_to(io, options = {})","text":"WriteNodeasXMLtoiowithoptions SeeNode#write_tofor a list of options","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#write_xml_to(io, options = {})"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-child","level":2,"title":"class Nokogiri::XML::Node#child() \u2192 Nokogiri::XML::Node","text":"First of this node\u2019s children, ornilif there are no children This is a convenience method and is equivalent to: See related:#children","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#child() \u2192 Nokogiri::XML::Node"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-children","level":2,"title":"class Nokogiri::XML::Node#children() \u2192 Nokogiri::XML::NodeSet","text":"Nokogiri::XML::NodeSetcontaining this node\u2019s children.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#children() \u2192 Nokogiri::XML::NodeSet"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-document","level":2,"title":"class Nokogiri::XML::Node#document() \u2192 Nokogiri::XML::Document","text":"ParentNokogiri::XML::Documentfor this node","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#document() \u2192 Nokogiri::XML::Document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-5B-5D","level":2,"title":"class Nokogiri::XML::Node#[](name) \u2192 (String, nil)","text":"Fetch an attribute from this node. \u26a0 Note that attributes with namespaces cannot be accessed with this method. To access namespaced attributes, use#attribute_with_ns. (String, nil) value of the attributename, ornilif no matching attribute exists","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#[](name) \u2192 (String, nil)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-5B-5D-3D","level":2,"title":"class Nokogiri::XML::Node#[]=(name, value) \u2192 value","text":"Update the attributenametovalue, or create the attribute if it does not exist. \u26a0 Note that attributes with namespaces cannot be accessed with this method. To access namespaced attributes for update, use#attribute_with_ns. To add a namespaced attribute, see the example below. value","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#[]=(name, value) \u2192 value"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-add_class","level":2,"title":"class Nokogiri::XML::Node#add_class(names) \u2192 self","text":"EnsureHTMLCSSclasses are present onself. AnyCSSclasses innamesthat already exist in the \u201cclass\u201d attribute arenotadded. Note that any existing duplicates in the \u201cclass\u201d attribute are not removed. Compare with#append_class. This is a convenience function and is equivalent to: See related:#kwattr_add,#","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#add_class(names) \u2192 self"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-append_class","level":2,"title":"class Nokogiri::XML::Node#append_class(names) \u2192 self","text":"AddHTMLCSSclasses toself, regardless of duplication. Compare with#add_class. This is a convenience function and is equivalent to: See related:#kwattr_append,#classes,#add_class,#remove_class","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#append_class(names) \u2192 self"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-attr","level":2,"title":"class Nokogiri::XML::Node#attr","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#attr"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-attribute","level":2,"title":"class Nokogiri::XML::Node#attribute(name) \u2192 Nokogiri::XML::Attr","text":"Attribute (Nokogiri::XML::Attr) belonging to this node with namename. \u26a0 Note that attribute namespaces are ignored and only the simple (non-namespace-prefixed) name is used to find a matching attribute. In case of a simple name collision, only one of the matching attributes will be returned. In this","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#attribute(name) \u2192 Nokogiri::XML::Attr"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-attribute_nodes","level":2,"title":"class Nokogiri::XML::Node#attribute_nodes() \u2192 Array<Nokogiri::XML::Attr>","text":"Attributes (an Array ofNokogiri::XML::Attr) belonging to this node. Note that this is the preferred alternative to#attributeswhen the simple (non-namespace-prefixed) attribute names may collide. Example:","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#attribute_nodes() \u2192 Array<Nokogiri::XML::Attr>"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-attribute_with_ns","level":2,"title":"class Nokogiri::XML::Node#attribute_with_ns(name, namespace) \u2192 Nokogiri::XML::Attr","text":"Attribute (Nokogiri::XML::Attr) belonging to this node with matchingnameandnamespace. name(String): the simple (non-namespace-prefixed) name of the attribute namespace(String): the URI of the attribute\u2019s namespace","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#attribute_with_ns(name, namespace) \u2192 Nokogiri::XML::Attr"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-attributes","level":2,"title":"class Nokogiri::XML::Node#attributes() \u2192 Hash<String \u21d2 Nokogiri::XML::Attr>","text":"Fetch this node\u2019s attributes. \u26a0 Because the keys do not include any namespace information for the attribute, in case of a simple name collision, not all attributes will be returned. In this case, you will need to use#attribute_nodes. Hash containing attributes belonging toself. The hash keys are Str","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#attributes() \u2192 Hash<String \u21d2 Nokogiri::XML::Attr>"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-classes","level":2,"title":"class Nokogiri::XML::Node#classes() \u2192 Array<String>","text":"FetchCSSclass names of aNode. This is a convenience function and is equivalent to: See related:#kwattr_values,#add_class,#append_class,#remove_class","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#classes() \u2192 Array<String>"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-delete","level":2,"title":"class Nokogiri::XML::Node#delete(name)","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#delete(name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-each","level":2,"title":"class Nokogiri::XML::Node#each() { |node_name, value| ... }","text":"Iterate over each attribute name and value pair for thisNode.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#each() { |node_name, value| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-get_attribute","level":2,"title":"class Nokogiri::XML::Node#get_attribute","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#get_attribute"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-has_attribute-3F","level":2,"title":"class Nokogiri::XML::Node#has_attribute?","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#has_attribute?"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-keys","level":2,"title":"class Nokogiri::XML::Node#keys()","text":"Get the attribute names for thisNode.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#keys()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-kwattr_add","level":2,"title":"class Nokogiri::XML::Node#kwattr_add(attribute_name, keywords) \u2192 self","text":"Ensure that values are present in a keyword attribute. Any values inkeywordsthat already exist in the Node\u2019s attribute values arenotadded. Note that any existing duplicates in the attribute values are not removed. Compare with#kwattr_append. A \u201ckeyword attribute\u201d is a node attribute that contains a ","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#kwattr_add(attribute_name, keywords) \u2192 self"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-kwattr_append","level":2,"title":"class Nokogiri::XML::Node#kwattr_append(attribute_name, keywords) \u2192 self","text":"Add keywords to a Node\u2019s keyword attribute, regardless of duplication. Compare with#kwattr_add. A \u201ckeyword attribute\u201d is a node attribute that contains a set of space-delimited values. Perhaps the most familiar example of this is theHTML\u201cclass\u201d attribute used to containCSSclasses. But other keyword ","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#kwattr_append(attribute_name, keywords) \u2192 self"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-kwattr_remove","level":2,"title":"class Nokogiri::XML::Node#kwattr_remove(attribute_name, keywords) \u2192 self","text":"Remove keywords from a keyword attribute. Any matching keywords that exist in the named attribute are removed, including any multiple entries. If no keywords remain after this operation, or ifkeywordsisnil, the attribute is deleted from the node. A \u201ckeyword attribute\u201d is a node attribute that contai","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#kwattr_remove(attribute_name, keywords) \u2192 self"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-kwattr_values","level":2,"title":"class Nokogiri::XML::Node#kwattr_values(attribute_name) \u2192 Array<String>","text":"Fetch values from a keyword attribute of aNode. A \u201ckeyword attribute\u201d is a node attribute that contains a set of space-delimited values. Perhaps the most familiar example of this is theHTML\u201cclass\u201d attribute used to containCSSclasses. But other keyword attributes exist, for instancethe \u201crel\u201d attribut","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#kwattr_values(attribute_name) \u2192 Array<String>"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-remove_attribute","level":2,"title":"class Nokogiri::XML::Node#remove_attribute(name)","text":"Remove the attribute namedname","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#remove_attribute(name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-remove_class","level":2,"title":"class Nokogiri::XML::Node#remove_class(css_classes) \u2192 self","text":"RemoveHTMLCSSclasses from this node. AnyCSSclass names incss_classesthat exist in this node\u2019s \u201cclass\u201d attribute are removed, including any multiple entries. If noCSSclasses remain after this operation, or ifcss_classesisnil, the \u201cclass\u201d attribute is deleted from the node. This is a convenience funct","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#remove_class(css_classes) \u2192 self"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-set_attribute","level":2,"title":"class Nokogiri::XML::Node#[]=(name, value) \u2192 value","text":"","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#[]=(name, value) \u2192 value"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-value-3F","level":2,"title":"class Nokogiri::XML::Node#value?(value)","text":"Does this Node\u2019s attributes include <value>","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#value?(value)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Node.html#method-i-values","level":2,"title":"class Nokogiri::XML::Node#values()","text":"Get the attribute values for thisNode.","path":["class Nokogiri::XML::Node","class Nokogiri::XML::Node#values()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html","level":1,"title":"class Nokogiri::XML::NodeSet","text":"A NodeSet is an Enumerable that contains a list of Nokogiri::XML::Node objects. Typically a NodeSet is returned as a result of searching a Document via Nokogiri::XML::Searchable#css or Nokogiri::XML::Searchable#xpath . Note that the \u2018#dup` and `#clone` methods perform shallow copies; these methods do not copy the Nodes contained in the NodeSet (similar to how Array and other Enumerable classes work).","path":["class Nokogiri::XML::NodeSet"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#attribute-i-document","level":2,"title":"class Nokogiri::XML::NodeSet#document","text":"TheDocumentthisNodeSetis associated with","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-c-new","level":2,"title":"class Nokogiri::XML::NodeSet.new(document, list = []) { |self| ... }","text":"Create aNodeSetwithdocumentdefaulting tolist","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet.new(document, list = []) { |self| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-25","level":2,"title":"class Nokogiri::XML::NodeSet#search *paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class]","text":"","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#search *paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class]"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-26","level":2,"title":"class Nokogiri::XML::NodeSet#&(node_set)","text":"Set Intersection \u2014 Returns a newNodeSetcontaining nodes common to the two NodeSets.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#&(node_set)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-2B","level":2,"title":"class Nokogiri::XML::NodeSet#+","text":"","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#+"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-2D","level":2,"title":"class Nokogiri::XML::NodeSet#-(node_set)","text":"","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#-(node_set)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-3C-3C","level":2,"title":"class Nokogiri::XML::NodeSet#<<","text":"","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#<<"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-3D-3D","level":2,"title":"class Nokogiri::XML::NodeSet#==(other)","text":"Equality \u2013 Two NodeSets are equal if the contain the same number of elements and if each element is equal to the corresponding element in the otherNodeSet","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#==(other)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-5B-5D","level":2,"title":"class Nokogiri::XML::NodeSet#[index] \u2192 Node or nil","text":"Elementreference - returns the node atindex, or returns aNodeSetcontaining nodes starting atstartand continuing forlengthelements, or returns aNodeSetcontaining nodes specified byrange. Negativeindicescount backward from the end of thenode_set(-1 is the last node). Returns nil if theindex(orstart) a","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#[index] \u2192 Node or nil"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-7C","level":2,"title":"class Nokogiri::XML::NodeSet#|(node_set)","text":"Returns a new set built by merging the set and the elements of the given set.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#|(node_set)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-add_class","level":2,"title":"class Nokogiri::XML::NodeSet#add_class(name)","text":"Add the class attributenameto allNodeobjects in theNodeSet. SeeNokogiri::XML::Node#add_classfor more information.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#add_class(name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-after","level":2,"title":"class Nokogiri::XML::NodeSet#after(datum)","text":"Insertdatumafter the lastNodein thisNodeSet","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#after(datum)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-append_class","level":2,"title":"class Nokogiri::XML::NodeSet#append_class(name)","text":"Append the class attributenameto allNodeobjects in theNodeSet. SeeNokogiri::XML::Node#append_classfor more information.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#append_class(name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-at","level":2,"title":"class Nokogiri::XML::NodeSet#search *paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class]","text":"Search this object forpaths, and return only the first result.pathsmust be one or moreXPathorCSSqueries. SeeSearchable#searchfor more information. Or, if passed an integer, index into the NodeSet:","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#search *paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class]"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-attr","level":2,"title":"class Nokogiri::XML::NodeSet#attr(key, value = nil) { |node| ... }","text":"Set attributes on eachNodein theNodeSet, or get an attribute from the firstNodein theNodeSet. To get an attribute from the firstNodein a NodeSet: Note that an emptyNodeSetwill return nil when#attris called as a getter.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#attr(key, value = nil) { |node| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-attribute","level":2,"title":"class Nokogiri::XML::NodeSet#attribute(key, value = nil, &block)","text":"","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#attribute(key, value = nil, &block)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-before","level":2,"title":"class Nokogiri::XML::NodeSet#before(datum)","text":"Insertdatumbefore the firstNodein thisNodeSet","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#before(datum)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-children","level":2,"title":"class Nokogiri::XML::NodeSet#children()","text":"Returns a newNodeSetcontaining all the children of all the nodes in theNodeSet","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#children()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-css","level":2,"title":"class Nokogiri::XML::NodeSet#css *rules, [namespace-bindings, custom-pseudo-class]","text":"Search this node set forCSSrules.rulesmust be one or moreCSSselectors. For example: For more information seeNokogiri::XML::Searchable#css","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#css *rules, [namespace-bindings, custom-pseudo-class]"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-deconstruct","level":2,"title":"class Nokogiri::XML::NodeSet#deconstruct() \u2192 Array","text":"Returns the members of thisNodeSetas an array, to use in pattern matching. Since v1.14.0","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#deconstruct() \u2192 Array"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-delete","level":2,"title":"class Nokogiri::XML::NodeSet#delete(node)","text":"Deletenodefrom the Nodeset, if it is a member. Returns the deleted node if found, otherwise returns nil.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#delete(node)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-each","level":2,"title":"class Nokogiri::XML::NodeSet#each() { |self| ... }","text":"Iterate over each node, yielding  toblock","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#each() { |self| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-empty-3F","level":2,"title":"class Nokogiri::XML::NodeSet#empty?()","text":"Is thisNodeSetempty?","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#empty?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-filter","level":2,"title":"class Nokogiri::XML::NodeSet#filter(expr)","text":"Filter this list for nodes that matchexpr","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#filter(expr)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-first","level":2,"title":"class Nokogiri::XML::NodeSet#first(n = nil)","text":"Get the first element of theNodeSet.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#first(n = nil)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-include-3F","level":2,"title":"class Nokogiri::XML::NodeSet#include?(node)","text":"","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#include?(node)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-index","level":2,"title":"class Nokogiri::XML::NodeSet#index(node = nil) { |member| ... }","text":"Returns the index of the first node in self that is == tonodeor meets the given block. Returns nil if no match is found.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#index(node = nil) { |member| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-inner_html","level":2,"title":"class Nokogiri::XML::NodeSet#inner_html(*args)","text":"Get the inner html of all containedNodeobjects","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#inner_html(*args)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-inner_text","level":2,"title":"class Nokogiri::XML::NodeSet#inner_text()","text":"Get the inner text of all containedNodeobjects Note: This joins the text of allNodeobjects in the NodeSet: Instead, if you want to return the text of all nodes in the NodeSet:","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#inner_text()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-inspect","level":2,"title":"class Nokogiri::XML::NodeSet#inspect()","text":"Return a nicely formatted string representation","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#inspect()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-last","level":2,"title":"class Nokogiri::XML::NodeSet#last()","text":"Get the last element of theNodeSet.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#last()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-length","level":2,"title":"class Nokogiri::XML::NodeSet#length","text":"Get the length of the node set","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#length"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-pop","level":2,"title":"class Nokogiri::XML::NodeSet#pop()","text":"Removes the last element from set and returns it, ornilif the set is empty","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#pop()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-push","level":2,"title":"class Nokogiri::XML::NodeSet#push(node)","text":"Appendnodeto theNodeSet.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#push(node)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-remove","level":2,"title":"class Nokogiri::XML::NodeSet#remove","text":"","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#remove"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-remove_attr","level":2,"title":"class Nokogiri::XML::NodeSet#remove_attr(name)","text":"Remove the attributed namednamefrom allNodeobjects in theNodeSet","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#remove_attr(name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-remove_attribute","level":2,"title":"class Nokogiri::XML::NodeSet#remove_attribute(name)","text":"","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#remove_attribute(name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-remove_class","level":2,"title":"class Nokogiri::XML::NodeSet#remove_class(name = nil)","text":"Remove the class attributenamefrom allNodeobjects in theNodeSet. SeeNokogiri::XML::Node#remove_classfor more information.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#remove_class(name = nil)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-reverse","level":2,"title":"class Nokogiri::XML::NodeSet#reverse()","text":"Returns a newNodeSetcontaining all the nodes in theNodeSetin reverse order","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#reverse()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-set","level":2,"title":"class Nokogiri::XML::NodeSet#set(key, value = nil, &block)","text":"","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#set(key, value = nil, &block)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-shift","level":2,"title":"class Nokogiri::XML::NodeSet#shift()","text":"Returns the first element of theNodeSetand removes it.  Returnsnilif the set is empty.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#shift()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-size","level":2,"title":"class Nokogiri::XML::NodeSet#size","text":"","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#size"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-slice","level":2,"title":"class Nokogiri::XML::NodeSet#slice(index) \u2192 Node or nil","text":"Elementreference - returns the node atindex, or returns aNodeSetcontaining nodes starting atstartand continuing forlengthelements, or returns aNodeSetcontaining nodes specified byrange. Negativeindicescount backward from the end of thenode_set(-1 is the last node). Returns nil if theindex(orstart) a","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#slice(index) \u2192 Node or nil"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-text","level":2,"title":"class Nokogiri::XML::NodeSet#text()","text":"","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#text()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-to_a","level":2,"title":"class Nokogiri::XML::NodeSet#to_a","text":"Return this list as an Array","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#to_a"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-to_ary","level":2,"title":"class Nokogiri::XML::NodeSet#to_ary","text":"","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#to_ary"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-to_html","level":2,"title":"class Nokogiri::XML::NodeSet#to_html(*args)","text":"Convert thisNodeSettoHTML","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#to_html(*args)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-to_s","level":2,"title":"class Nokogiri::XML::NodeSet#to_s()","text":"Convert thisNodeSetto a string.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#to_s()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-to_xhtml","level":2,"title":"class Nokogiri::XML::NodeSet#to_xhtml(*args)","text":"Convert thisNodeSetto XHTML","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#to_xhtml(*args)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-to_xml","level":2,"title":"class Nokogiri::XML::NodeSet#to_xml(*args)","text":"Convert thisNodeSettoXML","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#to_xml(*args)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-unlink","level":2,"title":"class Nokogiri::XML::NodeSet#unlink","text":"Unlink thisNodeSetand allNodeobjects it contains from their current context.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#unlink"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-wrap","level":2,"title":"class Nokogiri::XML::NodeSet#wrap(markup) \u2192 self","text":"Wrap each member of thisNodeSetwith the node parsed frommarkupor a dup of thenode. markup(String) Markup that is parsed, once per member of theNodeSet, and used as the wrapper. Each node\u2019s parent, if it exists, is used as the context node for parsing; otherwise the associated document is used. If th","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#wrap(markup) \u2192 self"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-xpath","level":2,"title":"class Nokogiri::XML::NodeSet#xpath *paths, [namespace-bindings, variable-bindings, custom-handler-class]","text":"Search this node set forXPathpaths.pathsmust be one or moreXPathqueries. For more information seeNokogiri::XML::Searchable#xpath","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#xpath *paths, [namespace-bindings, variable-bindings, custom-handler-class]"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-2F","level":2,"title":"class Nokogiri::XML::NodeSet#/","text":"","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#/"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-3E","level":2,"title":"class Nokogiri::XML::NodeSet#>(selector) \u2192 NodeSet","text":"Search this node\u2019s immediate children usingCSSselectorselector","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#>(selector) \u2192 NodeSet"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-at_css","level":2,"title":"class Nokogiri::XML::NodeSet#at_css(*rules, [namespace-bindings, custom-pseudo-class])","text":"Search this object forCSSrules, and return only the first match.rulesmust be one or moreCSSselectors. SeeSearchable#cssfor more information.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#at_css(*rules, [namespace-bindings, custom-pseudo-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-at_xpath","level":2,"title":"class Nokogiri::XML::NodeSet#at_xpath(*paths, [namespace-bindings, variable-bindings, custom-handler-class])","text":"Search this node forXPathpaths, and return only the first match.pathsmust be one or moreXPathqueries. SeeSearchable#xpathfor more information.","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#at_xpath(*paths, [namespace-bindings, variable-bindings, custom-handler-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/NodeSet.html#method-i-search","level":2,"title":"class Nokogiri::XML::NodeSet#search(*paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class])","text":"Search this object forpaths.pathsmust be one or moreXPathorCSSqueries: A hash of namespace bindings may be appended: ForXPathqueries, a hash of variable bindings may also be appended to the namespace bindings. For example:","path":["class Nokogiri::XML::NodeSet","class Nokogiri::XML::NodeSet#search(*paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Notation.html","level":1,"title":"class Nokogiri::XML::Notation","text":"Struct representing an XML Schema Notation","path":["class Nokogiri::XML::Notation"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Notation.html#attribute-i-name","level":2,"title":"class Nokogiri::XML::Notation#name","text":"The name for the element.","path":["class Nokogiri::XML::Notation","class Nokogiri::XML::Notation#name"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Notation.html#attribute-i-public_id","level":2,"title":"class Nokogiri::XML::Notation#public_id","text":"The URI corresponding to the public identifier","path":["class Nokogiri::XML::Notation","class Nokogiri::XML::Notation#public_id"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Notation.html#attribute-i-system_id","level":2,"title":"class Nokogiri::XML::Notation#system_id","text":"The URI corresponding to the system identifier","path":["class Nokogiri::XML::Notation","class Nokogiri::XML::Notation#system_id"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/PP/CharacterData.html","level":1,"title":"module Nokogiri::XML::PP::CharacterData","text":"","path":["module Nokogiri::XML::PP::CharacterData"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/PP/Node.html","level":1,"title":"module Nokogiri::XML::PP::Node","text":"","path":["module Nokogiri::XML::PP::Node"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/PP.html","level":1,"title":"module Nokogiri::XML::PP","text":"","path":["module Nokogiri::XML::PP"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/ParseOptions.html","level":1,"title":"class Nokogiri::XML::ParseOptions","text":"Options that control the parsing behavior for XML::Document , XML::DocumentFragment , HTML4::Document , HTML4::DocumentFragment , XSLT::Stylesheet , and XML::Schema . These options directly expose libxml2\u2019s parse options, which are all boolean in the sense that an option is \u201con\u201d or \u201coff\u201d. \ud83d\udca1 Note that HTML5 parsing has a separate, orthogonal set of options due to the nature of the HTML5 specification. See Nokogiri::HTML5 . \u26a0 Not all parse options are supported on JRuby. Nokogiri will attempt to i","path":["class Nokogiri::XML::ParseOptions"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/ParseOptions.html#attribute-i-options","level":2,"title":"class Nokogiri::XML::ParseOptions#options","text":"","path":["class Nokogiri::XML::ParseOptions","class Nokogiri::XML::ParseOptions#options"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ParseOptions.html#attribute-i-to_i","level":2,"title":"class Nokogiri::XML::ParseOptions#to_i","text":"","path":["class Nokogiri::XML::ParseOptions","class Nokogiri::XML::ParseOptions#to_i"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ParseOptions.html#method-c-new","level":2,"title":"class Nokogiri::XML::ParseOptions.new(options = STRICT)","text":"","path":["class Nokogiri::XML::ParseOptions","class Nokogiri::XML::ParseOptions.new(options = STRICT)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ParseOptions.html#method-i-3D-3D","level":2,"title":"class Nokogiri::XML::ParseOptions#==(other)","text":"","path":["class Nokogiri::XML::ParseOptions","class Nokogiri::XML::ParseOptions#==(other)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ParseOptions.html#method-i-inspect","level":2,"title":"class Nokogiri::XML::ParseOptions#inspect()","text":"","path":["class Nokogiri::XML::ParseOptions","class Nokogiri::XML::ParseOptions#inspect()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ParseOptions.html#method-i-strict","level":2,"title":"class Nokogiri::XML::ParseOptions#strict()","text":"","path":["class Nokogiri::XML::ParseOptions","class Nokogiri::XML::ParseOptions#strict()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ParseOptions.html#method-i-strict-3F","level":2,"title":"class Nokogiri::XML::ParseOptions#strict?()","text":"","path":["class Nokogiri::XML::ParseOptions","class Nokogiri::XML::ParseOptions#strict?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ProcessingInstruction.html","level":1,"title":"class Nokogiri::XML::ProcessingInstruction","text":"ProcessingInstruction represents a ProcessingInstruction node in an xml document.","path":["class Nokogiri::XML::ProcessingInstruction"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/ProcessingInstruction.html#method-c-new","level":2,"title":"class Nokogiri::XML::ProcessingInstruction.new(document, name, content)","text":"Create a newProcessingInstructionelement on thedocumentwithnameandcontent","path":["class Nokogiri::XML::ProcessingInstruction","class Nokogiri::XML::ProcessingInstruction.new(document, name, content)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/ProcessingInstruction.html#method-c-new","level":2,"title":"class Nokogiri::XML::ProcessingInstruction.new(document, name, content)","text":"","path":["class Nokogiri::XML::ProcessingInstruction","class Nokogiri::XML::ProcessingInstruction.new(document, name, content)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html","level":1,"title":"class Nokogiri::XML::Reader","text":"The Reader parser allows you to effectively pull parse an XML document.  Once instantiated, call Nokogiri::XML::Reader#each to iterate over each node. Nokogiri::XML::Reader parses an XML document similar to the way a cursor would move. The Reader is given an XML document, and yields nodes to an each block. The Reader parser might be good for when you need the speed and low memory usage of a SAX parser, but do not want to write a SAX::Document handler. Here is an example of usage: reader = Nokogi","path":["class Nokogiri::XML::Reader"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Reader.html#attribute-i-errors","level":2,"title":"class Nokogiri::XML::Reader#errors","text":"A list of errors encountered while parsing","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#errors"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#attribute-i-source","level":2,"title":"class Nokogiri::XML::Reader#source","text":"The XML source","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#source"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-c-from_io","level":2,"title":"class Nokogiri::XML::Reader.from_io(io, url = nil, encoding = nil, options = 0)","text":"Create a newReaderto parse an IO stream.","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader.from_io(io, url = nil, encoding = nil, options = 0)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-c-from_memory","level":2,"title":"class Nokogiri::XML::Reader.from_memory(string, url = nil, encoding = nil, options = 0)","text":"Create a newReaderto parse a String.","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader.from_memory(string, url = nil, encoding = nil, options = 0)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-c-new","level":2,"title":"class Nokogiri::XML::Reader.new(input) { |options| ... } \u2192 Reader","text":"Create a newReaderto parse an XML document. input(String | IO): The XML document to parse. url:(String) The base URL of the document.","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader.new(input) { |options| ... } \u2192 Reader"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-attribute","level":2,"title":"class Nokogiri::XML::Reader#attribute(name)","text":"Get the value of attribute namedname","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#attribute(name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-attribute_at","level":2,"title":"class Nokogiri::XML::Reader#attribute_at(index)","text":"Get the value of attribute atindex","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#attribute_at(index)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-attribute_count","level":2,"title":"class Nokogiri::XML::Reader#attribute_count","text":"Get the number of attributes for the current node","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#attribute_count"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-attribute_hash","level":2,"title":"class Nokogiri::XML::Reader#attribute_hash() \u2192 Hash<String \u21d2 String>","text":"Get the attributes of the current node as a Hash of names and values. See related:#attributesand#namespaces","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#attribute_hash() \u2192 Hash<String \u21d2 String>"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-attributes","level":2,"title":"class Nokogiri::XML::Reader#attributes()","text":"Get the attributes and namespaces of the current node as a Hash. This is the union ofReader#attribute_hashandReader#namespaces (Hash<String, String>) Attribute names and values, and namespace prefixes and hrefs.","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#attributes()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-attributes-3F","level":2,"title":"class Nokogiri::XML::Reader#attributes?","text":"Does this node have attributes?","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#attributes?"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-base_uri","level":2,"title":"class Nokogiri::XML::Reader#base_uri()","text":"base_uri Get the xml:base of the node","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#base_uri()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-default-3F","level":2,"title":"class Nokogiri::XML::Reader#default?","text":"Was an attribute generated from the default value in theDTDor schema?","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#default?"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-depth","level":2,"title":"class Nokogiri::XML::Reader#depth","text":"Get the depth of the node","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#depth"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-each","level":2,"title":"class Nokogiri::XML::Reader#each() { |cursor| ... }","text":"Move the cursor through the document yielding the cursor to the block","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#each() { |cursor| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-empty_element-3F","level":2,"title":"class Nokogiri::XML::Reader#empty_element? # \u2192 true or false","text":"Returns true if the current node is empty, otherwise false.","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#empty_element? # \u2192 true or false"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-encoding","level":2,"title":"class Nokogiri::XML::Reader#encoding()","text":"","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#encoding()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-inner_xml","level":2,"title":"class Nokogiri::XML::Reader#inner_xml","text":"Read the contents of the current node, including child nodes and markup. Returns a utf-8 encoded string.","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#inner_xml"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-lang","level":2,"title":"class Nokogiri::XML::Reader#lang","text":"Get the xml:lang scope within which the node resides.","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#lang"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-local_name","level":2,"title":"class Nokogiri::XML::Reader#local_name","text":"Get the local name of the node","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#local_name"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-name","level":2,"title":"class Nokogiri::XML::Reader#name","text":"Get the name of the node. Returns a utf-8 encoded string.","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#name"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-namespace_uri","level":2,"title":"class Nokogiri::XML::Reader#namespace_uri","text":"Get the URI defining the namespace associated with the node","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#namespace_uri"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-namespaces","level":2,"title":"class Nokogiri::XML::Reader#namespaces","text":"Get a hash of namespaces for thisNode","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#namespaces"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-node_type","level":2,"title":"class Nokogiri::XML::Reader#node_type","text":"Get the type of readers current node","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#node_type"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-outer_xml","level":2,"title":"class Nokogiri::XML::Reader#outer_xml","text":"Read the current node and its contents, including child nodes and markup. Returns a utf-8 encoded string.","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#outer_xml"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-prefix","level":2,"title":"class Nokogiri::XML::Reader#prefix","text":"Get the shorthand reference to the namespace associated with the node.","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#prefix"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-read","level":2,"title":"class Nokogiri::XML::Reader#read","text":"Move theReaderforward through theXMLdocument.","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#read"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-self_closing-3F","level":2,"title":"class Nokogiri::XML::Reader#self_closing?","text":"","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#self_closing?"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-state","level":2,"title":"class Nokogiri::XML::Reader#state","text":"Get the state of the reader","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#state"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-value","level":2,"title":"class Nokogiri::XML::Reader#value","text":"Get the text value of the node if present. Returns a utf-8 encoded string.","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#value"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-value-3F","level":2,"title":"class Nokogiri::XML::Reader#value?","text":"Does this node have a text value?","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#value?"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Reader.html#method-i-xml_version","level":2,"title":"class Nokogiri::XML::Reader#xml_version","text":"Get theXMLversion of the document being read","path":["class Nokogiri::XML::Reader","class Nokogiri::XML::Reader#xml_version"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/RelaxNG.html","level":1,"title":"class Nokogiri::XML::RelaxNG","text":"Nokogiri::XML::RelaxNG is used for validating XML against a RELAX NG schema definition. \ud83d\udee1 Do not use this class for untrusted schema documents. RELAX NG input is always treated as trusted , meaning that the underlying parsing libraries will access network resources . This is counter to Nokogiri\u2019s \u201cuntrusted by default\u201d security policy, but is an unfortunate limitation of the underlying libraries. Example: Determine whether an XML document is valid. schema = Nokogiri :: XML :: RelaxNG . new ( Fil","path":["class Nokogiri::XML::RelaxNG"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/RelaxNG.html#method-c-from_document","level":2,"title":"class Nokogiri::XML::RelaxNG.from_document(document) \u2192 Nokogiri::XML::RelaxNG","text":"Parse a RELAX NG schema definition from aDocumentto create a newNokogiri::XML::RelaxNG. document(XML::Document) A document containing the RELAX NG schema definition parse_options(Nokogiri::XML::ParseOptions) Defaults to ParseOptions::DEFAULT_SCHEMA \u26a0 Unused","path":["class Nokogiri::XML::RelaxNG","class Nokogiri::XML::RelaxNG.from_document(document) \u2192 Nokogiri::XML::RelaxNG"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/RelaxNG.html#method-c-new","level":2,"title":"class Nokogiri::XML::RelaxNG.new(input) \u2192 Nokogiri::XML::RelaxNG","text":"Parse a RELAX NG schema definition from a String or IO to create a newNokogiri::XML::RelaxNG. input(String | IO) RELAX NG schema definition options:(Nokogiri::XML::ParseOptions) Defaults to Nokogiri::XML::ParseOptions::DEFAULT_SCHEMA \u26a0 Unused","path":["class Nokogiri::XML::RelaxNG","class Nokogiri::XML::RelaxNG.new(input) \u2192 Nokogiri::XML::RelaxNG"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/RelaxNG.html#method-c-read_memory","level":2,"title":"class Nokogiri::XML::RelaxNG.read_memory(input) \u2192 Nokogiri::XML::RelaxNG","text":"Convenience method forNokogiri::XML::RelaxNG.new.","path":["class Nokogiri::XML::RelaxNG","class Nokogiri::XML::RelaxNG.read_memory(input) \u2192 Nokogiri::XML::RelaxNG"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html","level":1,"title":"class Nokogiri::XML::SAX::Document","text":"The SAX::Document class is used for registering types of events you are interested in handling. All of the methods on this class are available as possible events while parsing an XML document. To register for any particular event, subclass this class and implement the methods you are interested in knowing about. To only be notified about start and end element events, write a class like this: class MyHandler < Nokogiri :: XML :: SAX :: Document def start_element name , attrs = [] puts \"#{name} st","path":["class Nokogiri::XML::SAX::Document"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-cdata_block","level":2,"title":"class Nokogiri::XML::SAX::Document#cdata_block(string)","text":"Called when cdata blocks are found stringcontains the cdata content","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#cdata_block(string)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-characters","level":2,"title":"class Nokogiri::XML::SAX::Document#characters(string)","text":"Called when character data is parsed, and for parsed entities whenParserContext#replace_entitiesistrue. stringcontains the character data or entity replacement text \u26a0 Please seeEntity Handling atDocumentfor important information about how entities are handled.","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#characters(string)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-comment","level":2,"title":"class Nokogiri::XML::SAX::Document#comment(string)","text":"Called when comments are encountered stringcontains the comment data","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#comment(string)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-end_document","level":2,"title":"class Nokogiri::XML::SAX::Document#end_document()","text":"Called when document ends parsing.","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#end_document()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-end_element","level":2,"title":"class Nokogiri::XML::SAX::Document#end_element(name)","text":"Called at the end of an element. name(String) the name of the element being closed","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#end_element(name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-end_element_namespace","level":2,"title":"class Nokogiri::XML::SAX::Document#end_element_namespace(name, prefix = nil, uri = nil)","text":"Called at the end of an element. name(String) is the name of the element prefix(String, nil) is the namespace prefix for the element","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#end_element_namespace(name, prefix = nil, uri = nil)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-error","level":2,"title":"class Nokogiri::XML::SAX::Document#error(string)","text":"Called on document errors stringcontains the error","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#error(string)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-processing_instruction","level":2,"title":"class Nokogiri::XML::SAX::Document#processing_instruction(name, content)","text":"Called when processing instructions are found nameis the target of the instruction contentis the value of the instruction","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#processing_instruction(name, content)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-reference","level":2,"title":"class Nokogiri::XML::SAX::Document#reference(name, content)","text":"Called when a parsed entity is referenced and not replaced. name(String) is the name of the entity content(String, nil) is the replacement text for the entity, if known","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#reference(name, content)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-start_document","level":2,"title":"class Nokogiri::XML::SAX::Document#start_document()","text":"Called when document starts parsing.","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#start_document()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-start_element","level":2,"title":"class Nokogiri::XML::SAX::Document#start_element(name, attrs = [])","text":"Called at the beginning of an element. name(String) the name of the element attrs(Array<Array<String>>) an assoc list of namespace declarations and attributes, e.g.:","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#start_element(name, attrs = [])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-start_element_namespace","level":2,"title":"class Nokogiri::XML::SAX::Document#start_element_namespace(name, attrs = [], prefix = nil, uri = nil, ns = [])","text":"Called at the beginning of an element. name(String) is the name of the element attrs(Array<Attribute>) is an array of structs with the following properties:","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#start_element_namespace(name, attrs = [], prefix = nil, uri = nil, ns = [])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-warning","level":2,"title":"class Nokogiri::XML::SAX::Document#warning(string)","text":"Called on document warnings stringcontains the warning","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#warning(string)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Document.html#method-i-xmldecl","level":2,"title":"class Nokogiri::XML::SAX::Document#xmldecl(version, encoding, standalone)","text":"Called when an XML declaration is parsed. version(String) the version attribute encoding(String, nil) the encoding of the document if present, elsenil","path":["class Nokogiri::XML::SAX::Document","class Nokogiri::XML::SAX::Document#xmldecl(version, encoding, standalone)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Parser/Attribute.html","level":1,"title":"class Nokogiri::XML::SAX::Parser::Attribute","text":"Structure used for marshalling attributes for some callbacks in XML::SAX::Document .","path":["class Nokogiri::XML::SAX::Parser::Attribute"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/SAX/Parser.html","level":1,"title":"class Nokogiri::XML::SAX::Parser","text":"This parser is a SAX style parser that reads its input as it deems necessary. The parser takes a Nokogiri::XML::SAX::Document , an optional encoding, then given an XML input, sends messages to the Nokogiri::XML::SAX::Document . Here is an example of using this parser: # Create a subclass of Nokogiri::XML::SAX::Document and implement # the events we care about: class MyHandler < Nokogiri :: XML :: SAX :: Document def start_element name , attrs = [] puts \"starting: #{name}\" end def end_element nam","path":["class Nokogiri::XML::SAX::Parser"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/SAX/Parser.html#attribute-i-document","level":2,"title":"class Nokogiri::XML::SAX::Parser#document","text":"TheNokogiri::XML::SAX::Documentwhere events will be sent.","path":["class Nokogiri::XML::SAX::Parser","class Nokogiri::XML::SAX::Parser#document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Parser.html#attribute-i-encoding","level":2,"title":"class Nokogiri::XML::SAX::Parser#encoding","text":"The encoding beings used for this document.","path":["class Nokogiri::XML::SAX::Parser","class Nokogiri::XML::SAX::Parser#encoding"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Parser.html#method-c-new","level":2,"title":"class Nokogiri::XML::SAX::Parser.new \u21d2 SAX::Parser","text":"Create a newParser. handler(optionalNokogiri::XML::SAX::Document) The document that will receive events. Will create a newNokogiri::XML::SAX::Documentif not given, which is accessible through the#documentattribute. encoding(optional Encoding, String, nil) An Encoding or encoding name to use when par","path":["class Nokogiri::XML::SAX::Parser","class Nokogiri::XML::SAX::Parser.new \u21d2 SAX::Parser"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Parser.html#method-i-parse","level":2,"title":"class Nokogiri::XML::SAX::Parser#parse(input) { |parser_context| ... }","text":"Parse the input, sending events to theSAX::Documentat#document. input(String, IO) The input to parse. Ifinputquacks like a readable IO object, this method forwards toParser.parse_io, otherwise it forwards toParser.parse_memory.","path":["class Nokogiri::XML::SAX::Parser","class Nokogiri::XML::SAX::Parser#parse(input) { |parser_context| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Parser.html#method-i-parse_file","level":2,"title":"class Nokogiri::XML::SAX::Parser#parse_file(filename) { |parser_context| ... }","text":"Parse a file. filename(String) The path to the file to be parsed. encoding(optional Encoding, String, nil) An Encoding or encoding name to use when parsing the input, ornilfor auto-detection. (default#encoding)","path":["class Nokogiri::XML::SAX::Parser","class Nokogiri::XML::SAX::Parser#parse_file(filename) { |parser_context| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Parser.html#method-i-parse_io","level":2,"title":"class Nokogiri::XML::SAX::Parser#parse_io(io) { |parser_context| ... }","text":"Parse an input stream. io(IO) The readable IO object from which to read input encoding(optional Encoding, String, nil) An Encoding or encoding name to use when parsing the input, ornilfor auto-detection. (default#encoding)","path":["class Nokogiri::XML::SAX::Parser","class Nokogiri::XML::SAX::Parser#parse_io(io) { |parser_context| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Parser.html#method-i-parse_memory","level":2,"title":"class Nokogiri::XML::SAX::Parser#parse_memory(input) { |parser_context| ... }","text":"Parse an input string. input(String) The input string to be parsed. encoding(optional Encoding, String, nil) An Encoding or encoding name to use when parsing the input, ornilfor auto-detection. (default#encoding)","path":["class Nokogiri::XML::SAX::Parser","class Nokogiri::XML::SAX::Parser#parse_memory(input) { |parser_context| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/Parser.html#method-i-related_class","level":2,"title":"class Nokogiri::XML::SAX::Parser#related_class(class_name) \u2192 Class","text":"Find a class constant within the Some examples: Note this will also work for subclasses that follow the same convention, e.g.:","path":["class Nokogiri::XML::SAX::Parser","class Nokogiri::XML::SAX::Parser#related_class(class_name) \u2192 Class"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/ParserContext.html","level":1,"title":"class Nokogiri::XML::SAX::ParserContext","text":"Context object to invoke the XML SAX parser on the SAX::Document handler. \ud83d\udca1 This class is usually not instantiated by the user. Use Nokogiri::XML::SAX::Parser instead.","path":["class Nokogiri::XML::SAX::ParserContext"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/SAX/ParserContext.html#method-c-file","level":2,"title":"class Nokogiri::XML::SAX::ParserContext.file(path)","text":"Create a parser context for the file atpath. path(String) The path to the input file encoding(optional) (Encoding, String) TheEncodingto use, or the name of an encoding to use (defaultnil, encoding will be autodetected)","path":["class Nokogiri::XML::SAX::ParserContext","class Nokogiri::XML::SAX::ParserContext.file(path)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/ParserContext.html#method-c-io","level":2,"title":"class Nokogiri::XML::SAX::ParserContext.io(input)","text":"Create a parser context for aninputIO which will assumeencoding io(IO) The readable IO object from which to read input encoding(optional) (Encoding) TheEncodingto use, or the name of an encoding to use (defaultnil, encoding will be autodetected)","path":["class Nokogiri::XML::SAX::ParserContext","class Nokogiri::XML::SAX::ParserContext.io(input)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/ParserContext.html#method-c-memory","level":2,"title":"class Nokogiri::XML::SAX::ParserContext.memory(input)","text":"Create a parser context for theinputString. input(String) The input string to be parsed. encoding(optional) (Encoding, String) TheEncodingto use, or the name of an encoding to use (defaultnil, encoding will be autodetected)","path":["class Nokogiri::XML::SAX::ParserContext","class Nokogiri::XML::SAX::ParserContext.memory(input)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/ParserContext.html#method-c-new","level":2,"title":"class Nokogiri::XML::SAX::ParserContext.new(input)","text":"Create a parser context for an IO or a String. This is a shorthand method forParserContext.ioandParserContext.memory. input(IO, String) A String or a readable IO object encoding(optional) (Encoding) TheEncodingto use, or the name of an encoding to use (defaultnil, encoding will be autodetected)","path":["class Nokogiri::XML::SAX::ParserContext","class Nokogiri::XML::SAX::ParserContext.new(input)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/ParserContext.html#method-i-column","level":2,"title":"class Nokogiri::XML::SAX::ParserContext#column","text":"(Integer) the column number of the column being currently parsed.","path":["class Nokogiri::XML::SAX::ParserContext","class Nokogiri::XML::SAX::ParserContext#column"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/ParserContext.html#method-i-line","level":2,"title":"class Nokogiri::XML::SAX::ParserContext#line","text":"(Integer) the line number of the line being currently parsed.","path":["class Nokogiri::XML::SAX::ParserContext","class Nokogiri::XML::SAX::ParserContext#line"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/ParserContext.html#method-i-parse_with","level":2,"title":"class Nokogiri::XML::SAX::ParserContext#parse_with(sax_handler)","text":"Usesax_handlerand parse the current document \ud83d\udca1 Calling this method directly is discouraged. UseNokogiri::XML::SAX::Parsermethods which are more convenient for most use cases.","path":["class Nokogiri::XML::SAX::ParserContext","class Nokogiri::XML::SAX::ParserContext#parse_with(sax_handler)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/ParserContext.html#method-i-recovery","level":2,"title":"class Nokogiri::XML::SAX::ParserContext#recovery","text":"Inspect whether this parser will recover from parsing errors. If set totrue, the parser will invoke theSAX::Document#errorcallback and continue processing the file. If set tofalse, the parser will stop processing the file on the first parsing error. (Boolean) Whether this parser will recover from pa","path":["class Nokogiri::XML::SAX::ParserContext","class Nokogiri::XML::SAX::ParserContext#recovery"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/ParserContext.html#method-i-recovery-3D","level":2,"title":"class Nokogiri::XML::SAX::ParserContext#recovery=(value)","text":"Controls whether this parser will recover from parsing errors. If set totrue, the parser will invoke theSAX::Document#errorcallback and continue processing the file. If set tofalse, the parser will stop processing the file on the first parsing error. value(Boolean) Recover from parsing errors. (Defa","path":["class Nokogiri::XML::SAX::ParserContext","class Nokogiri::XML::SAX::ParserContext#recovery=(value)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/ParserContext.html#method-i-replace_entities","level":2,"title":"class Nokogiri::XML::SAX::ParserContext#replace_entities","text":"SeeEntity Handling atDocumentfor an explanation of the behavior controlled by this flag. (Boolean) Value of the parse option. (Defaultfalse) This option is perhaps misnamed by the libxml2 author, since it controls resolution and not replacement.","path":["class Nokogiri::XML::SAX::ParserContext","class Nokogiri::XML::SAX::ParserContext#replace_entities"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/ParserContext.html#method-i-replace_entities-3D","level":2,"title":"class Nokogiri::XML::SAX::ParserContext#replace_entities=(value)","text":"SeeEntity Handling atDocumentfor an explanation of the behavior controlled by this flag. value(Boolean) Whether external parsed entities will be resolved. \u26a0It is UNSAFE to set this option totruewhen parsing untrusted documents. The option defaults tofalsefor this reason.","path":["class Nokogiri::XML::SAX::ParserContext","class Nokogiri::XML::SAX::ParserContext#replace_entities=(value)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/PushParser.html","level":1,"title":"class Nokogiri::XML::SAX::PushParser","text":"PushParser can parse a document that is fed to it manually.  It must be given a SAX::Document object which will be called with SAX events as the document is being parsed. Calling PushParser#<< writes XML to the parser, calling any SAX callbacks it can. PushParser#finish tells the parser that the document is finished and calls the end_document SAX method. Example: parser = PushParser . new ( Class . new ( XML :: SAX :: Document ) { def start_document puts \"start document called\" end }. new ) pars","path":["class Nokogiri::XML::SAX::PushParser"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/SAX/PushParser.html#attribute-i-document","level":2,"title":"class Nokogiri::XML::SAX::PushParser#document","text":"TheNokogiri::XML::SAX::Documenton which thePushParserwill be operating","path":["class Nokogiri::XML::SAX::PushParser","class Nokogiri::XML::SAX::PushParser#document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/PushParser.html#method-c-new","level":2,"title":"class Nokogiri::XML::SAX::PushParser.new(doc = XML::SAX::Document.new, file_name = nil, encoding = \"UTF-8\")","text":"Create a newPushParserwithdocas theSAXDocument, providing an optionalfile_nameandencoding","path":["class Nokogiri::XML::SAX::PushParser","class Nokogiri::XML::SAX::PushParser.new(doc = XML::SAX::Document.new, file_name = nil, encoding = \"UTF-8\")"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/PushParser.html#method-i-3C-3C","level":2,"title":"class Nokogiri::XML::SAX::PushParser#<<(chunk, last_chunk = false)","text":"","path":["class Nokogiri::XML::SAX::PushParser","class Nokogiri::XML::SAX::PushParser#<<(chunk, last_chunk = false)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/PushParser.html#method-i-finish","level":2,"title":"class Nokogiri::XML::SAX::PushParser#finish()","text":"Finish the parsing.  This method is only necessary forNokogiri::XML::SAX::Document#end_documentto be called. \u26a0 Note that empty documents are treated as an error when using the libxml2-based implementation (CRuby), but are fine when using the Xerces-based implementation (JRuby).","path":["class Nokogiri::XML::SAX::PushParser","class Nokogiri::XML::SAX::PushParser#finish()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/PushParser.html#method-i-options","level":2,"title":"class Nokogiri::XML::SAX::PushParser#options()","text":"","path":["class Nokogiri::XML::SAX::PushParser","class Nokogiri::XML::SAX::PushParser#options()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/PushParser.html#method-i-options-3D","level":2,"title":"class Nokogiri::XML::SAX::PushParser#options=(p1)","text":"","path":["class Nokogiri::XML::SAX::PushParser","class Nokogiri::XML::SAX::PushParser#options=(p1)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/PushParser.html#method-i-replace_entities","level":2,"title":"class Nokogiri::XML::SAX::PushParser#replace_entities","text":"SeeEntity Handling atDocumentfor an explanation of the behavior controlled by this flag. (Boolean) Value of the parse option. (Defaultfalse) This option is perhaps misnamed by the libxml2 author, since it controls resolution and not replacement.","path":["class Nokogiri::XML::SAX::PushParser","class Nokogiri::XML::SAX::PushParser#replace_entities"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/PushParser.html#method-i-replace_entities-3D","level":2,"title":"class Nokogiri::XML::SAX::PushParser#replace_entities=(value)","text":"SeeEntity Handling atDocumentfor an explanation of the behavior controlled by this flag. value(Boolean) Whether external parsed entities will be resolved. \u26a0It is UNSAFE to set this option totruewhen parsing untrusted documents. The option defaults tofalsefor this reason.","path":["class Nokogiri::XML::SAX::PushParser","class Nokogiri::XML::SAX::PushParser#replace_entities=(value)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX/PushParser.html#method-i-write","level":2,"title":"class Nokogiri::XML::SAX::PushParser#write(chunk, last_chunk = false)","text":"Write achunkofXMLto thePushParser.  Any callback methods that can be called will be called immediately.","path":["class Nokogiri::XML::SAX::PushParser","class Nokogiri::XML::SAX::PushParser#write(chunk, last_chunk = false)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SAX.html","level":1,"title":"module Nokogiri::XML::SAX","text":"SAX Parsers are event-driven parsers. Two SAX parsers for XML are available, a parser that reads from a string or IO object as it feels necessary, and a parser that you explicitly feed XML in chunks. If you want to let Nokogiri deal with reading your XML , use the Nokogiri::XML::SAX::Parser . If you want to have fine grain control over the XML input, use the Nokogiri::XML::SAX::PushParser . If you want to do SAX style parsing of HTML , check out Nokogiri::HTML4::SAX . The basic way a SAX style p","path":["module Nokogiri::XML::SAX"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Schema.html","level":1,"title":"class Nokogiri::XML::Schema","text":"Nokogiri::XML::Schema is used for validating XML against an XSD schema definition. \u26a0 Since v1.11.0, Schema treats inputs as untrusted by default, and so external entities are not resolved from the network ( http:// or ftp:// ). When parsing a trusted document, the caller may turn off the NONET option via the ParseOptions to (re-)enable external entity resolution over a network connection. \ud83d\udee1 Before v1.11.0, documents were \u201ctrusted\u201d by default during schema parsing which was counter to Nokogiri\u2019s ","path":["class Nokogiri::XML::Schema"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Schema.html#attribute-i-errors","level":2,"title":"class Nokogiri::XML::Schema#errors","text":"The errors found while parsing the XSD Array<Nokogiri::XML::SyntaxError>","path":["class Nokogiri::XML::Schema","class Nokogiri::XML::Schema#errors"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Schema.html#attribute-i-parse_options","level":2,"title":"class Nokogiri::XML::Schema#parse_options","text":"The options used to parse the schema Nokogiri::XML::ParseOptions","path":["class Nokogiri::XML::Schema","class Nokogiri::XML::Schema#parse_options"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Schema.html#method-c-from_document","level":2,"title":"class Nokogiri::XML::Schema.from_document(input) \u2192 Nokogiri::XML::Schema","text":"Parse an XSD schema definition from aDocumentto create a newNokogiri::XML::Schema input(XML::Document) A document containing the XSD schema definition parse_options(Nokogiri::XML::ParseOptions) Defaults to Nokogiri::XML::ParseOptions::DEFAULT_SCHEMA","path":["class Nokogiri::XML::Schema","class Nokogiri::XML::Schema.from_document(input) \u2192 Nokogiri::XML::Schema"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Schema.html#method-c-new","level":2,"title":"class Nokogiri::XML::Schema.new(input) \u2192 Nokogiri::XML::Schema","text":"Parse an XSD schema definition from a String or IO to create a newNokogiri::XML::Schema input(String | IO) XSD schema definition parse_options(Nokogiri::XML::ParseOptions) Defaults to Nokogiri::XML::ParseOptions::DEFAULT_SCHEMA","path":["class Nokogiri::XML::Schema","class Nokogiri::XML::Schema.new(input) \u2192 Nokogiri::XML::Schema"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Schema.html#method-c-read_memory","level":2,"title":"class Nokogiri::XML::Schema.read_memory(input) \u2192 Nokogiri::XML::Schema","text":"Convenience method forNokogiri::XML::Schema.new","path":["class Nokogiri::XML::Schema","class Nokogiri::XML::Schema.read_memory(input) \u2192 Nokogiri::XML::Schema"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Schema.html#method-i-valid-3F","level":2,"title":"class Nokogiri::XML::Schema#valid?(input) \u2192 Boolean","text":"Validateinputand return a Boolean indicating whether the document is valid input(Nokogiri::XML::Document| String) A parsed document, or a string containing a local filename. Boolean","path":["class Nokogiri::XML::Schema","class Nokogiri::XML::Schema#valid?(input) \u2192 Boolean"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Schema.html#method-i-validate","level":2,"title":"class Nokogiri::XML::Schema#validate(input) \u2192 Array<SyntaxError>","text":"Validateinputand return any errors that are found. input(Nokogiri::XML::Document| String) A parsed document, or a string containing a local filename. Array<SyntaxError>","path":["class Nokogiri::XML::Schema","class Nokogiri::XML::Schema#validate(input) \u2192 Array<SyntaxError>"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Searchable.html","level":1,"title":"module Nokogiri::XML::Searchable","text":"The Searchable module declares the interface used for searching your DOM. It implements the public methods #search , #css , and #xpath , as well as allowing specific implementations to specialize some of the important behaviors.","path":["module Nokogiri::XML::Searchable"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Searchable.html#method-i-25","level":2,"title":"module Nokogiri::XML::Searchable#%","text":"","path":["module Nokogiri::XML::Searchable","module Nokogiri::XML::Searchable#%"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Searchable.html#method-i-2F","level":2,"title":"module Nokogiri::XML::Searchable#/","text":"","path":["module Nokogiri::XML::Searchable","module Nokogiri::XML::Searchable#/"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Searchable.html#method-i-3E","level":2,"title":"module Nokogiri::XML::Searchable#>(selector) \u2192 NodeSet","text":"Search this node\u2019s immediate children usingCSSselectorselector","path":["module Nokogiri::XML::Searchable","module Nokogiri::XML::Searchable#>(selector) \u2192 NodeSet"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Searchable.html#method-i-at","level":2,"title":"module Nokogiri::XML::Searchable#at(*paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class])","text":"Search this object forpaths, and return only the first result.pathsmust be one or moreXPathorCSSqueries. SeeSearchable#searchfor more information.","path":["module Nokogiri::XML::Searchable","module Nokogiri::XML::Searchable#at(*paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Searchable.html#method-i-at_css","level":2,"title":"module Nokogiri::XML::Searchable#at_css(*rules, [namespace-bindings, custom-pseudo-class])","text":"Search this object forCSSrules, and return only the first match.rulesmust be one or moreCSSselectors. SeeSearchable#cssfor more information.","path":["module Nokogiri::XML::Searchable","module Nokogiri::XML::Searchable#at_css(*rules, [namespace-bindings, custom-pseudo-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Searchable.html#method-i-at_xpath","level":2,"title":"module Nokogiri::XML::Searchable#at_xpath(*paths, [namespace-bindings, variable-bindings, custom-handler-class])","text":"Search this node forXPathpaths, and return only the first match.pathsmust be one or moreXPathqueries. SeeSearchable#xpathfor more information.","path":["module Nokogiri::XML::Searchable","module Nokogiri::XML::Searchable#at_xpath(*paths, [namespace-bindings, variable-bindings, custom-handler-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Searchable.html#method-i-css","level":2,"title":"module Nokogiri::XML::Searchable#css(*rules, [namespace-bindings, custom-pseudo-class])","text":"Search this object forCSSrules.rulesmust be one or moreCSSselectors. For example: A hash of namespace bindings may be appended. For example: \ud83d\udca1 CustomCSSpseudo classes may also be defined which are mapped to a customXPathfunction.  To define custom pseudo classes, create a class and implement the cus","path":["module Nokogiri::XML::Searchable","module Nokogiri::XML::Searchable#css(*rules, [namespace-bindings, custom-pseudo-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Searchable.html#method-i-search","level":2,"title":"module Nokogiri::XML::Searchable#search(*paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class])","text":"Search this object forpaths.pathsmust be one or moreXPathorCSSqueries: A hash of namespace bindings may be appended: ForXPathqueries, a hash of variable bindings may also be appended to the namespace bindings. For example:","path":["module Nokogiri::XML::Searchable","module Nokogiri::XML::Searchable#search(*paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Searchable.html#method-i-xpath","level":2,"title":"module Nokogiri::XML::Searchable#xpath(*paths, [namespace-bindings, variable-bindings, custom-handler-class])","text":"Search this node forXPathpaths.pathsmust be one or moreXPathqueries. A hash of namespace bindings may be appended. For example: A hash of variable bindings may also be appended to the namespace bindings. For example:","path":["module Nokogiri::XML::Searchable","module Nokogiri::XML::Searchable#xpath(*paths, [namespace-bindings, variable-bindings, custom-handler-class])"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html","level":1,"title":"class Nokogiri::XML::SyntaxError","text":"The XML::SyntaxError is raised on parse errors This class provides information about XML SyntaxErrors.  These exceptions are typically stored on Nokogiri::XML::Document#errors .","path":["class Nokogiri::XML::SyntaxError"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#attribute-i-code","level":2,"title":"class Nokogiri::XML::SyntaxError#code","text":"","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#code"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#attribute-i-column","level":2,"title":"class Nokogiri::XML::SyntaxError#column","text":"","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#column"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#attribute-i-domain","level":2,"title":"class Nokogiri::XML::SyntaxError#domain","text":"","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#domain"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#attribute-i-file","level":2,"title":"class Nokogiri::XML::SyntaxError#file","text":"","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#file"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#attribute-i-int1","level":2,"title":"class Nokogiri::XML::SyntaxError#int1","text":"","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#int1"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#attribute-i-level","level":2,"title":"class Nokogiri::XML::SyntaxError#level","text":"","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#level"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#attribute-i-line","level":2,"title":"class Nokogiri::XML::SyntaxError#line","text":"","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#line"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#attribute-i-path","level":2,"title":"class Nokogiri::XML::SyntaxError#path","text":"TheXPathpath of the node that caused the error when validating a \u2018Nokogiri::XML::Document`. This attribute will only be non-nil when the error is emitted by \u2018Schema#validate` onDocumentobjects. It will return `nil` for DOM parsing errors and for errors emitted duringSchemavalidation of files. \u26a0 \u2018#pa","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#path"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#attribute-i-str1","level":2,"title":"class Nokogiri::XML::SyntaxError#str1","text":"","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#str1"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#attribute-i-str2","level":2,"title":"class Nokogiri::XML::SyntaxError#str2","text":"","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#str2"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#attribute-i-str3","level":2,"title":"class Nokogiri::XML::SyntaxError#str3","text":"","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#str3"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#method-c-aggregate","level":2,"title":"class Nokogiri::XML::SyntaxError.aggregate(errors)","text":"","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError.aggregate(errors)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#method-i-error-3F","level":2,"title":"class Nokogiri::XML::SyntaxError#error?()","text":"return true if this is an error","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#error?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#method-i-fatal-3F","level":2,"title":"class Nokogiri::XML::SyntaxError#fatal?()","text":"return true if this error is fatal","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#fatal?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#method-i-none-3F","level":2,"title":"class Nokogiri::XML::SyntaxError#none?()","text":"return true if this is a non error","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#none?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#method-i-to_s","level":2,"title":"class Nokogiri::XML::SyntaxError#to_s()","text":"","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#to_s()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/SyntaxError.html#method-i-warning-3F","level":2,"title":"class Nokogiri::XML::SyntaxError#warning?()","text":"return true if this is a warning","path":["class Nokogiri::XML::SyntaxError","class Nokogiri::XML::SyntaxError#warning?()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Text.html","level":1,"title":"class Nokogiri::XML::Text","text":"Wraps Text nodes.","path":["class Nokogiri::XML::Text"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/Text.html#method-c-new","level":2,"title":"class Nokogiri::XML::Text.new(content, document)","text":"Create a newTextelement on thedocumentwithcontent","path":["class Nokogiri::XML::Text","class Nokogiri::XML::Text.new(content, document)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/Text.html#method-i-content-3D","level":2,"title":"class Nokogiri::XML::Text#content=(string)","text":"","path":["class Nokogiri::XML::Text","class Nokogiri::XML::Text#content=(string)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/XPath/SyntaxError.html","level":1,"title":"class Nokogiri::XML::XPath::SyntaxError","text":"","path":["class Nokogiri::XML::XPath::SyntaxError"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/XPath/SyntaxError.html#method-i-to_s","level":2,"title":"class Nokogiri::XML::XPath::SyntaxError#to_s()","text":"","path":["class Nokogiri::XML::XPath::SyntaxError","class Nokogiri::XML::XPath::SyntaxError#to_s()"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/XPath.html","level":1,"title":"module Nokogiri::XML::XPath","text":"","path":["module Nokogiri::XML::XPath"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/XPathContext.html","level":1,"title":"class Nokogiri::XML::XPathContext","text":"XPathContext is the entry point for searching a Document by using XPath .","path":["class Nokogiri::XML::XPathContext"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML/XPathContext.html#method-c-new","level":2,"title":"class Nokogiri::XML::XPathContext.new(node)","text":"Create a newXPathContextwithnodeas the context node.","path":["class Nokogiri::XML::XPathContext","class Nokogiri::XML::XPathContext.new(node)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/XPathContext.html#method-i-evaluate","level":2,"title":"class Nokogiri::XML::XPathContext#evaluate(search_path, handler = nil) \u2192 Object","text":"Evaluate thesearch_pathquery. an object of the appropriate type for the query, which could beNodeSet, aString, aFloat, or a boolean.","path":["class Nokogiri::XML::XPathContext","class Nokogiri::XML::XPathContext#evaluate(search_path, handler = nil) \u2192 Object"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/XPathContext.html#method-i-register_namespaces","level":2,"title":"class Nokogiri::XML::XPathContext#register_namespaces(namespaces)","text":"Register namespaces innamespaces","path":["class Nokogiri::XML::XPathContext","class Nokogiri::XML::XPathContext#register_namespaces(namespaces)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/XPathContext.html#method-i-register_ns","level":2,"title":"class Nokogiri::XML::XPathContext#register_ns(prefix, uri) \u2192 Nokogiri::XML::XPathContext","text":"Register the namespace withprefixandurifor use in future queries. Passing a uri ofnilwill unregister the namespace. self","path":["class Nokogiri::XML::XPathContext","class Nokogiri::XML::XPathContext#register_ns(prefix, uri) \u2192 Nokogiri::XML::XPathContext"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/XPathContext.html#method-i-register_variable","level":2,"title":"class Nokogiri::XML::XPathContext#register_variable(name, value) \u2192 Nokogiri::XML::XPathContext","text":"Register the variablenamewithvaluefor use in future queries. Passing a value ofnilwill unregister the variable. self","path":["class Nokogiri::XML::XPathContext","class Nokogiri::XML::XPathContext#register_variable(name, value) \u2192 Nokogiri::XML::XPathContext"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML/XPathContext.html#method-i-register_variables","level":2,"title":"class Nokogiri::XML::XPathContext#register_variables(binds)","text":"","path":["class Nokogiri::XML::XPathContext","class Nokogiri::XML::XPathContext#register_variables(binds)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML.html","level":1,"title":"module Nokogiri::XML","text":"","path":["module Nokogiri::XML"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XML.html#method-c-Reader","level":2,"title":"module Nokogiri::XML.Reader(...)","text":"Convenience method forNokogiri::XML::Reader.new","path":["module Nokogiri::XML","module Nokogiri::XML.Reader(...)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML.html#method-c-RelaxNG","level":2,"title":"module Nokogiri::XML.RelaxNG(input) \u2192 Nokogiri::XML::RelaxNG","text":"Convenience method forNokogiri::XML::RelaxNG.new","path":["module Nokogiri::XML","module Nokogiri::XML.RelaxNG(input) \u2192 Nokogiri::XML::RelaxNG"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML.html#method-c-Schema","level":2,"title":"module Nokogiri::XML.Schema(input) \u2192 Nokogiri::XML::Schema","text":"Convenience method forNokogiri::XML::Schema.new","path":["module Nokogiri::XML","module Nokogiri::XML.Schema(input) \u2192 Nokogiri::XML::Schema"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML.html#method-c-fragment","level":2,"title":"module Nokogiri::XML.fragment(...)","text":"Convenience method forNokogiri::XML::DocumentFragment.parse","path":["module Nokogiri::XML","module Nokogiri::XML.fragment(...)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XML.html#method-c-parse","level":2,"title":"module Nokogiri::XML.parse(...)","text":"Convenience method forNokogiri::XML::Document.parse","path":["module Nokogiri::XML","module Nokogiri::XML.parse(...)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XSLT/Stylesheet.html","level":1,"title":"class Nokogiri::XSLT::Stylesheet","text":"A Stylesheet represents an XSLT Stylesheet object. Stylesheet creation is done through Nokogiri.XSLT .  Here is an example of transforming an XML::Document with a Stylesheet: doc = Nokogiri :: XML ( File . read ( 'some_file.xml' )) xslt = Nokogiri :: XSLT ( File . read ( 'some_transformer.xslt' )) xslt . transform ( doc ) # => Nokogiri::XML::Document Many XSLT transformations include serialization behavior to emit a non-XML document. For these cases, please take care to invoke the #serialize met","path":["class Nokogiri::XSLT::Stylesheet"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XSLT/Stylesheet.html#method-c-parse_stylesheet_doc","level":2,"title":"class Nokogiri::XSLT::Stylesheet.parse_stylesheet_doc(document)","text":"Parse anXSLT::Stylesheetfromdocument. document(Nokogiri::XML::Document) the document to be parsed. Nokogiri::XSLT::Stylesheet","path":["class Nokogiri::XSLT::Stylesheet","class Nokogiri::XSLT::Stylesheet.parse_stylesheet_doc(document)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XSLT/Stylesheet.html#method-i-apply_to","level":2,"title":"class Nokogiri::XSLT::Stylesheet#apply_to(document, params = []) \u2192 String","text":"Apply anXSLTstylesheet to anXML::Documentand serialize it properly. This method is equivalent to calling#serializeon the result of#transform. documentis an instance ofXML::Documentto transform paramsis an array of strings used asXSLTparameters, passed into#transform","path":["class Nokogiri::XSLT::Stylesheet","class Nokogiri::XSLT::Stylesheet#apply_to(document, params = []) \u2192 String"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XSLT/Stylesheet.html#method-i-serialize","level":2,"title":"class Nokogiri::XSLT::Stylesheet#serialize(document)","text":"Serializedocumentto an xml string, as specified by themethodparameter in theStylesheet.","path":["class Nokogiri::XSLT::Stylesheet","class Nokogiri::XSLT::Stylesheet#serialize(document)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XSLT/Stylesheet.html#method-i-transform","level":2,"title":"class Nokogiri::XSLT::Stylesheet#transform(document)","text":"Transform anXML::Documentas defined by anXSLT::Stylesheet. document(Nokogiri::XML::Document) the document to be transformed. params(Hash, Array) strings used asXSLTparameters.","path":["class Nokogiri::XSLT::Stylesheet","class Nokogiri::XSLT::Stylesheet#transform(document)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XSLT.html","level":1,"title":"module Nokogiri::XSLT","text":"See Nokogiri::XSLT::Stylesheet for creating and manipulating Stylesheet object.","path":["module Nokogiri::XSLT"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri/XSLT.html#method-c-parse","level":2,"title":"module Nokogiri::XSLT.parse(xsl) \u2192 Nokogiri::XSLT::Stylesheet","text":"Parse the stylesheet inxsl, registering optionalmodulesas custom class handlers. xsl(String) XSL content to be parsed into a stylesheet modules(Hash<String \u21d2 Class>) A hash of URI-to-handler relations for linking a namespace to a custom function handler.","path":["module Nokogiri::XSLT","module Nokogiri::XSLT.parse(xsl) \u2192 Nokogiri::XSLT::Stylesheet"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XSLT.html#method-c-quote_params","level":2,"title":"module Nokogiri::XSLT.quote_params(params) \u2192 Array","text":"Quote parameters inparamsfor stylesheet safety. SeeNokogiri::XSLT::Stylesheet.transformfor example usage. params(Hash, Array)XSLTparameters (key->value, or tuples of [key, value]) Array of string parameters, with quotes correctly escaped for use withXSLT::Stylesheet.transform","path":["module Nokogiri::XSLT","module Nokogiri::XSLT.quote_params(params) \u2192 Array"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri/XSLT.html#method-c-register","level":2,"title":"module Nokogiri::XSLT.register(uri, custom_handler_class)","text":"Register a class that implements customXSLTtransformation functions. \u26a0 TheXSLThandler classes are registeredglobally. [Parameters}","path":["module Nokogiri::XSLT","module Nokogiri::XSLT.register(uri, custom_handler_class)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri.html","level":1,"title":"module Nokogiri","text":"Nokogiri parses and searches XML/HTML very quickly, and also has correctly implemented CSS3 selector support as well as XPath 1.0 support. Parsing a document returns either a Nokogiri::XML::Document , or a Nokogiri::HTML4::Document depending on the kind of document you parse. Here is an example: require 'nokogiri' require 'open-uri' # Get a Nokogiri::HTML4::Document for the page we\u2019re interested in... doc = Nokogiri :: HTML4 ( URI . open ( 'http://www.google.com/search?q=tenderlove' )) # Do funk","path":["module Nokogiri"],"tags":["api","rdoc"]},{"location":"rdoc/Nokogiri.html#method-c-HTML","level":2,"title":"module Nokogiri.HTML(input, url = nil, encoding = nil, options = XML::ParseOptions::DEFAULT_HTML, &block) \u2192 Nokogiri::HTML4::Document","text":"ParseHTML. Convenience method forNokogiri::HTML4::Document.parse","path":["module Nokogiri","module Nokogiri.HTML(input, url = nil, encoding = nil, options = XML::ParseOptions::DEFAULT_HTML, &block) \u2192 Nokogiri::HTML4::Document"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri.html#method-c-HTML4","level":2,"title":"module Nokogiri.HTML4(...)","text":"Convenience method forNokogiri::HTML4::Document.parse","path":["module Nokogiri","module Nokogiri.HTML4(...)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri.html#method-c-HTML5","level":2,"title":"module Nokogiri.HTML5(...)","text":"Convenience method forNokogiri::HTML5::Document.parse","path":["module Nokogiri","module Nokogiri.HTML5(...)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri.html#method-c-Slop","level":2,"title":"module Nokogiri.Slop(*args, &block)","text":"Parse a document and add theSlopdecorator.  TheSlopdecorator implements method_missing such that methods may be used instead ofCSSor XPath.  For example:","path":["module Nokogiri","module Nokogiri.Slop(*args, &block)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri.html#method-c-XML","level":2,"title":"module Nokogiri.XML(...)","text":"Convenience method forNokogiri::XML::Document.parse","path":["module Nokogiri","module Nokogiri.XML(...)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri.html#method-c-XSLT","level":2,"title":"module Nokogiri.XSLT(...)","text":"Convenience method forNokogiri::XSLT.parse","path":["module Nokogiri","module Nokogiri.XSLT(...)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri.html#method-c-make","level":2,"title":"module Nokogiri.make(input = nil, opts = {}, &blk)","text":"Create a newNokogiri::XML::DocumentFragment","path":["module Nokogiri","module Nokogiri.make(input = nil, opts = {}, &blk)"],"tags":["api","rdoc","method"]},{"location":"rdoc/Nokogiri.html#method-c-parse","level":2,"title":"module Nokogiri.parse(string, url = nil, encoding = nil, options = nil) { |doc| ... }","text":"Parse anHTMLorXMLdocument.stringcontains the document.","path":["module Nokogiri","module Nokogiri.parse(string, url = nil, encoding = nil, options = nil) { |doc| ... }"],"tags":["api","rdoc","method"]},{"location":"rdoc/Object.html","level":1,"title":"class Object","text":"","path":["class Object"],"tags":["api","rdoc"]},{"location":"rdoc/Object.html#method-i-Nokogiri","level":2,"title":"class Object#Nokogiri(*args, &block)","text":"Parse a document contained inargs.Nokogiriwill try to guess what type of document you are attempting to parse.  For more information, seeNokogiri.parse To specify the type of document, use {Nokogiri.XML}, {Nokogiri.HTML4}, or {Nokogiri.HTML5}.","path":["class Object","class Object#Nokogiri(*args, &block)"],"tags":["api","rdoc","method"]},{"location":"rdoc/XSD/XMLParser/Nokogiri.html","level":1,"title":"class XSD::XMLParser::Nokogiri","text":"Nokogiri XML parser for soap4r. Nokogiri may be used as the XML parser in soap4r. Require \u2018xsd/xmlparser/nokogiri\u2019 in your soap4r applications, and soap4r will use Nokogiri as its XML parser. No other changes should be required to use Nokogiri as the XML parser. Example (using UW ITS Web Services): require 'rubygems' require 'nokogiri' gem 'soap4r' require 'defaultDriver' require 'xsd/xmlparser/nokogiri' obj = AvlPortType . new obj . getLatestByRoute ( obj . getAgencies . first , 8 ). each do | ","path":["class XSD::XMLParser::Nokogiri"],"tags":["api","rdoc"]},{"location":"rdoc/XSD/XMLParser/Nokogiri.html#method-c-new","level":2,"title":"class XSD::XMLParser::Nokogiri.new(host, opt = {})","text":"Create a newXSDparser withhostandopt","path":["class XSD::XMLParser::Nokogiri","class XSD::XMLParser::Nokogiri.new(host, opt = {})"],"tags":["api","rdoc","method"]},{"location":"rdoc/XSD/XMLParser/Nokogiri.html#method-i-cdata_block","level":2,"title":"class XSD::XMLParser::Nokogiri#cdata_block(string)","text":"Handle cdata_blocks containingstring","path":["class XSD::XMLParser::Nokogiri","class XSD::XMLParser::Nokogiri#cdata_block(string)"],"tags":["api","rdoc","method"]},{"location":"rdoc/XSD/XMLParser/Nokogiri.html#method-i-do_parse","level":2,"title":"class XSD::XMLParser::Nokogiri#do_parse(string_or_readable)","text":"Start parsingstring_or_readable","path":["class XSD::XMLParser::Nokogiri","class XSD::XMLParser::Nokogiri#do_parse(string_or_readable)"],"tags":["api","rdoc","method"]},{"location":"rdoc/XSD/XMLParser/Nokogiri.html#method-i-end_element","level":2,"title":"class XSD::XMLParser::Nokogiri#end_element(name)","text":"Handle theend_elementevent withname","path":["class XSD::XMLParser::Nokogiri","class XSD::XMLParser::Nokogiri#end_element(name)"],"tags":["api","rdoc","method"]},{"location":"rdoc/XSD/XMLParser/Nokogiri.html#method-i-end_element_namespace","level":2,"title":"class XSD::XMLParser::Nokogiri#end_element_namespace(name, prefix = nil, uri = nil)","text":"Called at the end of an elementnameis the element\u2019s nameprefixis the namespace prefix associated with the elementuriis the associated namespace URI","path":["class XSD::XMLParser::Nokogiri","class XSD::XMLParser::Nokogiri#end_element_namespace(name, prefix = nil, uri = nil)"],"tags":["api","rdoc","method"]},{"location":"rdoc/XSD/XMLParser/Nokogiri.html#method-i-error","level":2,"title":"class XSD::XMLParser::Nokogiri#error(msg)","text":"Handle errors with messagemsg","path":["class XSD::XMLParser::Nokogiri","class XSD::XMLParser::Nokogiri#error(msg)"],"tags":["api","rdoc","method"]},{"location":"rdoc/XSD/XMLParser/Nokogiri.html#method-i-start_element","level":2,"title":"class XSD::XMLParser::Nokogiri#start_element(name, attrs = [])","text":"Handle thestart_elementevent withnameandattrs","path":["class XSD::XMLParser::Nokogiri","class XSD::XMLParser::Nokogiri#start_element(name, attrs = [])"],"tags":["api","rdoc","method"]},{"location":"rdoc/XSD/XMLParser/Nokogiri.html#method-i-start_element_namespace","level":2,"title":"class XSD::XMLParser::Nokogiri#start_element_namespace(name, attrs = [], prefix = nil, uri = nil, ns = [])","text":"Called at the beginning of an elementnameis the element nameattrsis a list of attributesprefixis the namespace prefix for the elementuriis the associated namespace URInsis a hash of namespace prefix:urls associated with the element","path":["class XSD::XMLParser::Nokogiri","class XSD::XMLParser::Nokogiri#start_element_namespace(name, attrs = [], prefix = nil, uri = nil, ns = [])"],"tags":["api","rdoc","method"]},{"location":"rdoc/XSD/XMLParser/Nokogiri.html#method-i-warning","level":2,"title":"class XSD::XMLParser::Nokogiri#warning(msg)","text":"","path":["class XSD::XMLParser::Nokogiri","class XSD::XMLParser::Nokogiri#warning(msg)"],"tags":["api","rdoc","method"]},{"location":"rdoc/XSD/XMLParser.html","level":1,"title":"module XSD::XMLParser","text":"","path":["module XSD::XMLParser"],"tags":["api","rdoc"]},{"location":"rdoc/XSD.html","level":1,"title":"module XSD","text":"","path":["module XSD"],"tags":["api","rdoc"]}]}